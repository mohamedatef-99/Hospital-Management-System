"use strict";(self.webpackChunkhospital_management=self.webpackChunkhospital_management||[]).push([[179],{2011:(ct,Ee,P)=>{P.d(Ee,{Dh:()=>fe,GT:()=>pe,cc:()=>xe,hO:()=>Ve,on:()=>j,pX:()=>se,xv:()=>me});var s=P(4650),te=P(127),F=P(5813);ct=P.hmd(ct);const ce=["ngOnDestroy"],se=(ge,Je,at,Te={})=>new Proxy(ge,{get:(we,De)=>at.runOutsideAngular(()=>{var Ue;if(ge[De])return!(null===(Ue=Te?.spy)||void 0===Ue)&&Ue.get&&Te.spy.get(De,ge[De]),ge[De];if(ce.indexOf(De)>-1)return()=>{};const Ge=Je.toPromise().then(H=>{const _e=H&&H[De];return"function"==typeof _e?_e.bind(H):_e&&_e.then?_e.then(K=>at.run(()=>K)):at.run(()=>_e)});return new Proxy(()=>{},{get:(H,_e)=>Ge[_e],apply:(H,_e,K)=>Ge.then(ne=>{var oe;const re=ne&&ne(...K);return!(null===(oe=Te?.spy)||void 0===oe)&&oe.apply&&Te.spy.apply(De,K,re),re})})})}),pe=(ge,Je)=>{Je.forEach(at=>{Object.getOwnPropertyNames(at.prototype||at).forEach(Te=>{Object.defineProperty(ge.prototype,Te,Object.getOwnPropertyDescriptor(at.prototype||at,Te))})})};class ee{constructor(Je){return Je}}const fe=new s.OlP("angularfire2.app.options"),me=new s.OlP("angularfire2.app.name");function j(ge,Je,at){const we="object"==typeof at&&at||{};we.name=we.name||"string"==typeof at&&at||"[DEFAULT]";const Ue=te.Z.apps.filter(Ge=>Ge&&Ge.name===we.name)[0]||Je.runOutsideAngular(()=>te.Z.initializeApp(ge,we));try{JSON.stringify(ge)!==JSON.stringify(Ue.options)&&G("error",`${Ue.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ee(Ue)}const G=(ge,...Je)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ge](...Je)},Q={provide:ee,useFactory:j,deps:[fe,s.R0b,[new s.FiY,me]]};let Ve=(()=>{class ge{constructor(at){te.Z.registerVersion("angularfire",F.q4.full,"core"),te.Z.registerVersion("angularfire",F.q4.full,"app-compat"),te.Z.registerVersion("angular",s.q4F.full,at.toString())}static initializeApp(at,Te){return{ngModule:ge,providers:[{provide:fe,useValue:at},{provide:me,useValue:Te}]}}}return ge.\u0275fac=function(at){return new(at||ge)(s.LFG(s.Lbi))},ge.\u0275mod=s.oAB({type:ge}),ge.\u0275inj=s.cJS({providers:[Q]}),ge})();function xe(ge,Je,at,Te,we){const[,De,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===ge)||[];if(De)return function Ce(ge,Je){try{return ge.toString()===Je.toString()}catch{return ge===Je}}(we,Ue)||(ye("error",`${Je} was already initialized on the ${at} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:we,was:Ue})),De;{const Ge=Te();return globalThis.\u0275AngularfireInstanceCache.push([ge,Ge,we]),Ge}}const nt=!!ct.hot,ye=(ge,...Je)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ge](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ct,Ee,P)=>{P.d(Ee,{q4:()=>pr,iC:()=>fs,HU:()=>Ea,vb:()=>jt,JM:()=>Mr});var s=P(4650),te=P(5867),F=P(5861),ce=P(9681),se=P(2090),pe=P(4859),ee=P(1877),fe=P(8766);const me="@firebase/installations",j="0.5.12",Q=`w:${j}`,Ve="FIS_v2",Je=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function at(S){return S instanceof se.ZR&&S.code.includes("request-failed")}function Te({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function we(S){return{token:S.token,requestStatus:2,expiresIn:ne(S.expiresIn),creationTime:Date.now()}}function De(S,I){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,F.Z)(function*(S,I){const L=(yield I.json()).error;return Je.create("request-failed",{requestName:S,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ge({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function H(S,{refreshToken:I}){const x=Ge(S);return x.append("Authorization",function oe(S){return`${Ve} ${S}`}(I)),x}function _e(S){return K.apply(this,arguments)}function K(){return(K=(0,F.Z)(function*(S){const I=yield S();return I.status>=500&&I.status<600?S():I})).apply(this,arguments)}function ne(S){return Number(S.replace("s","000"))}function re(S,I){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,F.Z)(function*({appConfig:S,heartbeatServiceProvider:I},{fid:x}){const L=Te(S),X=Ge(S),ue=I.getImmediate({optional:!0});if(ue){const et=yield ue.getHeartbeatsHeader();et&&X.append("x-firebase-client",et)}const He={method:"POST",headers:X,body:JSON.stringify({fid:x,authVersion:Ve,appId:S.appId,sdkVersion:Q})},mt=yield _e(()=>fetch(L,He));if(mt.ok){const et=yield mt.json();return{fid:et.fid||x,registrationStatus:2,refreshToken:et.refreshToken,authToken:we(et.authToken)}}throw yield De("Create Installation",mt)})).apply(this,arguments)}function Re(S){return new Promise(I=>{setTimeout(I,S)})}const Kt=/^[cdef][\w-]{21}$/;function Ye(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const x=function pn(S){return function _t(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Kt.test(x)?x:""}catch{return""}}function Yn(S){return`${S.appName}!${S.appId}`}const nn=new Map;function rn(S,I){const x=Yn(S);hn(x,I),function Ka(S,I){const x=function Ni(){return!or&&"BroadcastChannel"in self&&(or=new BroadcastChannel("[Firebase] FID Change"),or.onmessage=S=>{hn(S.data.key,S.data.fid)}),or}();x&&x.postMessage({key:S,fid:I}),function ar(){0===nn.size&&or&&(or.close(),or=null)}()}(x,I)}function hn(S,I){const x=nn.get(S);if(x)for(const L of x)L(I)}let or=null;const lr="firebase-installations-store";let Fr=null;function la(){return Fr||(Fr=(0,fe.X3)("firebase-installations-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(lr)}})),Fr}function Ke(S,I){return cr.apply(this,arguments)}function cr(){return(cr=(0,F.Z)(function*(S,I){const x=Yn(S),X=(yield la()).transaction(lr,"readwrite"),ue=X.objectStore(lr),Ie=yield ue.get(x);return yield ue.put(I,x),yield X.done,(!Ie||Ie.fid!==I.fid)&&rn(S,I.fid),I})).apply(this,arguments)}function ws(S){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,F.Z)(function*(S){const I=Yn(S),L=(yield la()).transaction(lr,"readwrite");yield L.objectStore(lr).delete(I),yield L.done})).apply(this,arguments)}function Nr(S,I){return wr.apply(this,arguments)}function wr(){return(wr=(0,F.Z)(function*(S,I){const x=Yn(S),X=(yield la()).transaction(lr,"readwrite"),ue=X.objectStore(lr),Ie=yield ue.get(x),He=I(Ie);return void 0===He?yield ue.delete(x):yield ue.put(He,x),yield X.done,He&&(!Ie||Ie.fid!==He.fid)&&rn(S,He.fid),He})).apply(this,arguments)}function Wn(S){return ai.apply(this,arguments)}function ai(){return(ai=(0,F.Z)(function*(S){let I;const x=yield Nr(S.appConfig,L=>{const X=Cn(L),ue=yt(S,X);return I=ue.registrationPromise,ue.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function Cn(S){return Mt(S||{fid:Ye(),registrationStatus:0})}function yt(S,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Je.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function ht(S,I){return _n.apply(this,arguments)}(S,x);return{installationEntry:x,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:bi(S)}:{installationEntry:I}}function _n(){return(_n=(0,F.Z)(function*(S,I){try{const x=yield re(S,I);return Ke(S.appConfig,x)}catch(x){throw at(x)&&409===x.customData.serverCode?yield ws(S.appConfig):yield Ke(S.appConfig,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function bi(S){return wi.apply(this,arguments)}function wi(){return(wi=(0,F.Z)(function*(S){let I=yield zi(S.appConfig);for(;1===I.registrationStatus;)yield Re(100),I=yield zi(S.appConfig);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield Wn(S);return L||x}return I})).apply(this,arguments)}function zi(S){return Nr(S,I=>{if(!I)throw Je.create("installation-not-found");return Mt(I)})}function Mt(S){return function Cs(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function sn(S,I){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,F.Z)(function*({appConfig:S,heartbeatServiceProvider:I},x){const L=en(S,x),X=H(S,x),ue=I.getImmediate({optional:!0});if(ue){const et=yield ue.getHeartbeatsHeader();et&&X.append("x-firebase-client",et)}const He={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:Q,appId:S.appId}})},mt=yield _e(()=>fetch(L,He));if(mt.ok)return we(yield mt.json());throw yield De("Generate Auth Token",mt)})).apply(this,arguments)}function en(S,{fid:I}){return`${Te(S)}/${I}/authTokens:generate`}function W(S){return z.apply(this,arguments)}function z(){return(z=(0,F.Z)(function*(S,I=!1){let x;const L=yield Nr(S.appConfig,ue=>{if(!ut(ue))throw Je.create("not-registered");const Ie=ue.authToken;if(!I&&yn(Ie))return ue;if(1===Ie.requestStatus)return x=B(S,I),ue;{if(!navigator.onLine)throw Je.create("app-offline");const He=li(ue);return x=Se(S,He),He}});return x?yield x:L.authToken})).apply(this,arguments)}function B(S,I){return $.apply(this,arguments)}function $(){return($=(0,F.Z)(function*(S,I){let x=yield Y(S.appConfig);for(;1===x.authToken.requestStatus;)yield Re(100),x=yield Y(S.appConfig);const L=x.authToken;return 0===L.requestStatus?W(S,I):L})).apply(this,arguments)}function Y(S){return Nr(S,I=>{if(!ut(I))throw Je.create("not-registered");return function Gt(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Se(S,I){return Be.apply(this,arguments)}function Be(){return(Be=(0,F.Z)(function*(S,I){try{const x=yield sn(S,I),L=Object.assign(Object.assign({},I),{authToken:x});return yield Ke(S.appConfig,L),x}catch(x){if(!at(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Ke(S.appConfig,L)}else yield ws(S.appConfig);throw x}})).apply(this,arguments)}function ut(S){return void 0!==S&&2===S.registrationStatus}function yn(S){return 2===S.requestStatus&&!function on(S){const I=Date.now();return I<S.creationTime||S.creationTime+S.expiresIn<I+36e5}(S)}function li(S){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:I})}function Mn(){return(Mn=(0,F.Z)(function*(S){const I=S,{installationEntry:x,registrationPromise:L}=yield Wn(I);return L?L.catch(console.error):W(I).catch(console.error),x.fid})).apply(this,arguments)}function os(){return(os=(0,F.Z)(function*(S,I=!1){const x=S;return yield $i(x),(yield W(x,I)).token})).apply(this,arguments)}function $i(S){return ii.apply(this,arguments)}function ii(){return(ii=(0,F.Z)(function*(S){const{registrationPromise:I}=yield Wn(S);I&&(yield I)})).apply(this,arguments)}function eo(S){return Je.create("missing-app-config-values",{valueName:S})}const ca="installations",Tn=S=>{const I=S.getProvider("app").getImmediate(),x=function Dn(S){if(!S||!S.options)throw eo("App Configuration");if(!S.name)throw eo("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!S.options[x])throw eo(x);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(I);return{app:I,appConfig:x,heartbeatServiceProvider:(0,ce._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},To=S=>{const I=S.getProvider("app").getImmediate(),x=(0,ce._getProvider)(I,ca).getImmediate();return{getId:()=>function Lt(S){return Mn.apply(this,arguments)}(x),getToken:X=>function ni(S){return os.apply(this,arguments)}(x,X)}};(function Mu(){(0,ce._registerComponent)(new pe.wA(ca,Tn,"PUBLIC")),(0,ce._registerComponent)(new pe.wA("installations-internal",To,"PRIVATE"))})(),(0,ce.registerVersion)(me,j),(0,ce.registerVersion)(me,j,"esm2017");const as="@firebase/remote-config",si=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dp{constructor(I,x,L,X){this.client=I,this.storage=x,this.storageCache=L,this.logger=X}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,X=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${X}.`),X}fetch(I){var x=this;return(0,F.Z)(function*(){const[L,X]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(X&&x.isCachedDataFresh(I.cacheMaxAgeMillis,L))return X;I.eTag=X&&X.eTag;const ue=yield x.client.fetch(I),Ie=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Ie.push(x.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Ie),ue})()}}function ku(S=navigator){return S.languages&&S.languages[0]||S.language}class Ru{constructor(I,x,L,X,ue,Ie){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=L,this.projectId=X,this.apiKey=ue,this.appId=Ie}fetch(I){var x=this;return(0,F.Z)(function*(){var L,X,ue;const[Ie,He]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ft={sdk_version:x.sdkVersion,app_instance_id:Ie,app_instance_id_token:He,app_id:x.appId,language_code:ku()},An={method:"POST",headers:Nt,body:JSON.stringify(ft)},gi=fetch(et,An),Os=new Promise((zo,Fs)=>{I.signal.addEventListener(()=>{const td=new Error("The operation was aborted.");td.name="AbortError",Fs(td)})});let Bi;try{yield Promise.race([gi,Os]),Bi=yield gi}catch(zo){let Fs="fetch-client-network";throw"AbortError"===(null===(L=zo)||void 0===L?void 0:L.name)&&(Fs="fetch-timeout"),si.create(Fs,{originalErrorMessage:null===(X=zo)||void 0===X?void 0:X.message})}let Ps=Bi.status;const Ma=Bi.headers.get("ETag")||void 0;let _o,Ar;if(200===Bi.status){let zo;try{zo=yield Bi.json()}catch(Fs){throw si.create("fetch-client-parse",{originalErrorMessage:null===(ue=Fs)||void 0===ue?void 0:ue.message})}_o=zo.entries,Ar=zo.state}if("INSTANCE_STATE_UNSPECIFIED"===Ar?Ps=500:"NO_CHANGE"===Ar?Ps=304:("NO_TEMPLATE"===Ar||"EMPTY_CONFIG"===Ar)&&(_o={}),304!==Ps&&200!==Ps)throw si.create("fetch-status",{httpStatus:Ps});return{status:Ps,eTag:Ma,config:_o}})()}}class mg{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,F.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:L}){var X=this;return(0,F.Z)(function*(){yield function ui(S,I){return new Promise((x,L)=>{const X=Math.max(I-Date.now(),0),ue=setTimeout(x,X);S.addEventListener(()=>{clearTimeout(ue),L(si.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const ue=yield X.client.fetch(I);return yield X.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function lh(S){if(!(S instanceof se.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ue))throw ue;const Ie={throttleEndTimeMillis:Date.now()+(0,se.$s)(L),backoffCount:L+1};return yield X.storage.setThrottleMetadata(Ie),X.attemptFetch(I,Ie)}})()}}class zl{constructor(I,x,L,X,ue){this.app=I,this._client=x,this._storageCache=L,this._storage=X,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ou(S,I){var x;const L=S.target.error||void 0;return si.create(I,{originalErrorMessage:L&&(null===(x=L)||void 0===x?void 0:x.message)})}const so="app_namespace_store";class hp{constructor(I,x,L,X=function yg(){return new Promise((S,I)=>{var x;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=X=>{I(Ou(X,"storage-open"))},L.onsuccess=X=>{S(X.target.result)},L.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(so,{keyPath:"compositeKey"})}}catch(L){I(si.create("storage-open",{originalErrorMessage:null===(x=L)||void 0===x?void 0:x.message}))}})}()){this.appId=I,this.appName=x,this.namespace=L,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,F.Z)(function*(){const L=yield x.openDbPromise;return new Promise((X,ue)=>{var Ie;const mt=L.transaction([so],"readonly").objectStore(so),et=x.createCompositeKey(I);try{const Nt=mt.get(et);Nt.onerror=ft=>{ue(Ou(ft,"storage-get"))},Nt.onsuccess=ft=>{const An=ft.target.result;X(An?An.value:void 0)}}catch(Nt){ue(si.create("storage-get",{originalErrorMessage:null===(Ie=Nt)||void 0===Ie?void 0:Ie.message}))}})})()}set(I,x){var L=this;return(0,F.Z)(function*(){const X=yield L.openDbPromise;return new Promise((ue,Ie)=>{var He;const et=X.transaction([so],"readwrite").objectStore(so),Nt=L.createCompositeKey(I);try{const ft=et.put({compositeKey:Nt,value:x});ft.onerror=An=>{Ie(Ou(An,"storage-set"))},ft.onsuccess=()=>{ue()}}catch(ft){Ie(si.create("storage-set",{originalErrorMessage:null===(He=ft)||void 0===He?void 0:He.message}))}})})()}delete(I){var x=this;return(0,F.Z)(function*(){const L=yield x.openDbPromise;return new Promise((X,ue)=>{var Ie;const mt=L.transaction([so],"readwrite").objectStore(so),et=x.createCompositeKey(I);try{const Nt=mt.delete(et);Nt.onerror=ft=>{ue(Ou(ft,"storage-delete"))},Nt.onsuccess=()=>{X()}}catch(Nt){ue(si.create("storage-delete",{originalErrorMessage:null===(Ie=Nt)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class uh{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,F.Z)(function*(){const x=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),X=I.storage.getActiveConfig(),ue=yield x;ue&&(I.lastFetchStatus=ue);const Ie=yield L;Ie&&(I.lastSuccessfulFetchTimestampMillis=Ie);const He=yield X;He&&(I.activeConfig=He)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function $l(){return fp.apply(this,arguments)}function fp(){return(fp=(0,F.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function oo(){(0,ce._registerComponent)(new pe.wA("remote-config",function S(I,{instanceIdentifier:x}){const L=I.getProvider("app").getImmediate(),X=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw si.create("registration-window");if(!(0,se.hl)())throw si.create("indexed-db-unavailable");const{projectId:ue,apiKey:Ie,appId:He}=L.options;if(!ue)throw si.create("registration-project-id");if(!Ie)throw si.create("registration-api-key");if(!He)throw si.create("registration-app-id");const mt=new hp(He,L.name,x=x||"firebase"),et=new uh(mt),Nt=new ee.Yd(as);Nt.logLevel=ee.in.ERROR;const ft=new Ru(X,ce.SDK_VERSION,x,ue,Ie,He),An=new mg(ft,mt),gi=new dp(An,mt,et,Nt),Os=new zl(L,gi,et,mt,Nt);return function cn(S){const I=(0,se.m9)(S);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Os),Os},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(as,"0.3.11"),(0,ce.registerVersion)(as,"0.3.11","esm2017")}();const ls="/firebase-messaging-sw.js",Es="/firebase-cloud-messaging-push-scope",Ss="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xa="google.c.a.c_id",ql="google.c.a.c_l",Pu="google.c.a.ts",pp="google.c.a.e";var Is=(()=>{return(S=Is||(Is={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Is;var S})();function Dr(S){const I=new Uint8Array(S);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ur(S){const x=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),X=new Uint8Array(L.length);for(let ue=0;ue<L.length;++ue)X[ue]=L.charCodeAt(ue);return X}const ua="fcm_token_details_db",Ri="fcm_token_object_Store";function mp(S){return gp.apply(this,arguments)}function gp(){return gp=(0,F.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(ua))return null;let I=null;return(yield(0,fe.X3)(ua,5,{upgrade:(L=(0,F.Z)(function*(X,ue,Ie,He){var mt;if(ue<2||!X.objectStoreNames.contains(Ri))return;const et=He.objectStore(Ri),Nt=yield et.index("fcmSenderId").get(S);if(yield et.clear(),Nt)if(2===ue){const ft=Nt;if(!ft.auth||!ft.p256dh||!ft.endpoint)return;I={token:ft.fcmToken,createTime:null!==(mt=ft.createTime)&&void 0!==mt?mt:Date.now(),subscriptionOptions:{auth:ft.auth,p256dh:ft.p256dh,endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:"string"==typeof ft.vapidKey?ft.vapidKey:Dr(ft.vapidKey)}}}else if(3===ue){const ft=Nt;I={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:Dr(ft.auth),p256dh:Dr(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:Dr(ft.vapidKey)}}}else if(4===ue){const ft=Nt;I={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:Dr(ft.auth),p256dh:Dr(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:Dr(ft.vapidKey)}}}}),function(ue,Ie,He,mt){return L.apply(this,arguments)})})).close(),yield(0,fe.Lj)(ua),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Vn(I)?I:null;var L}),gp.apply(this,arguments)}function Vn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:I}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Er="firebase-messaging-store";let Yi=null;function Zl(){return Yi||(Yi=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(Er)}})),Yi}function da(S){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,F.Z)(function*(S){const I=Hr(S),L=yield(yield Zl()).transaction(Er).objectStore(Er).get(I);if(L)return L;{const X=yield mp(S.appConfig.senderId);if(X)return yield Zt(S,X),X}})).apply(this,arguments)}function Zt(S,I){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,F.Z)(function*(S,I){const x=Hr(S),X=(yield Zl()).transaction(Er,"readwrite");return yield X.objectStore(Er).put(I,x),yield X.done,I})).apply(this,arguments)}function Ro(S){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,F.Z)(function*(S){const I=Hr(S),L=(yield Zl()).transaction(Er,"readwrite");yield L.objectStore(Er).delete(I),yield L.done})).apply(this,arguments)}function Hr({appConfig:S}){return S.appId}const On=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tt(S,I){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,F.Z)(function*(S,I){var x;const L=yield Lu(S),X=Me(I),ue={method:"POST",headers:L,body:JSON.stringify(X)};let Ie;try{Ie=yield(yield fetch(Ts(S.appConfig),ue)).json()}catch(He){throw On.create("token-subscribe-failed",{errorInfo:null===(x=He)||void 0===x?void 0:x.toString()})}if(Ie.error)throw On.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw On.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function yp(S,I){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,F.Z)(function*(S,I){var x;const L=yield Lu(S),X=Me(I.subscriptionOptions),ue={method:"PATCH",headers:L,body:JSON.stringify(X)};let Ie;try{Ie=yield(yield fetch(`${Ts(S.appConfig)}/${I.token}`,ue)).json()}catch(He){throw On.create("token-update-failed",{errorInfo:null===(x=He)||void 0===x?void 0:x.toString()})}if(Ie.error)throw On.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw On.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function ec(S,I){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,F.Z)(function*(S,I){var x;const X={method:"DELETE",headers:yield Lu(S)};try{const Ie=yield(yield fetch(`${Ts(S.appConfig)}/${I}`,X)).json();if(Ie.error)throw On.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(ue){throw On.create("token-unsubscribe-failed",{errorInfo:null===(x=ue)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function Ts({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Lu(S){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,F.Z)(function*({appConfig:S,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Me({p256dh:S,auth:I,endpoint:x,vapidKey:L}){const X={web:{endpoint:x,auth:I,p256dh:S}};return L!==Ss&&(X.web.applicationPubKey=L),X}const zt=6048e5;function tc(S){return nc.apply(this,arguments)}function nc(){return(nc=(0,F.Z)(function*(S){const I=yield Vu(S.swRegistration,S.vapidKey),x={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:I.endpoint,auth:Dr(I.getKey("auth")),p256dh:Dr(I.getKey("p256dh"))},L=yield da(S.firebaseDependencies);if(L){if(fh(L.subscriptionOptions,x))return Date.now()>=L.createTime+zt?ha(S,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield ec(S.firebaseDependencies,L.token)}catch(X){console.warn(X)}return el(S.firebaseDependencies,x)}return el(S.firebaseDependencies,x)})).apply(this,arguments)}function Bn(S){return ic.apply(this,arguments)}function ic(){return(ic=(0,F.Z)(function*(S){const I=yield da(S.firebaseDependencies);I&&(yield ec(S.firebaseDependencies,I.token),yield Ro(S.firebaseDependencies));const x=yield S.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function ha(S,I){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,F.Z)(function*(S,I){try{const x=yield yp(S.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield Zt(S.firebaseDependencies,L),x}catch(x){throw yield Bn(S),x}})).apply(this,arguments)}function el(S,I){return tl.apply(this,arguments)}function tl(){return(tl=(0,F.Z)(function*(S,I){const L={token:yield Tt(S,I),createTime:Date.now(),subscriptionOptions:I};return yield Zt(S,L),L.token})).apply(this,arguments)}function Vu(S,I){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,F.Z)(function*(S,I){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ur(I)})})).apply(this,arguments)}function fh(S,I){return I.vapidKey===S.vapidKey&&I.endpoint===S.endpoint&&I.auth===S.auth&&I.p256dh===S.p256dh}function nl(S){const I={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Un(S,I){if(!I.notification)return;S.notification={};const x=I.notification.title;x&&(S.notification.title=x);const L=I.notification.body;L&&(S.notification.body=L);const X=I.notification.image;X&&(S.notification.image=X)}(I,S),function cs(S,I){!I.data||(S.data=I.data)}(I,S),function Uu(S,I){var x,L,X,ue,Ie;if(!(I.fcmOptions||null!==(x=I.notification)&&void 0!==x&&x.click_action))return;S.fcmOptions={};const He=null!==(X=null===(L=I.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==X?X:null===(ue=I.notification)||void 0===ue?void 0:ue.click_action;He&&(S.fcmOptions.link=He);const mt=null===(Ie=I.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;mt&&(S.fcmOptions.analyticsLabel=mt)}(I,S),I}function Oo(S){return"object"==typeof S&&!!S&&Xa in S}function As(S,I){const x=[];for(let L=0;L<S.length;L++)x.push(S.charAt(L)),L<I.length&&x.push(I.charAt(L));return x.join("")}function il(S){return On.create("missing-app-config-values",{valueName:S})}As("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),As("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bg{constructor(I,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function vg(S){if(!S||!S.options)throw il("App Configuration Object");if(!S.name)throw il("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=S;for(const L of I)if(!x[L])throw il(L);return{appName:S.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:X,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Hu(S){return rc.apply(this,arguments)}function rc(){return(rc=(0,F.Z)(function*(S){var I;try{S.swRegistration=yield navigator.serviceWorker.register(ls,{scope:Es}),S.swRegistration.update().catch(()=>{})}catch(x){throw On.create("failed-service-worker-registration",{browserErrorMessage:null===(I=x)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function rl(S,I){return ju.apply(this,arguments)}function ju(){return(ju=(0,F.Z)(function*(S,I){if(!I&&!S.swRegistration&&(yield Hu(S)),I||!S.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw On.create("invalid-sw-registration");S.swRegistration=I}})).apply(this,arguments)}function sl(S,I){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,F.Z)(function*(S,I){I?S.vapidKey=I:S.vapidKey||(S.vapidKey=Ss)})).apply(this,arguments)}function oc(){return(oc=(0,F.Z)(function*(S,I){if(!navigator)throw On.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw On.create("permission-blocked");return yield sl(S,I?.vapidKey),yield rl(S,I?.serviceWorkerRegistration),tc(S)})).apply(this,arguments)}function zu(S,I,x){return $u.apply(this,arguments)}function $u(){return($u=(0,F.Z)(function*(S,I,x){const L=qu(I);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[Xa],message_name:x[ql],message_time:x[Pu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qu(S){switch(S){case Is.NOTIFICATION_CLICKED:return"notification_open";case Is.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Po(){return(Po=(0,F.Z)(function*(S,I){const x=I.data;if(!x.isFirebaseMessaging)return;S.onMessageHandler&&x.messageType===Is.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(nl(x)):S.onMessageHandler.next(nl(x)));const L=x.data;Oo(L)&&"1"===L[pp]&&(yield zu(S,x.messageType,L))})).apply(this,arguments)}const Fo="@firebase/messaging",di=S=>{const I=new bg(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function ph(S,I){return Po.apply(this,arguments)}(I,x)),I},dr=S=>{const I=S.getProvider("messaging").getImmediate();return{getToken:L=>function sc(S,I){return oc.apply(this,arguments)}(I,L)}};function Yu(){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,F.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function En(){(0,ce._registerComponent)(new pe.wA("messaging",di,"PUBLIC")),(0,ce._registerComponent)(new pe.wA("messaging-internal",dr,"PRIVATE")),(0,ce.registerVersion)(Fo,"0.9.16"),(0,ce.registerVersion)(Fo,"0.9.16","esm2017")}();const ma="analytics",yh="firebase_id",No="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cc="https://www.googletagmanager.com/gtag/js",Hn=new ee.Yd("@firebase/analytics");function uc(S){return Promise.all(S.map(I=>I.catch(x=>x)))}function dc(S,I){const x=document.createElement("script");x.src=`${cc}?l=${S}&id=${I}`,x.async=!0,document.head.appendChild(x)}function vp(S,I,x,L,X,ue){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,F.Z)(function*(S,I,x,L,X,ue){const Ie=L[X];try{if(Ie)yield I[Ie];else{const mt=(yield uc(x)).find(et=>et.measurementId===X);mt&&(yield I[mt.appId])}}catch(He){Hn.error(He)}S("config",X,ue)})).apply(this,arguments)}function ga(S,I,x,L,X){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,F.Z)(function*(S,I,x,L,X){try{let ue=[];if(X&&X.send_to){let Ie=X.send_to;Array.isArray(Ie)||(Ie=[Ie]);const He=yield uc(x);for(const mt of Ie){const et=He.find(ft=>ft.measurementId===mt),Nt=et&&I[et.appId];if(!Nt){ue=[];break}ue.push(Nt)}}0===ue.length&&(ue=Object.values(I)),yield Promise.all(ue),S("event",L,X||{})}catch(ue){Hn.error(ue)}})).apply(this,arguments)}function bh(){const S=window.document.getElementsByTagName("script");for(const I of Object.values(S))if(I.src&&I.src.includes(cc))return I;return null}const Di=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cl=new class us{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Ch(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function ul(S){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,F.Z)(function*(S){var I;const{appId:x,apiKey:L}=S,X={method:"GET",headers:Ch(L)},ue=No.replace("{app-id}",x),Ie=yield fetch(ue,X);if(200!==Ie.status&&304!==Ie.status){let He="";try{const mt=yield Ie.json();null!==(I=mt.error)&&void 0!==I&&I.message&&(He=mt.error.message)}catch{}throw Di.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:He})}return Ie.json()})).apply(this,arguments)}function Kn(S){return jr.apply(this,arguments)}function jr(){return(jr=(0,F.Z)(function*(S,I=cl,x){const{appId:L,apiKey:X,measurementId:ue}=S.options;if(!L)throw Di.create("no-app-id");if(!X){if(ue)return{measurementId:ue,appId:L};throw Di.create("no-api-key")}const Ie=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new mc;return setTimeout((0,F.Z)(function*(){He.abort()}),void 0!==x?x:6e4),fc({appId:L,apiKey:X,measurementId:ue},Ie,He,I)})).apply(this,arguments)}function fc(S,I,x){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,F.Z)(function*(S,{throttleEndTimeMillis:I,backoffCount:x},L,X=cl){var ue,Ie;const{appId:He,measurementId:mt}=S;try{yield dl(L,I)}catch(et){if(mt)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${null===(ue=et)||void 0===ue?void 0:ue.message}]`),{appId:He,measurementId:mt};throw et}try{const et=yield ul(S);return X.deleteThrottleMetadata(He),et}catch(et){const Nt=et;if(!pc(Nt)){if(X.deleteThrottleMetadata(He),mt)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${Nt?.message}]`),{appId:He,measurementId:mt};throw et}const ft=503===Number(null===(Ie=Nt?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,se.$s)(x,X.intervalMillis,30):(0,se.$s)(x,X.intervalMillis),An={throttleEndTimeMillis:Date.now()+ft,backoffCount:x+1};return X.setThrottleMetadata(He,An),Hn.debug(`Calling attemptFetch again in ${ft} millis`),fc(S,An,L,X)}})).apply(this,arguments)}function dl(S,I){return new Promise((x,L)=>{const X=Math.max(I-Date.now(),0),ue=setTimeout(x,X);S.addEventListener(()=>{clearTimeout(ue),L(Di.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function pc(S){if(!(S instanceof se.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}class mc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let co,fl;function uo(){return(uo=(0,F.Z)(function*(S,I,x,L,X){if(X&&X.global)S("event",x,L);else{const ue=yield I;S("event",x,Object.assign(Object.assign({},L),{send_to:ue}))}})).apply(this,arguments)}function Ho(S){fl=S}function Ju(S){co=S}function ks(){return yc.apply(this,arguments)}function yc(){return(yc=(0,F.Z)(function*(){var S;if(!(0,se.hl)())return Hn.warn(Di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(I){return Hn.warn(Di.create("indexeddb-unavailable",{errorInfo:null===(S=I)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function va(){return(va=(0,F.Z)(function*(S,I,x,L,X,ue,Ie){var He;const mt=Kn(S);mt.then(gi=>{x[gi.measurementId]=gi.appId,S.options.measurementId&&gi.measurementId!==S.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${gi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(gi=>Hn.error(gi)),I.push(mt);const et=ks().then(gi=>{if(gi)return L.getId()}),[Nt,ft]=yield Promise.all([mt,et]);bh()||dc(ue,Nt.measurementId),fl&&(X("consent","default",fl),Ho(void 0)),X("js",new Date);const An=null!==(He=Ie?.config)&&void 0!==He?He:{};return An.origin="firebase",An.update=!0,null!=ft&&(An[yh]=ft),X("config",Nt.measurementId,An),co&&(X("set",co),Ju(void 0)),Nt.measurementId})).apply(this,arguments)}class vc{constructor(I){this.app=I}_delete(){return delete hr[this.app.options.appId],Promise.resolve()}}let hr={},ho=[];const ba={};let Ca,jo,wa="dataLayer",pl=!1;function Yy(S,I,x){!function wg(){const S=[];if((0,se.ru)()&&S.push("This is a browser extension environment."),(0,se.zI)()||S.push("Cookies are not available."),S.length>0){const I=S.map((L,X)=>`(${X+1}) ${L}`).join(" "),x=Di.create("invalid-analytics-context",{errorInfo:I});Hn.warn(x.message)}}();const L=S.options.appId;if(!L)throw Di.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Di.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hr[L])throw Di.create("already-exists",{id:L});if(!pl){!function vh(S){let I=[];Array.isArray(window[S])?I=window[S]:window[S]=I}(wa);const{wrappedGtag:ue,gtagCore:Ie}=function ol(S,I,x,L,X){let ue=function(...Ie){window[L].push(arguments)};return window[X]&&"function"==typeof window[X]&&(ue=window[X]),window[X]=function hc(S,I,x,L){function ue(){return(ue=(0,F.Z)(function*(Ie,He,mt){try{"event"===Ie?yield ga(S,I,x,He,mt):"config"===Ie?yield vp(S,I,x,L,He,mt):"consent"===Ie?S("consent","update",mt):S("set",He)}catch(et){Hn.error(et)}})).apply(this,arguments)}return function X(Ie,He,mt){return ue.apply(this,arguments)}}(ue,S,I,x),{gtagCore:ue,wrappedGtag:window[X]}}(hr,ho,ba,wa,"gtag");jo=ue,Ca=Ie,pl=!0}return hr[L]=function ya(S,I,x,L,X,ue,Ie){return va.apply(this,arguments)}(S,ho,ba,I,Ca,wa,x),new vc(S)}function Wy(){return bp.apply(this,arguments)}function bp(){return(bp=(0,F.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const Si="@firebase/analytics";!function hi(){(0,ce._registerComponent)(new pe.wA(ma,(I,{options:x})=>Yy(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new pe.wA("analytics-internal",function S(I){try{const x=I.getProvider(ma).getImmediate();return{logEvent:(L,X,ue)=>function fr(S,I,x,L){S=(0,se.m9)(S),function Dh(S,I,x,L,X){return uo.apply(this,arguments)}(jo,hr[S.app.options.appId],I,x,L).catch(X=>Hn.error(X))}(x,L,X,ue)}}catch(x){throw Di.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(Si,"0.8.0"),(0,ce.registerVersion)(Si,"0.8.0","esm2017")}();var Le=P(4408),hs=P(7565);const po=new class fo extends hs.v{}(class fi extends Le.o{constructor(I,x){super(I,x),this.scheduler=I,this.work=x}schedule(I,x=0){return x>0?super.schedule(I,x):(this.delay=x,this.state=I,this.scheduler.flush(this),this)}execute(I,x){return x>0||this.closed?super.execute(I,x):this._execute(I,x)}requestAsyncId(I,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,x,L):(I.flush(this),0)}});var Sn=P(4986),In=P(8505),mo=P(9468),Qe=P(5363);const pr=new s.GfV("7.4.1"),Rs="__angularfire_symbol__analyticsIsSupportedValue",Ir="__angularfire_symbol__analyticsIsSupported",Go="__angularfire_symbol__remoteConfigIsSupportedValue",ml="__angularfire_symbol__remoteConfigIsSupported",Yt="__angularfire_symbol__messagingIsSupportedValue",Sh="__angularfire_symbol__messagingIsSupported";function Mr(S,I,x){if(I){if(1===I.length)return I[0];const ue=I.filter(Ie=>Ie.app===x);if(1===ue.length)return ue[0]}return x.container.getProvider(S).getImmediate({optional:!0})}globalThis[Ir]||(globalThis[Ir]=Wy().then(S=>globalThis[Rs]=S).catch(()=>globalThis[Rs]=!1)),globalThis[Sh]||(globalThis[Sh]=Yu().then(S=>globalThis[Yt]=S).catch(()=>globalThis[Yt]=!1)),globalThis[ml]||(globalThis[ml]=$l().then(S=>globalThis[Go]=S).catch(()=>globalThis[Go]=!1));const jt=(S,I)=>{const x=I?[I]:(0,te.C6)(),L=[];return x.forEach(X=>{X.container.getProvider(S).instances.forEach(Ie=>{L.includes(Ie)||L.push(Ie)})}),L};function _l(){}class mi{constructor(I,x=po){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,L){const X=this.zone;return this.delegate.schedule(function(Ie){X.runGuarded(()=>{I.apply(this,[Ie])})},x,L)}}class rt{constructor(I){this.zone=I,this.task=null}call(I,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_l,{},_l,_l)),x.pipe((0,In.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ea=(()=>{class S{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new mi(Zone.current)),this.insideAngular=x.run(()=>new mi(Zone.current,Sn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(x){return new(x||S)(s.LFG(s.R0b))},S.\u0275prov=s.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function vt(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function fs(S){return vt(),function Ih(S){return function(x){return(x=x.lift(new rt(S.ngZone))).pipe((0,mo.R)(S.outsideAngular),(0,Qe.Q)(S.insideAngular))}}(vt())(S)}},2090:(ct,Ee,P)=>{P.d(Ee,{$s:()=>Cs,BH:()=>Ve,G6:()=>Ge,L:()=>fe,LL:()=>Pe,Sg:()=>xe,UG:()=>ye,US:()=>pe,ZB:()=>G,ZR:()=>re,b$:()=>at,eu:()=>_e,hl:()=>H,jU:()=>ge,m9:()=>en,ne:()=>la,pd:()=>lr,r3:()=>Gi,ru:()=>Je,tV:()=>me,uI:()=>nt,vZ:()=>or,w1:()=>we,xO:()=>Js,xb:()=>hn,z$:()=>Ce,zI:()=>K,zd:()=>ss});const ce=function(W){const z=[];let B=0;for(let $=0;$<W.length;$++){let Y=W.charCodeAt($);Y<128?z[B++]=Y:Y<2048?(z[B++]=Y>>6|192,z[B++]=63&Y|128):55296==(64512&Y)&&$+1<W.length&&56320==(64512&W.charCodeAt($+1))?(Y=65536+((1023&Y)<<10)+(1023&W.charCodeAt(++$)),z[B++]=Y>>18|240,z[B++]=Y>>12&63|128,z[B++]=Y>>6&63|128,z[B++]=63&Y|128):(z[B++]=Y>>12|224,z[B++]=Y>>6&63|128,z[B++]=63&Y|128)}return z},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,z){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let Y=0;Y<W.length;Y+=3){const Se=W[Y],Be=Y+1<W.length,ut=Be?W[Y+1]:0,yn=Y+2<W.length,on=yn?W[Y+2]:0;let Lt=(15&ut)<<2|on>>6,Mn=63&on;yn||(Mn=64,Be||(Lt=64)),$.push(B[Se>>2],B[(3&Se)<<4|ut>>4],B[Lt],B[Mn])}return $.join("")},encodeString(W,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(W):this.encodeByteArray(ce(W),z)},decodeString(W,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(W):function(W){const z=[];let B=0,$=0;for(;B<W.length;){const Y=W[B++];if(Y<128)z[$++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Se=W[B++];z[$++]=String.fromCharCode((31&Y)<<6|63&Se)}else if(Y>239&&Y<365){const yn=((7&Y)<<18|(63&W[B++])<<12|(63&W[B++])<<6|63&W[B++])-65536;z[$++]=String.fromCharCode(55296+(yn>>10)),z[$++]=String.fromCharCode(56320+(1023&yn))}else{const Se=W[B++],Be=W[B++];z[$++]=String.fromCharCode((15&Y)<<12|(63&Se)<<6|63&Be)}}return z.join("")}(this.decodeStringToByteArray(W,z))},decodeStringToByteArray(W,z){this.init_();const B=z?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let Y=0;Y<W.length;){const Se=B[W.charAt(Y++)],ut=Y<W.length?B[W.charAt(Y)]:0;++Y;const on=Y<W.length?B[W.charAt(Y)]:64;++Y;const Gt=Y<W.length?B[W.charAt(Y)]:64;if(++Y,null==Se||null==ut||null==on||null==Gt)throw Error();$.push(Se<<2|ut>>4),64!==on&&($.push(ut<<4&240|on>>2),64!==Gt&&$.push(on<<6&192|Gt))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},fe=function(W){return function(W){const z=ce(W);return pe.encodeByteArray(z,!0)}(W).replace(/\./g,"")},me=function(W){try{return pe.decodeString(W,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function G(W,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return z}for(const B in z)!z.hasOwnProperty(B)||!Q(B)||(W[B]=G(W[B],z[B]));return W}function Q(W){return"__proto__"!==W}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,B)=>{this.resolve=z,this.reject=B})}wrapCallback(z){return(B,$)=>{B?this.reject(B):this.resolve($),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(B):z(B,$))}}}function xe(W,z){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=z||"demo-project",Y=W.iat||0,Se=W.sub||W.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:Y,exp:Y+3600,auth_time:Y,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},W);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Be)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ge(){return"object"==typeof self&&self.self===self}function Je(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function at(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){const W=Ce();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Ge(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H(){return"object"==typeof indexedDB}function _e(){return new Promise((W,z)=>{try{let B=!0;const $="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open($);Y.onsuccess=()=>{Y.result.close(),B||self.indexedDB.deleteDatabase($),W(!0)},Y.onupgradeneeded=()=>{B=!1},Y.onerror=()=>{var Se;z((null===(Se=Y.error)||void 0===Se?void 0:Se.message)||"")}}catch(B){z(B)}})}function K(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class re extends Error{constructor(z,B,$){super(B),this.code=z,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pe.prototype.create)}}class Pe{constructor(z,B,$){this.service=z,this.serviceName=B,this.errors=$}create(z,...B){const $=B[0]||{},Y=`${this.service}/${z}`,Se=this.errors[z],Be=Se?function Re(W,z){return W.replace(_t,(B,$)=>{const Y=z[$];return null!=Y?String(Y):`<${$}?>`})}(Se,$):"Error";return new re(Y,`${this.serviceName}: ${Be} (${Y}).`,$)}}const _t=/\{\$([^}]+)}/g;function Gi(W,z){return Object.prototype.hasOwnProperty.call(W,z)}function hn(W){for(const z in W)if(Object.prototype.hasOwnProperty.call(W,z))return!1;return!0}function or(W,z){if(W===z)return!0;const B=Object.keys(W),$=Object.keys(z);for(const Y of B){if(!$.includes(Y))return!1;const Se=W[Y],Be=z[Y];if(Ni(Se)&&Ni(Be)){if(!or(Se,Be))return!1}else if(Se!==Be)return!1}for(const Y of $)if(!B.includes(Y))return!1;return!0}function Ni(W){return null!==W&&"object"==typeof W}function Js(W){const z=[];for(const[B,$]of Object.entries(W))Array.isArray($)?$.forEach(Y=>{z.push(encodeURIComponent(B)+"="+encodeURIComponent(Y))}):z.push(encodeURIComponent(B)+"="+encodeURIComponent($));return z.length?"&"+z.join("&"):""}function ss(W){const z={};return W.replace(/^\?/,"").split("&").forEach($=>{if($){const[Y,Se]=$.split("=");z[decodeURIComponent(Y)]=decodeURIComponent(Se)}}),z}function lr(W){const z=W.indexOf("?");if(!z)return"";const B=W.indexOf("#",z);return W.substring(z,B>0?B:void 0)}function la(W,z){const B=new Ke(W,z);return B.subscribe.bind(B)}class Ke{constructor(z,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{z(this)}).catch($=>{this.error($)})}next(z){this.forEachObserver(B=>{B.next(z)})}error(z){this.forEachObserver(B=>{B.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,B,$){let Y;if(void 0===z&&void 0===B&&void 0===$)throw new Error("Missing Observer.");Y=function ws(W,z){if("object"!=typeof W||null===W)return!1;for(const B of z)if(B in W&&"function"==typeof W[B])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:B,complete:$},void 0===Y.next&&(Y.next=Zn),void 0===Y.error&&(Y.error=Zn),void 0===Y.complete&&(Y.complete=Zn);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Se}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,z)}sendOne(z,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{B(this.observers[z])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zn(){}function Cs(W,z=1e3,B=2){const $=z*Math.pow(B,W),Y=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+Y)}function en(W){return W&&W._delegate?W._delegate:W}},4762:(ct,Ee,P)=>{var s=P(4650);let te=null;function F(){return te}const ee=new s.OlP("DocumentToken");let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function me(){return(0,s.LFG)(G)}()},providedIn:"platform"}),n})();const j=new s.OlP("Location Initialized");let G=(()=>{class n extends fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Q()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Q()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ve(){return new G((0,s.LFG)(ee))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function xe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ce(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function nt(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Je)},providedIn:"root"}),n})();const ge=new s.OlP("appBaseHref");let Je=(()=>{class n extends ye{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+nt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+nt(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+nt(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fe),s.LFG(ge,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),at=(()=>{class n extends ye{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=xe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+nt(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+nt(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fe),s.LFG(ge,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(Ue(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+nt(i))}normalize(e){return n.stripTrailingSlash(function De(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ue(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+nt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+nt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=nt,n.joinWithSlash=xe,n.stripTrailingSlash=Ce,n.\u0275fac=function(e){return new(e||n)(s.LFG(ye))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function we(){return new Te((0,s.LFG)(ye))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}var K=(()=>((K=K||{})[K.Format=0]="Format",K[K.Standalone=1]="Standalone",K))(),ne=(()=>((ne=ne||{})[ne.Narrow=0]="Narrow",ne[ne.Abbreviated=1]="Abbreviated",ne[ne.Wide=2]="Wide",ne[ne.Short=3]="Short",ne))(),oe=(()=>((oe=oe||{})[oe.Short=0]="Short",oe[oe.Medium=1]="Medium",oe[oe.Long=2]="Long",oe[oe.Full=3]="Full",oe))(),re=(()=>((re=re||{})[re.Decimal=0]="Decimal",re[re.Group=1]="Group",re[re.List=2]="List",re[re.PercentSign=3]="PercentSign",re[re.PlusSign=4]="PlusSign",re[re.MinusSign=5]="MinusSign",re[re.Exponential=6]="Exponential",re[re.SuperscriptingExponent=7]="SuperscriptingExponent",re[re.PerMille=8]="PerMille",re[re.Infinity=9]="Infinity",re[re.NaN=10]="NaN",re[re.TimeSeparator=11]="TimeSeparator",re[re.CurrencyDecimal=12]="CurrencyDecimal",re[re.CurrencyGroup=13]="CurrencyGroup",re))();function nn(n,t){return Ke((0,s.cg1)(n)[s.wAp.DateFormat],t)}function rn(n,t){return Ke((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function Gi(n,t){return Ke((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function Ut(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===re.CurrencyDecimal)return e[s.wAp.NumberSymbols][re.Decimal];if(t===re.CurrencyGroup)return e[s.wAp.NumberSymbols][re.Group]}return i}function ss(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ke(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function cr(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const wr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wn={},ai=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Cn=(()=>((Cn=Cn||{})[Cn.Short=0]="Short",Cn[Cn.ShortGMT=1]="ShortGMT",Cn[Cn.Long=2]="Long",Cn[Cn.Extended=3]="Extended",Cn))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),ht=(()=>((ht=ht||{})[ht.DayPeriods=0]="DayPeriods",ht[ht.Days=1]="Days",ht[ht.Months=2]="Months",ht[ht.Eras=3]="Eras",ht))();function _n(n,t,e,i){let r=function Mn(n){if(os(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return bi(r,o-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(wr))return function ni(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,u,h,_,b),t}(i)}const t=new Date(n);if(!os(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=wi(e,t)||t;let h,u=[];for(;t;){if(h=ai.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const D=u.pop();if(!D)break;t=D}}let _=r.getTimezoneOffset();i&&(_=li(i,_),r=function Lt(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Gt(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(li(t,r)-r))}(r,i,!0));let b="";return u.forEach(D=>{const M=function on(n){if(yn[n])return yn[n];let t;switch(n){case"G":case"GG":case"GGG":t=en(ht.Eras,ne.Abbreviated);break;case"GGGG":t=en(ht.Eras,ne.Wide);break;case"GGGGG":t=en(ht.Eras,ne.Narrow);break;case"y":t=sn(yt.FullYear,1,0,!1,!0);break;case"yy":t=sn(yt.FullYear,2,0,!0,!0);break;case"yyy":t=sn(yt.FullYear,3,0,!1,!0);break;case"yyyy":t=sn(yt.FullYear,4,0,!1,!0);break;case"Y":t=ut(1);break;case"YY":t=ut(2,!0);break;case"YYY":t=ut(3);break;case"YYYY":t=ut(4);break;case"M":case"L":t=sn(yt.Month,1,1);break;case"MM":case"LL":t=sn(yt.Month,2,1);break;case"MMM":t=en(ht.Months,ne.Abbreviated);break;case"MMMM":t=en(ht.Months,ne.Wide);break;case"MMMMM":t=en(ht.Months,ne.Narrow);break;case"LLL":t=en(ht.Months,ne.Abbreviated,K.Standalone);break;case"LLLL":t=en(ht.Months,ne.Wide,K.Standalone);break;case"LLLLL":t=en(ht.Months,ne.Narrow,K.Standalone);break;case"w":t=Be(1);break;case"ww":t=Be(2);break;case"W":t=Be(1,!0);break;case"d":t=sn(yt.Date,1);break;case"dd":t=sn(yt.Date,2);break;case"c":case"cc":t=sn(yt.Day,1);break;case"ccc":t=en(ht.Days,ne.Abbreviated,K.Standalone);break;case"cccc":t=en(ht.Days,ne.Wide,K.Standalone);break;case"ccccc":t=en(ht.Days,ne.Narrow,K.Standalone);break;case"cccccc":t=en(ht.Days,ne.Short,K.Standalone);break;case"E":case"EE":case"EEE":t=en(ht.Days,ne.Abbreviated);break;case"EEEE":t=en(ht.Days,ne.Wide);break;case"EEEEE":t=en(ht.Days,ne.Narrow);break;case"EEEEEE":t=en(ht.Days,ne.Short);break;case"a":case"aa":case"aaa":t=en(ht.DayPeriods,ne.Abbreviated);break;case"aaaa":t=en(ht.DayPeriods,ne.Wide);break;case"aaaaa":t=en(ht.DayPeriods,ne.Narrow);break;case"b":case"bb":case"bbb":t=en(ht.DayPeriods,ne.Abbreviated,K.Standalone,!0);break;case"bbbb":t=en(ht.DayPeriods,ne.Wide,K.Standalone,!0);break;case"bbbbb":t=en(ht.DayPeriods,ne.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":t=en(ht.DayPeriods,ne.Abbreviated,K.Format,!0);break;case"BBBB":t=en(ht.DayPeriods,ne.Wide,K.Format,!0);break;case"BBBBB":t=en(ht.DayPeriods,ne.Narrow,K.Format,!0);break;case"h":t=sn(yt.Hours,1,-12);break;case"hh":t=sn(yt.Hours,2,-12);break;case"H":t=sn(yt.Hours,1);break;case"HH":t=sn(yt.Hours,2);break;case"m":t=sn(yt.Minutes,1);break;case"mm":t=sn(yt.Minutes,2);break;case"s":t=sn(yt.Seconds,1);break;case"ss":t=sn(yt.Seconds,2);break;case"S":t=sn(yt.FractionalSeconds,1);break;case"SS":t=sn(yt.FractionalSeconds,2);break;case"SSS":t=sn(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=z(Cn.Short);break;case"ZZZZZ":t=z(Cn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=z(Cn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=z(Cn.Long);break;default:return null}return yn[n]=t,t}(D);b+=M?M(r,e,_):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function bi(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function wi(n,t){const e=function Re(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(Wn[e]=Wn[e]||{},Wn[e][t])return Wn[e][t];let i="";switch(t){case"shortDate":i=nn(n,oe.Short);break;case"mediumDate":i=nn(n,oe.Medium);break;case"longDate":i=nn(n,oe.Long);break;case"fullDate":i=nn(n,oe.Full);break;case"shortTime":i=rn(n,oe.Short);break;case"mediumTime":i=rn(n,oe.Medium);break;case"longTime":i=rn(n,oe.Long);break;case"fullTime":i=rn(n,oe.Full);break;case"short":const r=wi(n,"shortTime"),o=wi(n,"shortDate");i=zi(Gi(n,oe.Short),[r,o]);break;case"medium":const u=wi(n,"mediumTime"),h=wi(n,"mediumDate");i=zi(Gi(n,oe.Medium),[u,h]);break;case"long":const _=wi(n,"longTime"),b=wi(n,"longDate");i=zi(Gi(n,oe.Long),[_,b]);break;case"full":const D=wi(n,"fullTime"),M=wi(n,"fullDate");i=zi(Gi(n,oe.Full),[D,M])}return i&&(Wn[e][t]=i),i}function zi(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Mt(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),o+u}function sn(n,t,e=0,i=!1,r=!1){return function(o,u){let h=function Lr(n,t){switch(n){case yt.FullYear:return t.getFullYear();case yt.Month:return t.getMonth();case yt.Date:return t.getDate();case yt.Hours:return t.getHours();case yt.Minutes:return t.getMinutes();case yt.Seconds:return t.getSeconds();case yt.FractionalSeconds:return t.getMilliseconds();case yt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||h>-e)&&(h+=e),n===yt.Hours)0===h&&-12===e&&(h=12);else if(n===yt.FractionalSeconds)return function Cs(n,t){return Mt(n,3).substring(0,t)}(h,t);const _=Ut(u,re.MinusSign);return Mt(h,t,_,i,r)}}function en(n,t,e=K.Format,i=!1){return function(r,o){return function W(n,t,e,i,r,o){switch(e){case ht.Months:return function $t(n,t,e){const i=(0,s.cg1)(n),o=Ke([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return Ke(o,e)}(t,r,i)[n.getMonth()];case ht.Days:return function Kt(n,t,e){const i=(0,s.cg1)(n),o=Ke([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return Ke(o,e)}(t,r,i)[n.getDay()];case ht.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const b=function lr(n){const t=(0,s.cg1)(n);return ss(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?cr(i):[cr(i[0]),cr(i[1])])}(t),D=function Fr(n,t,e){const i=(0,s.cg1)(n);ss(i);const o=Ke([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return Ke(o,e)||[]}(t,r,i),M=b.findIndex(O=>{if(Array.isArray(O)){const[V,U]=O,J=u>=V.hours&&h>=V.minutes,le=u<U.hours||u===U.hours&&h<U.minutes;if(V.hours<U.hours){if(J&&le)return!0}else if(J||le)return!0}else if(O.hours===u&&O.minutes===h)return!0;return!1});if(-1!==M)return D[M]}return function _t(n,t,e){const i=(0,s.cg1)(n),o=Ke([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return Ke(o,e)}(t,r,i)[u<12?0:1];case ht.Eras:return function Ye(n,t){return Ke((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function z(n){return function(t,e,i){const r=-1*i,o=Ut(e,re.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Cn.Short:return(r>=0?"+":"")+Mt(u,2,o)+Mt(Math.abs(r%60),2,o);case Cn.ShortGMT:return"GMT"+(r>=0?"+":"")+Mt(u,1,o);case Cn.Long:return"GMT"+(r>=0?"+":"")+Mt(u,2,o)+":"+Mt(Math.abs(r%60),2,o);case Cn.Extended:return 0===i?"Z":(r>=0?"+":"")+Mt(u,2,o)+":"+Mt(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function Se(n){return bi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Be(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+o)/7)}else{const o=Se(e),u=function Y(n){const t=bi(n,0,1).getDay();return bi(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Mt(r,n,Ut(i,re.MinusSign))}}function ut(n,t=!1){return function(e,i){return Mt(Se(e).getFullYear(),n,Ut(i,re.MinusSign),t)}}const yn={};function li(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function os(n){return n instanceof Date&&!isNaN(n.valueOf())}let Qt=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Qa{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Br=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Qa(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),io(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{io(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function io(n,t){n.context.$implicit=t.item}let cn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new xu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ci("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ci("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class xu{constructor(){this.$implicit=null,this.ngIf=null}}function Ci(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class qi{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let xo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ro=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new qi(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(xo,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Gl=(()=>{class n{constructor(e,i,r){r._addDefault(new qi(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(xo,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();function ui(n,t){return new s.vHH(2100,!1)}class lh{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class mg{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Ds=new mg,gg=new lh;let zl=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Ds;if((0,s.F4k)(e))return gg;throw ui()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const yg=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let hp=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{return _n(e,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw ui()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(yg,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Vi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Is="browser";function Ri(n){return"server"===n}let Yl=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new _p((0,s.LFG)(ee),window)}),n})();class _p{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Yi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Er(this.window.history)||Er(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Er(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Po extends class ph extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){te||(te=n)}(new Po)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ac(){return Fo=Fo||document.querySelector("base"),Fo?Fo.getAttribute("href"):null}();return null==e?null:function dr(n){di=di||document.createElement("a"),di.setAttribute("href",n);const t=di.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Fo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function jl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let di,Fo=null;const En=new s.OlP("TRANSITION_ID"),Zu=[{provide:s.ip1,useFactory:function Yu(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[En,ee,s.zs3],multi:!0}];let Wu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const lc=new s.OlP("EventManagerPlugins");let gh=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lc),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ku{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let fa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),pa=(()=>{class n extends fa{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(_h),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(_h))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function _h(n){F().remove(n)}const ma={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yh=/%COMP%/g;function dc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?dc(n,r,e):(r=r.replace(yh,n),e.push(r))}return e}function vh(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Lo=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ga(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new bh(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new wh(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=dc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gh),s.LFG(pa),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ga{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ma[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(ol(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(ol(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=ma[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ma[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,vh(i)):this.eventManager.addEventListener(t,e,vh(i))}}function ol(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bh extends ga{constructor(t,e,i,r){super(t),this.component=i;const o=dc(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Hn(n){return"_ngcontent-%COMP%".replace(yh,n)}(r+"-"+i.id),this.hostAttr=function uc(n){return"_nghost-%COMP%".replace(yh,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class wh extends ga{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=dc(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Di=(()=>{class n extends Ku{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const al=["alt","control","meta","shift"],ll={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},us={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let cl=(()=>{class n extends Ku{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),al.forEach(b=>{const D=i.indexOf(b);D>-1&&(i.splice(D,1),u+=b+".")}),u+=o,0!=i.length||0===o.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(e,i){let r=ll[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),al.forEach(u=>{u!==r&&(0,us[u])(e)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const mc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Is},{provide:s.g9A,useValue:function fc(){Po.makeCurrent()},multi:!0},{provide:ee,useFactory:function dl(){return(0,s.RDi)(document),document},deps:[]}]),co=new s.OlP(""),Dh=[{provide:s.rWj,useClass:class mh{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(_){u=u||_,o--,0==o&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],uo=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Bo(){return new s.qLn},deps:[]},{provide:lc,useClass:Di,multi:!0,deps:[ee,s.R0b,s.Lbi]},{provide:lc,useClass:cl,multi:!0,deps:[ee]},{provide:Lo,useClass:Lo,deps:[gh,pa,s.AFp]},{provide:s.FYo,useExisting:Lo},{provide:fa,useExisting:pa},{provide:pa,useClass:pa,deps:[ee]},{provide:gh,useClass:gh,deps:[lc,s.R0b]},{provide:class da{},useClass:Wu,deps:[]},[]];let gc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:En,useExisting:s.AFp},Zu]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(co,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...uo,...Dh],imports:[Vi,s.hGG]}),n})(),xs=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function _a(){return new xs((0,s.LFG)(ee))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Da=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Eg),i},providedIn:"root"}),n})(),Eg=(()=>{class n extends Da{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Dg(n){return new Eg(n.get(ee))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var fr=P(2011),ds=P(4986),Si=P(9751),un=P(8996),hi=P(3269);function Le(...n){const t=(0,hi.yG)(n);return(0,un.D)(n,t)}var fi=P(5813),hs=P(8189);function po(...n){return function fo(){return(0,hs.J)(1)}()((0,un.D)(n,(0,hi.yG)(n)))}var pi=P(4482);function Sn(...n){const t=(0,hi.yG)(n);return(0,pi.e)((e,i)=>{(t?po(n,e,t):po(n,e)).subscribe(i)})}var In=P(5403);function mo(){return(0,pi.e)((n,t)=>{let e,i=!1;n.subscribe((0,In.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var Qe=P(4004);function pr(n,t,e,i,r){return(o,u)=>{let h=e,_=t,b=0;o.subscribe((0,In.x)(u,D=>{const M=b++;_=h?n(_,D,M):(h=!0,D),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}function Rs(n,t){return(0,pi.e)(pr(n,t,arguments.length>=2,!0))}var Ir=P(4671);function Go(n,t=Ir.y){return n=n??ml,(0,pi.e)((e,i)=>{let r,o=!0;e.subscribe((0,In.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function ml(n,t){return n===t}function Yt(n,t){return(0,pi.e)((e,i)=>{let r=0;e.subscribe((0,In.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}P(2476);var rt,gl=P(3942),ve=P(5861),go=P(9681),ed=P(4859),Mr=P(1877),jt=P(2090),_l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mi={},Ea=Ea||{},vt=_l||self;function Sa(){}function Tr(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function yl(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var fs="closure_uid_"+(1e9*Math.random()>>>0),Ih=0;function Qn(n,t,e){return n.call.apply(n.bind,arguments)}function wp(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function S(n,t,e){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qn:wp).apply(null,arguments)}function I(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function x(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function L(){this.s=this.s,this.o=this.o}var ue={};L.prototype.s=!1,L.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Ia(n){return Object.prototype.hasOwnProperty.call(n,fs)&&n[fs]||(n[fs]=++Ih)}(this);delete ue[n]}},L.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ie=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function He(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function mt(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Tr(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function et(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vt.addEventListener("test",Sa,t),vt.removeEventListener("test",Sa,t)}catch{}return n}();function ft(n){return/^[\s\xa0]*$/.test(n)}var An=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function gi(n,t){return n<t?-1:n>t?1:0}function Os(){var n=vt.navigator;return n&&(n=n.userAgent)?n:""}function Bi(n){return-1!=Os().indexOf(n)}function Ps(n){return Ps[" "](n),n}Ps[" "]=Sa;var Mh,n,_o=Bi("Opera"),Ar=Bi("Trident")||Bi("MSIE"),zo=Bi("Edge"),Fs=zo||Ar,td=Bi("Gecko")&&!(-1!=Os().toLowerCase().indexOf("webkit")&&!Bi("Edge"))&&!(Bi("Trident")||Bi("MSIE"))&&!Bi("Edge"),Sg=-1!=Os().toLowerCase().indexOf("webkit")&&!Bi("Edge");function Ig(){var n=vt.document;return n?n.documentMode:void 0}e:{var Th="",wc=(n=Os(),td?/rv:([^\);]+)(\)|;)/.exec(n):zo?/Edge\/([\d\.]+)/.exec(n):Ar?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Sg?/WebKit\/(\S+)/.exec(n):_o?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(wc&&(Th=wc?wc[1]:""),Ar){var vl=Ig();if(null!=vl&&vl>parseFloat(Th)){Mh=String(vl);break e}}Mh=Th}var Ky={};var yC=vt.document&&Ar&&(Ig()||parseInt(Mh,10))||void 0;function bl(n,t){if(et.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(td){e:{try{Ps(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qy[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bl.X.h.call(this)}}x(bl,et);var Qy={2:"touch",3:"pen",4:"mouse"};bl.prototype.h=function(){bl.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Cc="closure_listenable_"+(1e6*Math.random()|0),Dc=0;function Dp(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++Dc,this.ba=this.ea=!1}function $o(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Ep(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Ag(n){const t={};for(const e in n)t[e]=n[e];return t}const Xy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ec(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<Xy.length;o++)e=Xy[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Sc(n){this.src=n,this.g={},this.h=0}function Ah(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=Ie(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&($o(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function xh(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==i)return r}return-1}Sc.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=xh(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new Dp(t,this.src,o,!!i,r)).ea=e,n.push(t)),t};var kh="closure_lm_"+(1e6*Math.random()|0),Ns={};function xg(n,t,e,i,r){if(i&&i.once)return Sp(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)xg(n,t[o],e,i,r);return null}return e=Mp(e),n&&n[Cc]?n.N(t,e,yl(i)?!!i.capture:!!i,r):Rh(n,t,e,!1,i,r)}function Rh(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=yl(r)?!!r.capture:!!r,h=Oh(n);if(h||(n[kh]=h=new Sc(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function Jy(){const t=Rg;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Nt||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(wl(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Sp(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Sp(n,t[o],e,i,r);return null}return e=Mp(e),n&&n[Cc]?n.O(t,e,yl(i)?!!i.capture:!!i,r):Rh(n,t,e,!0,i,r)}function kg(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)kg(n,t[o],e,i,r);else i=yl(i)?!!i.capture:!!i,e=Mp(e),n&&n[Cc]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=xh(o=n.g[t],e,i,r))&&($o(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Oh(n))&&(t=n.g[t.toString()],n=-1,t&&(n=xh(t,e,i,r)),(e=-1<n?t[n]:null)&&Gr(e))}function Gr(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Cc])Ah(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(wl(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Oh(t))?(Ah(e,n),0==e.h&&(e.src=null,t[kh]=null)):$o(n)}}}function wl(n){return n in Ns?Ns[n]:Ns[n]="on"+n}function Rg(n,t){if(n.ba)n=!0;else{t=new bl(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&Gr(n),n=e.call(i,t)}return n}function Oh(n){return(n=n[kh])instanceof Sc?n:null}var Ip="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mp(n){return"function"==typeof n?n:(n[Ip]||(n[Ip]=function(t){return n.handleEvent(t)}),n[Ip])}function Oi(){L.call(this),this.i=new Sc(this),this.P=this,this.I=null}function Zi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new et(t,n);else if(t instanceof et)t.target=t.target||n;else{var r=t;Ec(t=new et(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=Ls(u,i,!0,t)&&r}if(r=Ls(u=t.g=n,i,!0,t)&&r,r=Ls(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Ls(u=t.g=e[o],i,!1,t)&&r}function Ls(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ba&&u.capture==e){var h=u.listener,_=u.ha||u.src;u.ea&&Ah(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}x(Oi,L),Oi.prototype[Cc]=!0,Oi.prototype.removeEventListener=function(n,t,e,i){kg(this,n,t,e,i)},Oi.prototype.M=function(){if(Oi.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)$o(e[i]);delete n.g[t],n.h--}}this.I=null},Oi.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Oi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Tp=vt.JSON.stringify;function ev(){var n=xp;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Tc,Og=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Ic,n=>n.reset());class Ic{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function qo(n){vt.setTimeout(()=>{throw n},0)}function Mc(n,t){Tc||function Pg(){var n=vt.Promise.resolve(void 0);Tc=function(){n.then(vC)}}(),Ph||(Tc(),Ph=!0),xp.add(n,t)}var Ph=!1,xp=new class Ap{constructor(){this.h=this.g=null}add(t,e){const i=Og.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function vC(){for(var n;n=ev();){try{n.h.call(n.g)}catch(e){qo(e)}var t=Og;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Ph=!1}function kp(n,t){Oi.call(this),this.h=n||1,this.g=t||vt,this.j=S(this.kb,this),this.l=Date.now()}function nd(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function id(n,t,e){if("function"==typeof n)e&&(n=S(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=S(n.handleEvent,n)}return 2147483647<Number(t)?-1:vt.setTimeout(n,t||0)}function tv(n){n.g=id(()=>{n.g=null,n.i&&(n.i=!1,tv(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}x(kp,Oi),(rt=kp.prototype).ca=!1,rt.R=null,rt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Zi(this,"tick"),this.ca&&(nd(this),this.start()))}},rt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){kp.X.M.call(this),nd(this),delete this.g};class nv extends L{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:tv(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(n){L.call(this),this.h=n,this.g={}}x(Ta,L);var Fg=[];function Ng(n,t,e,i){Array.isArray(e)||(e&&(Fg[0]=e.toString()),e=Fg);for(var r=0;r<e.length;r++){var o=xg(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function Fh(n){Ep(n.g,function(t,e){this.g.hasOwnProperty(e)&&Gr(t)},n),n.g={}}function Ac(){this.g=!0}function yo(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function iv(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return Tp(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Ta.prototype.M=function(){Ta.X.M.call(this),Fh(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ac.prototype.Aa=function(){this.g=!1},Ac.prototype.info=function(){};var bn={},Op=null;function Lh(){return Op=Op||new Oi}function Vh(n){et.call(this,bn.Oa,n)}function xc(n){const t=Lh();Zi(t,new Vh(t,n))}function Vg(n,t){et.call(this,bn.STAT_EVENT,n),this.stat=t}function Ii(n){const t=Lh();Zi(t,new Vg(t,n))}function Bg(n,t){et.call(this,bn.Pa,n),this.size=t}function kc(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){n()},t)}bn.Oa="serverreachability",x(Vh,et),bn.STAT_EVENT="statevent",x(Vg,et),bn.Pa="timingevent",x(Bg,et);var Bh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},rv={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ug(){}function rd(){}Ug.prototype.h=null;var Pp,Aa={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Oc(){et.call(this,"d")}function sd(){et.call(this,"c")}function Cl(){}function Pc(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Ta(this),this.O=Uh,this.T=new kp(n=Fs?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Wi}function Wi(){this.i=null,this.g="",this.h=!1}x(Oc,et),x(sd,et),x(Cl,Ug),Cl.prototype.g=function(){return new XMLHttpRequest},Cl.prototype.i=function(){return{}},Pp=new Cl;var Uh=45e3,Hh={},Fc={};function Nc(n,t,e){n.K=1,n.v=cd(vo(t)),n.s=e,n.P=!0,od(n,null)}function od(n,t){n.F=Date.now(),mr(n),n.A=vo(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),wt(e.i,"t",i),n.C=0,e=n.l.H,n.h=new Wi,n.g=RC(n.l,e?t:null,!n.s),0<n.N&&(n.L=new nv(S(n.Ka,n,n.g),n.N)),Ng(n.S,n.g,"readystatechange",n.hb),t=n.H?Ag(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),xc(1),function Lg(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),_=0;_<h.length;_++){var b=h[_].split("=");if(1<b.length){var D=b[0];b=b[1];var M=D.split("_");u=2<=M.length&&"type"==M[1]?u+(D+"=")+b+"&":u+(D+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function xa(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Fp(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=Np(n,e),r==Fc){4==t&&(n.o=4,Ii(14),i=!1),yo(n.j,n.m,null,"[Incomplete Response]");break}if(r==Hh){n.o=4,Ii(15),yo(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}yo(n.j,n.m,r,null),ad(n,r)}xa(n)&&r!=Fc&&r!=Hh&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ii(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),Yg(t),t.K=!0,Ii(11))):(yo(n.j,n.m,e,"[Invalid Chunked Response]"),zr(n),ka(n))}function Np(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Fc:(e=Number(t.substring(e,i)),isNaN(e)?Hh:(i+=1)+e>t.length?Fc:(t=t.substr(i,e),n.C=i+e,t))}function mr(n){n.V=Date.now()+n.O,Lp(n,n.O)}function Lp(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=kc(S(n.fb,n),t)}function Lc(n){n.B&&(vt.clearTimeout(n.B),n.B=null)}function ka(n){0==n.l.G||n.I||AC(n.l,n)}function zr(n){Lc(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,nd(n.T),Fh(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function ad(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Up(e.h,n)))if(!n.J&&Up(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;jp(e),Qi(e)}hv(e),Ii(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=kc(S(e.bb,e),6e3));if(1>=dd(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else pd(e,11)}else if((n.J||e.g==n)&&jp(e),!ft(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.T=b[0],b=b[1],2==e.G)if("c"==b[0]){e.I=b[1],e.ka=b[2];const D=b[3];null!=D&&(e.ma=D,e.j.info("VER="+e.ma));const M=b[4];null!=M&&(e.Ca=M,e.j.info("SVER="+e.Ca));const O=b[5];null!=O&&"number"==typeof O&&0<O&&(e.J=i=1.5*O,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const V=n.g;if(V){const U=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var o=i.h;o.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&($h(o,o.h),o.h=null))}if(i.D){const J=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(i.za=J,Pn(i.F,i.D,J))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=kC(i,i.H?i.ka:null,i.V),u.J){hd(i.h,u);var h=u,_=i.J;_&&h.setTimeout(_),h.B&&(Lc(h),mr(h)),i.g=u}else MC(i);0<e.i.length&&Hp(e)}else"stop"!=b[0]&&"close"!=b[0]||pd(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?pd(e,7):cv(e):"noop"!=b[0]&&e.l&&e.l.wa(b),e.A=0)}xc(4)}catch{}}function jh(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Tr(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function Vp(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Tr(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function Ki(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Tr(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(rt=Pc.prototype).setTimeout=function(n){this.O=n},rt.hb=function(n){n=n.target;const t=this.L;t&&3==Yo(n)?t.l():this.Ka(n)},rt.Ka=function(n){try{if(n==this.g)e:{const D=Yo(this.g);var t=this.g.Ea();const M=this.g.aa();if(!(3>D)&&(3!=D||Fs||this.g&&(this.h.h||this.g.fa()||EC(this.g)))){this.I||4!=D||7==t||xc(8==t||0>=M?3:2),Lc(this);var e=this.g.aa();this.Y=e;t:if(xa(this)){var i=EC(this.g);n="";var r=i.length,o=4==Yo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zr(this),ka(this);var u="";break t}this.h.i=new vt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function Nh(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.U,D,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(h)){var b=h;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,Ii(12),zr(this),ka(this);break e}yo(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ad(this,e)}this.P?(Fp(this,D,u),Fs&&this.i&&3==D&&(Ng(this.S,this.T,"tick",this.gb),this.T.start())):(yo(this.j,this.m,u,null),ad(this,u)),4==D&&zr(this),this.i&&!this.I&&(4==D?AC(this.l,this):(this.i=!1,mr(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Ii(12)):(this.o=0,Ii(13)),zr(this),ka(this)}}}catch{}},rt.gb=function(){if(this.g){var n=Yo(this.g),t=this.g.fa();this.C<t.length&&(Lc(this),Fp(this,n,t),this.i&&4!=n&&mr(this))}},rt.cancel=function(){this.I=!0,zr(this)},rt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Rp(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(xc(3),Ii(17)),zr(this),this.o=2,ka(this)):Lp(this,this.V-n)};var Bp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Vs){this.h=void 0!==t?t:n.h,ld(this,n.j),this.s=n.s,this.g=n.g,Gh(this,n.m),this.l=n.l,t=n.i;var e=new Z;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),Vc(this,e),this.o=n.o}else n&&(e=String(n).match(Bp))?(this.h=!!t,ld(this,e[1]||"",!0),this.s=ud(e[2]||""),this.g=ud(e[3]||"",!0),Gh(this,e[4]),this.l=ud(e[5]||"",!0),Vc(this,e[6]||"",!0),this.o=ud(e[7]||"")):(this.h=!!t,this.i=new Z(null,this.h))}function vo(n){return new Vs(n)}function ld(n,t,e){n.j=e?ud(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Gh(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Vc(n,t,e){t instanceof Z?(n.i=t,function _i(n,t){t&&!n.j&&(de(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Ne(this,i),wt(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Bc(t,A)),n.i=new Z(t,n.h))}function Pn(n,t,e){n.i.set(t,e)}function cd(n){return Pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ud(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Bc(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,y),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function y(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vs.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Bc(t,p,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Bc(t,p,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Bc(e,"/"==e.charAt(0)?w:g,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Bc(e,R)),n.join("")};var p=/[#\/\?@]/g,g=/[#\?:]/g,w=/[#\?]/g,A=/[#\?@]/g,R=/#/g;function Z(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function de(n){n.g||(n.g=new Map,n.h=0,n.i&&function xr(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Ne(n,t){de(n),t=dt(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function Xe(n,t){return de(n),t=dt(n,t),n.g.has(t)}function wt(n,t,e){Ne(n,t),0<e.length&&(n.i=null,n.g.set(dt(n,t),He(e)),n.h+=e.length)}function dt(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Dl(n){this.l=n||Hg,n=vt.PerformanceNavigationTiming?0<(n=vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vt.g&&vt.g.Ga&&vt.g.Ga()&&vt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Z.prototype).add=function(n,t){de(this),this.i=null,n=dt(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},rt.forEach=function(n,t){de(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},rt.oa=function(){de(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},rt.W=function(n){de(this);let t=[];if("string"==typeof n)Xe(this,n)&&(t=t.concat(this.g.get(dt(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},rt.set=function(n,t){return de(this),this.i=null,Xe(this,n=dt(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},rt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var Hg=10;function zh(n){return!!n.h||!!n.g&&n.g.size>=n.j}function dd(n){return n.h?1:n.g?n.g.size:0}function Up(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function $h(n,t){n.g?n.g.add(t):n.h=t}function hd(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function jg(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return He(n.i)}function qh(){}function sv(){this.g=new qh}function bC(n,t,e){const i=e||"";try{jh(n,function(r,o){let u=r;yl(r)&&(u=Tp(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Yh(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Zh(n){this.l=n.$b||null,this.j=n.ib||!1}function Wh(n,t){Oi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=zg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dl.prototype.cancel=function(){if(this.i=jg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qh.prototype.stringify=function(n){return vt.JSON.stringify(n,void 0)},qh.prototype.parse=function(n){return vt.JSON.parse(n,void 0)},x(Zh,Ug),Zh.prototype.g=function(){return new Wh(this.l,this.j)},Zh.prototype.i=function(n){return function(){return n}}({}),x(Wh,Oi);var zg=0;function ov(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Kh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fd(n)}function fd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=Wh.prototype).open=function(n,t){if(this.readyState!=zg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,fd(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||vt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kh(this)),this.readyState=zg},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fd(this)),this.g&&(this.readyState=3,fd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ov(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Kh(this):fd(this),3==this.readyState&&ov(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,Kh(this))},rt.Ta=function(n){this.g&&(this.response=n,Kh(this))},rt.ga=function(){this.g&&Kh(this)},rt.setRequestHeader=function(n,t){this.v.append(n,t)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Wh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var VM=vt.JSON.parse;function yi(n){Oi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qh,this.K=this.L=!1}x(yi,Oi);var Qh="",BM=/^https?$/i,UM=["POST","PUT"];function av(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,wC(n),$g(n)}function wC(n){n.D||(n.D=!0,Zi(n,"complete"),Zi(n,"error"))}function CC(n){if(n.h&&typeof Ea<"u"&&(!n.C[1]||4!=Yo(n)||2!=n.aa()))if(n.v&&4==Yo(n))id(n.Ha,0,n);else if(Zi(n,"readystatechange"),4==Yo(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(Bp)[1]||null;if(!r&&vt.self&&vt.self.location){var o=vt.self.location.protocol;r=o.substr(0,o.length-1)}i=!BM.test(r?r.toLowerCase():"")}e=i}if(e)Zi(n,"complete"),Zi(n,"success");else{n.m=6;try{var u=2<Yo(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",wC(n)}}finally{$g(n)}}}function $g(n,t){if(n.g){DC(n);const e=n.g,i=n.C[0]?Sa:null;n.g=null,n.C=null,t||Zi(n,"ready");try{e.onreadystatechange=i}catch{}}}function DC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vt.clearTimeout(n.A),n.A=null)}function Yo(n){return n.g?n.g.readyState:0}function EC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Qh:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function SC(n){let t="";return Ep(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function lv(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=SC(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Pn(n,t,e))}function Xh(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function IC(n){this.Ca=0,this.i=[],this.j=new Ac,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Xh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Xh("baseRetryDelayMs",5e3,n),this.ab=Xh("retryDelaySeedMs",1e4,n),this.Za=Xh("forwardChannelMaxRetries",2,n),this.ta=Xh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Dl(n&&n.concurrentRequestLimit),this.Fa=new sv,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function cv(n){if(qg(n),3==n.G){var t=n.U++,e=vo(n.F);Pn(e,"SID",n.I),Pn(e,"RID",t),Pn(e,"TYPE","terminate"),El(n,e),(t=new Pc(n,n.j,t,void 0)).K=2,t.v=cd(vo(e)),e=!1,vt.navigator&&vt.navigator.sendBeacon&&(e=vt.navigator.sendBeacon(t.v.toString(),"")),!e&&vt.Image&&((new Image).src=t.v,e=!0),e||(t.g=RC(t.l,null),t.g.da(t.v)),t.F=Date.now(),mr(t)}xC(n)}function Qi(n){n.g&&(Yg(n),n.g.cancel(),n.g=null)}function qg(n){Qi(n),n.u&&(vt.clearTimeout(n.u),n.u=null),jp(n),n.h.cancel(),n.m&&("number"==typeof n.m&&vt.clearTimeout(n.m),n.m=null)}function Hp(n){zh(n.h)||n.m||(n.m=!0,Mc(n.Ja,n),n.C=0)}function gr(n,t){var e;e=t?t.m:n.U++;const i=vo(n.F);Pn(i,"SID",n.I),Pn(i,"RID",e),Pn(i,"AID",n.T),El(n,i),n.o&&n.s&&lv(i,n.o,n.s),e=new Pc(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=dv(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),$h(n.h,e),Nc(e,i,t)}function El(n,t){n.ia&&Ep(n.ia,function(e,i){Pn(t,i,e)}),n.l&&jh({},function(e,i){Pn(t,i,e)})}function dv(n,t,e){e=Math.min(n.i.length,e);var i=n.l?S(n.l.Qa,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let _=0;_<e;_++){let b=r[_].h;const D=r[_].g;if(b-=o,0>b)o=Math.max(0,r[_].h-100),h=!1;else try{bC(D,u,"req"+b+"_")}catch{i&&i(D)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function MC(n){n.g||n.u||(n.Z=1,Mc(n.Ia,n),n.A=0)}function hv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=kc(S(n.Ia,n),fv(n,n.A)),n.A++,0))}function Yg(n){null!=n.B&&(vt.clearTimeout(n.B),n.B=null)}function TC(n){n.g=new Pc(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=vo(n.sa);Pn(t,"RID","rpc"),Pn(t,"SID",n.I),Pn(t,"CI",n.L?"0":"1"),Pn(t,"AID",n.T),Pn(t,"TYPE","xmlhttp"),El(n,t),n.o&&n.s&&lv(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=cd(vo(t)),e.s=null,e.P=!0,od(e,n)}function jp(n){null!=n.v&&(vt.clearTimeout(n.v),n.v=null)}function AC(n,t){var e=null;if(n.g==t){jp(n),Yg(n),n.g=null;var i=2}else{if(!Up(n.h,t))return;e=t.D,hd(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Zi(i=Lh(),new Bg(i,e,t,r)),Hp(n)}else MC(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function uv(n,t){return!(dd(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=kc(S(n.Ja,n,t),fv(n,n.C)),n.C++,0)))}(n,t)||2==i&&hv(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:pd(n,5);break;case 4:pd(n,10);break;case 3:pd(n,6);break;default:pd(n,2)}}function fv(n,t){let e=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(e*=2),e*t}function pd(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=S(n.jb,n);e||(e=new Vs("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||ld(e,"https"),cd(e)),function Gg(n,t){const e=new Ac;if(vt.Image){const i=new Image;i.onload=I(Yh,e,i,"TestLoadImage: loaded",!0,t),i.onerror=I(Yh,e,i,"TestLoadImage: error",!1,t),i.onabort=I(Yh,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=I(Yh,e,i,"TestLoadImage: timeout",!1,t),vt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ii(2);n.G=0,n.l&&n.l.va(t),xC(n),qg(n)}function xC(n){if(n.G=0,n.la=[],n.l){const t=jg(n.h);(0!=t.length||0!=n.i.length)&&(mt(n.la,t),mt(n.la,n.i),n.h.i.length=0,He(n.i),n.i.length=0),n.l.ua()}}function kC(n,t,e){var i=e instanceof Vs?vo(e):new Vs(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Gh(i,i.m);else{var r=vt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Vs(null,void 0);i&&ld(o,i),t&&(o.g=t),r&&Gh(o,r),e&&(o.l=e),i=o}return t=n.za,(e=n.D)&&t&&Pn(i,e,t),Pn(i,"VER",n.ma),El(n,i),i}function RC(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new yi(e&&n.Da&&!n.ra?new Zh({ib:!0}):n.ra)).L=n.H,t}function OC(){}function Sl(){if(Ar&&!(10<=Number(yC)))throw Error("Environmental error: no available transport.")}function Mi(n,t){Oi.call(this),this.g=new IC(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Xb)&&!ft(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ft(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Gp(this)}function PC(n){Oc.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function FC(){sd.call(this),this.status=1}function Gp(n){this.g=n}(rt=yi.prototype).da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pp.g(),this.C=function Rc(n){return n.h||(n.h=n.i())}(this.u?this.u:Pp),this.g.onreadystatechange=S(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void av(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=vt.FormData&&n instanceof vt.FormData,!(0<=Ie(UM,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of e)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{DC(this),0<this.B&&((this.K=function HM(n){return Ar&&function Mg(){return function Ma(n){var t=Ky;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=An(String(Mh)).split("."),e=An("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=gi(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||gi(0==r[2].length,0==o[2].length)||gi(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=S(this.qa,this)):this.A=id(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){av(this,o)}},rt.qa=function(){typeof Ea<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zi(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zi(this,"complete"),Zi(this,"abort"),$g(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$g(this,!0)),yi.X.M.call(this)},rt.Ha=function(){this.s||(this.F||this.v||this.l?CC(this):this.eb())},rt.eb=function(){CC(this)},rt.aa=function(){try{return 2<Yo(this)?this.g.status:-1}catch{return-1}},rt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},rt.Ra=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),VM(t)}},rt.Ea=function(){return this.m},rt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=IC.prototype).ma=8,rt.G=1,rt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Pc(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=Ag(o),Ec(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=dv(this,r,t),Pn(e=vo(this.F),"RID",n),Pn(e,"CVER",22),this.D&&Pn(e,"X-HTTP-Session-Id",this.D),El(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(SC(o)))+"&"+t:this.o&&lv(e,this.o,o)),$h(this.h,r),this.Xa&&Pn(e,"TYPE","init"),this.O?(Pn(e,"$req",t),Pn(e,"SID","null"),r.Z=!0,Nc(r,e,null)):Nc(r,e,t),this.G=2}}else 3==this.G&&(n?gr(this,n):0==this.i.length||zh(this.h)||gr(this))},rt.Ia=function(){if(this.u=null,TC(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=kc(S(this.cb,this),n)}},rt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ii(10),Qi(this),TC(this))},rt.bb=function(){null!=this.v&&(this.v=null,Qi(this),hv(this),Ii(19))},rt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Ii(2)):(this.j.info("Failed to ping google.com"),Ii(1))},(rt=OC.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Qa=function(){},Sl.prototype.g=function(n,t){return new Mi(n,t)},x(Mi,Oi),Mi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Ii(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=kC(n,null,n.V),Hp(n)},Mi.prototype.close=function(){cv(this.g)},Mi.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Tp(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.$a++,n)),3==t.G&&Hp(t)},Mi.prototype.M=function(){this.g.l=null,delete this.j,cv(this.g),delete this.g,Mi.X.M.call(this)},x(PC,Oc),x(FC,sd),x(Gp,OC),Gp.prototype.xa=function(){Zi(this.g,"a")},Gp.prototype.wa=function(n){Zi(this.g,new PC(n))},Gp.prototype.va=function(n){Zi(this.g,new FC(n))},Gp.prototype.ua=function(){Zi(this.g,"b")},Sl.prototype.createWebChannel=Sl.prototype.g,Mi.prototype.send=Mi.prototype.u,Mi.prototype.open=Mi.prototype.m,Mi.prototype.close=Mi.prototype.close,Bh.NO_ERROR=0,Bh.TIMEOUT=8,Bh.HTTP_ERROR=6,rv.COMPLETE="complete",rd.EventType=Aa,Aa.OPEN="a",Aa.CLOSE="b",Aa.ERROR="c",Aa.MESSAGE="d",Oi.prototype.listen=Oi.prototype.N,yi.prototype.listenOnce=yi.prototype.O,yi.prototype.getLastError=yi.prototype.Na,yi.prototype.getLastErrorCode=yi.prototype.Ea,yi.prototype.getStatus=yi.prototype.aa,yi.prototype.getResponseJson=yi.prototype.Ra,yi.prototype.getResponseText=yi.prototype.fa,yi.prototype.send=yi.prototype.da;var HR=mi.createWebChannelTransport=function(){return new Sl},NC=mi.getStatEventTarget=function(){return Lh()},LC=mi.ErrorCode=Bh,Ra=mi.EventType=rv,pv=mi.Event=bn,Zg=mi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jM=mi.FetchXmlHttpFactory=Zh,zp=mi.WebChannel=rd,GM=mi.XhrIo=yi;const Jh="@firebase/firestore";class Xi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");let ef="9.10.0";const Oa=new Mr.Yd("@firebase/firestore");function $p(){return Oa.logLevel}function Oe(n,...t){if(Oa.logLevel<=Mr.in.DEBUG){const e=t.map(Wg);Oa.debug(`Firestore (${ef}): ${n}`,...e)}}function Fn(n,...t){if(Oa.logLevel<=Mr.in.ERROR){const e=t.map(Wg);Oa.error(`Firestore (${ef}): ${n}`,...e)}}function Il(n,...t){if(Oa.logLevel<=Mr.in.WARN){const e=t.map(Wg);Oa.warn(`Firestore (${ef}): ${n}`,...e)}}function Wg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const t=`FIRESTORE (${ef}) INTERNAL ASSERTION FAILED: `+n;throw Fn(t),new Error(t)}function At(n,t){n||st()}function Ze(n,t){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends jt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ji{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class BC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Xi.UNAUTHENTICATED))}shutdown(){}}class mv{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class HC{constructor(t){this.t=t,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let u=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ji,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const b=u;t.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield o(i.currentUser)}))},_=b=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ji)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At("string"==typeof i.accessToken),new BC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return At(null===t||"string"==typeof t),new Xi(t)}}class gv{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(At(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class $M{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new gv(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GC{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=o=>{null!=o.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.A;return this.A=o.token,Oe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(At("string"==typeof e.token),this.A=e.token,new jC(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function md(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class _v{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=md(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Ft(n,t){return n<t?-1:n>t?1:0}function tf(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function YM(n){return n+"\0"}class xn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return xn.fromMillis(Date.now())}static fromDate(t){return xn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new xn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new xt(t)}static min(){return new xt(new xn(0,0))}static max(){return new xt(new xn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nf{constructor(t,e,i){void 0===e?e=0:e>t.length&&st(),void 0===i?i=t.length-e:i>t.length-e&&st(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===nf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof nf?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class tn extends nf{construct(t,e,i){return new tn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ke(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new tn(e)}static emptyPath(){return new tn([])}}const zC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends nf{construct(t,e,i){return new Xn(t,e,i)}static isValidIdentifier(t){return zC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ke(he.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new ke(he.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new ke(he.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xn(e)}static emptyPath(){return new Xn([])}}class qe{constructor(t){this.path=t}static fromPath(t){return new qe(tn.fromString(t))}static fromName(t){return new qe(tn.fromString(t).popFirst(5))}static empty(){return new qe(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===tn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return tn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qe(new tn(t.slice()))}}class gd{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function rf(n){return n.fields.find(t=>2===t.kind)}function Uc(n){return n.fields.filter(t=>2!==t.kind)}gd.UNKNOWN_ID=-1;class qp{constructor(t,e){this.fieldPath=t,this.kind=e}}class Ml{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Ml(0,Bs.min())}}function $C(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(1e9===i?new xn(e+1,0):new xn(e,i));return new Bs(r,qe.empty(),t)}function bv(n){return new Bs(n.readTime,n.key,-1)}class Bs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Bs(xt.min(),qe.empty(),-1)}static max(){return new Bs(xt.max(),qe.empty(),-1)}}function wv(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=qe.comparator(n.documentKey,t.documentKey),0!==e?e:Ft(n.largestBatchId,t.largestBatchId))}const Cv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Tl(n){return qC.apply(this,arguments)}function qC(){return qC=(0,ve.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==Cv)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),qC.apply(this,arguments)}class ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ae((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ae?e:ae.resolve(e)}catch(e){return ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.reject(e)}static resolve(t){return new ae((e,i)=>{e(t)})}static reject(t){return new ae((e,i)=>{i(t)})}static waitFor(t){return new ae((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},_=>i(_))}),u=!0,o===r&&e()})}static or(t){let e=ae.resolve(!1);for(const i of t)e=e.next(r=>r?ae.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ae((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let _=0;_<o;_++){const b=_;e(t[b]).next(D=>{u[b]=D,++h,h===o&&i(u)},D=>r(D))}})}static doWhile(t,e){return new ae((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class Qg{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Ji,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Yp(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Dv(i.target.error);this.P.reject(new Yp(t,r))}}static open(t,e,i,r){try{return new Qg(e,t.transaction(r,i))}catch(o){throw new Yp(e,o)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Oe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new WM(e)}}class bo{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===bo.D((0,jt.z$)())&&Fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Oe("SimpleDb","Removing database:",t),Hc(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,jt.hl)())return!1;if(bo.N())return!0;const t=(0,jt.z$)(),e=bo.D(t),i=0<e&&e<10,r=bo.k(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.M)}static O(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,ve.Z)(function*(){return e.db||(Oe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new Yp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new ke(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ke(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Yp(t,h))},o.onupgradeneeded=u=>{Oe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ve.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.F(t);const _=Qg.open(o.db,t,u?"readonly":"readwrite",i),b=r(_).next(D=>(_.V(),D)).catch(D=>(_.abort(D),ae.reject(D))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,D="FirebaseError"!==b.name&&h<3;if(Oe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",D),o.close(),!D)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ZM{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return Hc(this.U.delete())}}class Yp extends ke{constructor(t,e){super(he.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function er(n){return"IndexedDbTransactionError"===n.name}class WM{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Oe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Hc(i)}add(t){return Oe("SimpleDb","ADD",this.store.name,t,t),Hc(this.store.add(t))}get(t){return Hc(this.store.get(t)).next(e=>(void 0===e&&(e=null),Oe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Oe("SimpleDb","DELETE",this.store.name,t),Hc(this.store.delete(t))}count(){return Oe("SimpleDb","COUNT",this.store.name),Hc(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ae((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ae((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){Oe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(o,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new ae((i,r)=>{e.onerror=o=>{const u=Dv(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(t,e){const i=[];return new ae((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new ZM(h),b=e(h.primaryKey,h.value,_);if(b instanceof ae){const D=b.catch(M=>(_.done(),ae.reject(M)));i.push(D)}_.isDone?r():null===_.G?h.continue():h.continue(_.G)}}).next(()=>ae.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Hc(n){return new ae((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Dv(i.target.error);e(r)}})}let YC=!1;function Dv(n){const t=bo.D((0,jt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return YC||(YC=!0,setTimeout(()=>{throw i},0)),i}}return n}class KM{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Oe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ve.Z)(function*(){e.task=null;try{Oe("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){er(i)?Oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Tl(i)}yield e.nt(6e4)}))}}class QM{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,ve.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,o=!0;return ae.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Oe("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,o)).next(h=>(Oe("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=bv(o);wv(u,i)>0&&(i=u)}),new Bs(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class $r{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function ZC(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function _d(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function WC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}$r.at=-1;class ot{constructor(t,e){this.comparator=t,this.root=e||tr.EMPTY}insert(t,e){return new ot(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(t){return new ot(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zp(this.root,t,this.comparator,!0)}}class Zp{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??tr.RED,this.left=r??tr.EMPTY,this.right=o??tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new tr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return tr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const t=this.left.check();if(t!==this.right.check())throw st();return t+(this.isRed()?0:1)}}tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1,tr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,t,e,i,r){return this}insert(n,t,e){return new tr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(t){this.comparator=t,this.data=new ot(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new KC(this.data.getIterator())}getIteratorFrom(t){return new KC(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof wn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new wn(this.comparator);return e.data=t,e}}class KC{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sf(n){return n.hasNext()?n.getNext():void 0}class ms{constructor(t){this.fields=t,t.sort(Xn.comparator)}static empty(){return new ms([])}unionWith(t){let e=new wn(Xn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ms(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return tf(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Pi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Pi(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Pi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const JM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jc(n){if(At(!!n),"string"==typeof n){let t=0;const e=JM.exec(n);if(At(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ti(n.seconds),nanos:Ti(n.nanos)}}function Ti(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gc(n){return"string"==typeof n?Pi.fromBase64String(n):Pi.fromUint8Array(n)}function Xg(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function zc(n){const t=n.mapValue.fields.__previous_value__;return Xg(t)?zc(t):t}function Wp(n){const t=jc(n.mapValue.fields.__local_write_time__.timestampValue);return new xn(t.seconds,t.nanos)}class Ev{constructor(t,e,i,r,o,u,h,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class Pa{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Pa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Pa&&t.projectId===this.projectId&&t.database===this.database}}function Kp(n){return null==n}function Jg(n){return 0===n&&1/n==-1/0}function eT(n){return"number"==typeof n&&Number.isInteger(n)&&!Jg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const yd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},e_={nullValue:"NULL_VALUE"};function $c(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xg(n)?4:Sv(n)?9007199254740991:10:st()}function Al(n,t){if(n===t)return!0;const e=$c(n);if(e!==$c(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Wp(n).isEqual(Wp(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=jc(i.timestampValue),u=jc(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Gc(n.bytesValue).isEqual(Gc(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Ti(i.geoPointValue.latitude)===Ti(r.geoPointValue.latitude)&&Ti(i.geoPointValue.longitude)===Ti(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ti(i.integerValue)===Ti(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Ti(i.doubleValue),u=Ti(r.doubleValue);return o===u?Jg(o)===Jg(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return tf(n.arrayValue.values||[],t.arrayValue.values||[],Al);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(ZC(o)!==ZC(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!Al(o[h],u[h])))return!1;return!0}(n,t);default:return st()}var r}function Qp(n,t){return void 0!==(n.values||[]).find(e=>Al(e,t))}function Us(n,t){if(n===t)return 0;const e=$c(n),i=$c(t);if(e!==i)return Ft(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=Ti(r.integerValue||r.doubleValue),h=Ti(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return QC(n.timestampValue,t.timestampValue);case 4:return QC(Wp(n),Wp(t));case 5:return Ft(n.stringValue,t.stringValue);case 6:return function(r,o){const u=Gc(r),h=Gc(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let _=0;_<u.length&&_<h.length;_++){const b=Ft(u[_],h[_]);if(0!==b)return b}return Ft(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Ft(Ti(r.latitude),Ti(o.latitude));return 0!==u?u:Ft(Ti(r.longitude),Ti(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let _=0;_<u.length&&_<h.length;++_){const b=Us(u[_],h[_]);if(b)return b}return Ft(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===yd.mapValue&&o===yd.mapValue)return 0;if(r===yd.mapValue)return 1;if(o===yd.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),_=o.fields||{},b=Object.keys(_);h.sort(),b.sort();for(let D=0;D<h.length&&D<b.length;++D){const M=Ft(h[D],b[D]);if(0!==M)return M;const O=Us(u[h[D]],_[b[D]]);if(0!==O)return O}return Ft(h.length,b.length)}(n.mapValue,t.mapValue);default:throw st()}}function QC(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ft(n,t);const e=jc(n),i=jc(t),r=Ft(e.seconds,i.seconds);return 0!==r?r:Ft(e.nanos,i.nanos)}function vd(n){return af(n)}function af(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=jc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gc(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=af(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${af(i.fields[h])}`;return o+"}"}(n.mapValue):st();var t}function bd(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function t_(n){return!!n&&"integerValue"in n}function Xp(n){return!!n&&"arrayValue"in n}function XC(n){return!!n&&"nullValue"in n}function JC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function n_(n){return!!n&&"mapValue"in n}function Jp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return _d(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Jp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Jp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Sv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function tT(n){return"nullValue"in n?e_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?bd(Pa.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function eD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?bd(Pa.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yd:st()}function Iv(n,t){const e=Us(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function i_(n,t){const e=Us(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class kr{constructor(t){this.value=t}static empty(){return new kr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!n_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jp(e)}setAll(t){let e=Xn.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Jp(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());n_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Al(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];n_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){_d(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new kr(Jp(this.value))}}function r_(n){const t=[];return _d(n.fields,(e,i)=>{const r=new Xn([e]);if(n_(i)){const o=r_(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new ms(t)}class Nn{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new Nn(t,0,xt.min(),xt.min(),kr.empty(),0)}static newFoundDocument(t,e,i){return new Nn(t,1,e,xt.min(),i,0)}static newNoDocument(t,e){return new Nn(t,2,e,xt.min(),kr.empty(),0)}static newUnknownDocument(t,e){return new Nn(t,3,e,xt.min(),kr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jR{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ht=null}}function wd(n,t=null,e=[],i=[],r=null,o=null,u=null){return new jR(n,t,e,i,r,o,u)}function qc(n){const t=Ze(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+vd(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Kp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>vd(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>vd(i)).join(",")),t.ht=e}return t.ht}function Yc(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Av(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Al(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!sD(n.startAt,t.startAt)&&sD(n.endAt,t.endAt)}function gs(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function em(n,t){return n.filters.filter(e=>e instanceof jn&&e.field.isEqual(t))}function nD(n,t,e){let i=e_,r=!0;for(const o of em(n,t)){let u=e_,h=!0;switch(o.op){case"<":case"<=":u=tT(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=e_}Iv({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];Iv({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function s_(n,t,e){let i=yd,r=!0;for(const o of em(n,t)){let u=yd,h=!0;switch(o.op){case">=":case">":u=eD(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=yd}i_({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];i_({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class jn extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new Mv(t,e,i):"array-contains"===e?new rD(t,i):"in"===e?new GR(t,i):"not-in"===e?new o_(t,i):"array-contains-any"===e?new a_(t,i):new jn(t,e,i)}static lt(t,e,i){return"in"===e?new iD(t,i):new Tv(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(Us(e,this.value)):null!==e&&$c(this.value)===$c(e)&&this.ft(Us(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return st()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Mv extends jn{constructor(t,e,i){super(t,e,i),this.key=qe.fromName(i.referenceValue)}matches(t){const e=qe.comparator(t.key,this.key);return this.ft(e)}}class iD extends jn{constructor(t,e){super(t,"in",e),this.keys=nT(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Tv extends jn{constructor(t,e){super(t,"not-in",e),this.keys=nT(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function nT(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>qe.fromName(i.referenceValue))}class rD extends jn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Xp(e)&&Qp(e.arrayValue,this.value)}}class GR extends jn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Qp(this.value.arrayValue,e)}}class o_ extends jn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Qp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Qp(this.value.arrayValue,e)}}class a_ extends jn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Xp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Qp(this.value.arrayValue,i))}}class Fa{constructor(t,e){this.position=t,this.inclusive=e}}class Zc{constructor(t,e="asc"){this.field=t,this.dir=e}}function Av(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function iT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?qe.comparator(qe.fromName(u.referenceValue),e.key):Us(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function sD(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Al(n.position[e],t.position[e]))return!1;return!0}class xl{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=_,this._t=null,this.wt=null}}function oD(n,t,e,i,r,o,u,h){return new xl(n,t,e,i,r,o,u,h)}function lf(n){return new xl(n)}function xv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function aD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function kv(n){for(const t of n.filters)if(t.dt())return t.field;return null}function lD(n){return null!==n.collectionGroup}function Cd(n){const t=Ze(n);if(null===t._t){t._t=[];const e=kv(t),i=aD(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new Zc(e)),t._t.push(new Zc(Xn.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t._t.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Zc(Xn.keyField(),o))}}}return t._t}function qr(n){const t=Ze(n);if(!t.wt)if("F"===t.limitType)t.wt=wd(t.path,t.collectionGroup,Cd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Cd(t))e.push(new Zc(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Fa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fa(t.startAt.position,t.startAt.inclusive):null;t.wt=wd(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function l_(n,t,e){return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Dd(n,t){return Yc(qr(n),qr(t))&&n.limitType===t.limitType}function rT(n){return`${qc(qr(n))}|lt:${n.limitType}`}function cD(n){return`Query(target=${function tD(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${vd(i.value)}`;var i}).join(", ")}]`),Kp(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>vd(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>vd(e)).join(",")),`Target(${t})`}(qr(n))}; limitType=${n.limitType})`}function uD(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):qe.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=iT(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,Cd(e),i)||e.endAt&&!function(r,o,u){const h=iT(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,Cd(e),i)));var e,i}function sT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oT(n){return(t,e)=>{let i=!1;for(const r of Cd(n)){const o=zR(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function zR(n,t,e){const i=n.field.isKeyField()?qe.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),_=u.data.field(r);return null!==h&&null!==_?Us(h,_):st()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return st()}}function aT(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jg(t)?"-0":t}}function lT(n){return{integerValue:""+n}}function cT(n,t){return eT(t)?lT(t):aT(n,t)}class Rv{constructor(){this._=void 0}}function Wc(n,t,e){return n instanceof Ed?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof kl?Pv(n,t):n instanceof Rl?hD(n,t):function(i,r){const o=dD(i,r),u=Fv(o)+Fv(i.yt);return t_(o)&&t_(i.yt)?lT(u):aT(i.It,u)}(n,t)}function Ov(n,t,e){return n instanceof kl?Pv(n,t):n instanceof Rl?hD(n,t):e}function dD(n,t){return n instanceof Hs?t_(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Ed extends Rv{}class kl extends Rv{constructor(t){super(),this.elements=t}}function Pv(n,t){const e=fD(t);for(const i of n.elements)e.some(r=>Al(r,i))||e.push(i);return{arrayValue:{values:e}}}class Rl extends Rv{constructor(t){super(),this.elements=t}}function hD(n,t){let e=fD(t);for(const i of n.elements)e=e.filter(r=>!Al(r,i));return{arrayValue:{values:e}}}class Hs extends Rv{constructor(t,e){super(),this.It=t,this.yt=e}}function Fv(n){return Ti(n.integerValue||n.doubleValue)}function fD(n){return Xp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class tm{constructor(t,e){this.field=t,this.transform=e}}class uT{constructor(t,e){this.version=t,this.transformResults=e}}class Jn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sd(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Ol{}function c_(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new uf(n.key,Jn.none()):new Md(n.key,n.data,Jn.none());{const e=n.data,i=kr.empty();let r=new wn(Xn.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new Zo(n.key,i,new ms(r.toArray()),Jn.none())}}function cf(n,t,e){n instanceof Md?function(i,r,o){const u=i.value.clone(),h=Lv(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Zo?function(i,r,o){if(!Sd(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=Lv(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(d_(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Id(n,t,e,i){return n instanceof Md?function(r,o,u,h){if(!Sd(r.precondition,o))return u;const _=r.value.clone(),b=h_(r.fieldTransforms,h,o);return _.setAll(b),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof Zo?function(r,o,u,h){if(!Sd(r.precondition,o))return u;const _=h_(r.fieldTransforms,h,o),b=o.data;return b.setAll(d_(r)),b.setAll(_),o.convertToFoundDocument(o.version,b).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(n,t,e,i):(u=e,Sd(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function u_(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=dD(i.transform,r||null);null!=o&&(null===e&&(e=kr.empty()),e.set(i.field,o))}return e||null}function Nv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&tf(e,i,(r,o)=>function pD(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof kl&&i instanceof kl||e instanceof Rl&&i instanceof Rl?tf(e.elements,i.elements,Al):e instanceof Hs&&i instanceof Hs?Al(e.yt,i.yt):e instanceof Ed&&i instanceof Ed);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Md extends Ol{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zo extends Ol{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function d_(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Lv(n,t,e){const i=new Map;At(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,Ov(u,h,e[r]))}return i}function h_(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,Wc(o,u,t))}return i}class uf extends Ol{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mD extends Ol{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dT{constructor(t){this.count=t}}var Ai,an;function Vv(n){switch(n){default:return st();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function Bv(n){if(void 0===n)return Fn("GRPC error has no .code"),he.UNKNOWN;switch(n){case Ai.OK:return he.OK;case Ai.CANCELLED:return he.CANCELLED;case Ai.UNKNOWN:return he.UNKNOWN;case Ai.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Ai.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Ai.INTERNAL:return he.INTERNAL;case Ai.UNAVAILABLE:return he.UNAVAILABLE;case Ai.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Ai.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Ai.NOT_FOUND:return he.NOT_FOUND;case Ai.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Ai.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Ai.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Ai.ABORTED:return he.ABORTED;case Ai.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Ai.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Ai.DATA_LOSS:return he.DATA_LOSS;default:return st()}}(an=Ai||(Ai={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class Kc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){_d(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return WC(this.inner)}size(){return this.innerSize}}const js=new ot(qe.comparator);function Yr(){return js}const gD=new ot(qe.comparator);function f_(...n){let t=gD;for(const e of n)t=t.insert(e.key,e);return t}function _D(n){let t=gD;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function wo(){return nm()}function Uv(){return nm()}function nm(){return new Kc(n=>n.toString(),(n,t)=>n.isEqual(t))}const hT=new ot(qe.comparator),fT=new wn(qe.comparator);function Ht(...n){let t=fT;for(const e of n)t=t.add(e);return t}const pT=new wn(Ft);function im(){return pT}class rm{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,sm.createSynthesizedTargetChangeForCurrentChange(t,e)),new rm(xt.min(),i,im(),Yr(),Ht())}}class sm{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new sm(Pi.EMPTY_BYTE_STRING,e,Ht(),Ht(),Ht())}}class om{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class Hv{constructor(t,e){this.targetId=t,this.At=e}}class yD{constructor(t,e,i=Pi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Wo{constructor(){this.Rt=0,this.bt=bD(),this.Pt=Pi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=Ht(),e=Ht(),i=Ht();return this.bt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:st()}}),new sm(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=bD()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class jv{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=Yr(),this.qt=vD(),this.Kt=new wn(Ft)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:st()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const o=r.target;if(gs(o))if(0===i){const u=new qe(o.path);this.jt(e,u,Nn.newNoDocument(u,xt.min()))}else At(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((o,u)=>{const h=this.Xt(u);if(h){if(o.current&&gs(h.target)){const _=new qe(h.target.path);null!==this.Ut.get(_)||this.ee(u,_)||this.jt(u,_,Nn.newNoDocument(_,t))}o.Dt&&(e.set(u,o.xt()),o.Nt())}});let i=Ht();this.qt.forEach((o,u)=>{let h=!0;u.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.Ut.forEach((o,u)=>u.setReadTime(t));const r=new rm(t,e,this.Kt,this.Ut,i);return this.Ut=Yr(),this.qt=vD(),this.Kt=new wn(Ft),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new Wo,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new wn(Ft),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Oe("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new Wo),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function vD(){return new ot(qe.comparator)}function bD(){return new ot(qe.comparator)}const $R={asc:"ASCENDING",desc:"DESCENDING"},wD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mT{constructor(t,e){this.databaseId=t,this.gt=e}}function am(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CD(n,t){return n.gt?t.toBase64():t.toUint8Array()}function Gv(n,t){return am(n,t.toTimestamp())}function nr(n){return At(!!n),xt.fromTimestamp(function(t){const e=jc(t);return new xn(e.seconds,e.nanos)}(n))}function zv(n,t){return(e=n,new tn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function lm(n){const t=tn.fromString(n);return At(TD(t)),t}function Td(n,t){return zv(n.databaseId,t.path)}function Gs(n,t){const e=lm(t);if(e.get(1)!==n.databaseId.projectId)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new qe($v(e))}function DD(n,t){return zv(n.databaseId,t)}function p_(n){const t=lm(n);return 4===t.length?tn.emptyPath():$v(t)}function m_(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $v(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qv(n,t,e){return{name:Td(n,t),fields:e.value.mapValue.fields}}function Yv(n,t,e){const i=Gs(n,t.name),r=nr(t.updateTime),o=new kr({mapValue:{fields:t.fields}}),u=Nn.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function zs(n,t){let e;if(t instanceof Md)e={update:qv(n,t.key,t.value)};else if(t instanceof uf)e={delete:Td(n,t.key)};else if(t instanceof Zo)e={update:qv(n,t.key,t.data),updateMask:yT(t.fieldMask)};else{if(!(t instanceof mD))return st();e={verify:Td(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Ed)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof kl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Rl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Hs)return{fieldPath:o.field.canonicalString(),increment:u.yt};throw st()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Gv(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:st()),e;var r}function df(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Jn.updateTime(nr(r.updateTime)):void 0!==r.exists?Jn.exists(r.exists):Jn.none():Jn.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(At("REQUEST_TIME"===u.setToServerValue),h=new Ed):"appendMissingElements"in u?h=new kl(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Rl(u.removeAllFromArray.values||[]):"increment"in u?h=new Hs(o,u.increment):st();const _=Xn.fromServerFormat(u.fieldPath);return new tm(_,h)}(n,r)):[];var r;if(t.update){const r=Gs(n,t.update.name),o=new kr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new ms((t.updateMask.fieldPaths||[]).map(b=>Xn.fromServerFormat(b)));return new Zo(r,o,u,e,i)}return new Md(r,o,e,i)}if(t.delete){const r=Gs(n,t.delete);return new uf(r,e)}if(t.verify){const r=Gs(n,t.verify);return new mD(r,e)}return st()}function hf(n,t){return{documents:[DD(n,t.path)]}}function SD(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=DD(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=DD(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(D=>function(M){if("=="===M.op){if(JC(M.value))return{unaryFilter:{field:ff(M.field),op:"IS_NAN"}};if(XC(M.value))return{unaryFilter:{field:ff(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(JC(M.value))return{unaryFilter:{field:ff(M.field),op:"IS_NOT_NAN"}};if(XC(M.value))return{unaryFilter:{field:ff(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ff(M.field),op:cm(M.op),value:M.value}}}(D));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(_){if(0!==_.length)return _.map(b=>{return{field:ff((D=b).field),direction:gT(D.dir)};var D})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(b=t.limit,n.gt||Kp(b)?b:{value:b});var b,h,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function __(n){let t=p_(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){At(1===i);const D=e.from[0];D.allDescendants?r=D.collectionId:t=t.child(D.collectionId)}let o=[];e.where&&(o=MD(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(D=>{return new Zc(um((M=D).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let h=null;e.limit&&(h=function(D){let M;return M="object"==typeof D?D.value:D,Kp(M)?null:M}(e.limit));let _=null;var D;e.startAt&&(_=new Fa((D=e.startAt).values||[],!!D.before));let b=null;return e.endAt&&(b=function(D){return new Fa(D.values||[],!D.before)}(e.endAt)),oD(t,r,u,o,h,"F",_,b)}function MD(n){return n?void 0!==n.unaryFilter?[qR(n)]:void 0!==n.fieldFilter?[_T(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>MD(t)).reduce((t,e)=>t.concat(e)):st():[]}function gT(n){return $R[n]}function cm(n){return wD[n]}function ff(n){return{fieldPath:n.canonicalString()}}function um(n){return Xn.fromServerFormat(n.fieldPath)}function _T(n){return jn.create(um(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function qR(n){switch(n.unaryFilter.op){case"IS_NAN":const t=um(n.unaryFilter.field);return jn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=um(n.unaryFilter.field);return jn.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=um(n.unaryFilter.field);return jn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=um(n.unaryFilter.field);return jn.create(r,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function yT(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function TD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=y_(t)),t=AD(n.get(e),t);return y_(t)}function AD(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function y_(n){return n+"\x01\x01"}function Na(n){const t=n.length;if(At(t>=2),2===t)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&st(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:st()}o=u+2}return new tn(i)}const v_=["userId","batchId"];function b_(n,t){return[n,Zr(t)]}function xD(n,t,e){return[n,Zr(t),e]}const vT={},bT=["prefixPath","collectionGroup","readTime","documentId"],wT=["prefixPath","collectionGroup","documentId"],CT=["collectionGroup","readTime","prefixPath","documentId"],w_=["canonicalId","targetId"],Ad=["targetId","path"],YR=["path","targetId"],dm=["collectionId","parent"],DT=["indexId","uid"],ET=["uid","sequenceNumber"],Wv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ST=["indexId","uid","orderedDocumentKey"],La=["userId","collectionPath","documentId"],hm=["userId","collectionPath","largestBatchId"],Rr=["userId","collectionGroup","largestBatchId"],Qc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],C_=[...Qc,"documentOverlays"],$s=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],D_=$s,pf=[...D_,"indexConfiguration","indexState","indexEntries"];class Xc extends Kg{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function oi(n,t){const e=Ze(n);return bo.O(e.ie,t)}class Jc{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&cf(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Id(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Id(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Uv();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const _=c_(u,h);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(xt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ht())}isEqual(t){return this.batchId===t.batchId&&tf(this.mutations,t.mutations,(e,i)=>Nv(e,i))&&tf(this.baseMutations,t.baseMutations,(e,i)=>Nv(e,i))}}class eu{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){At(t.mutations.length===i.length);let r=hT;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new eu(t,e,i,r)}}class tu{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qs{constructor(t,e,i,r,o=xt.min(),u=xt.min(),h=Pi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class xd{constructor(t){this.re=t}}function Kv(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:fm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Td(r=n.re,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:am(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:nu(t.version)};else{if(!t.isUnknownDocument())return st();i.unknownDocument={path:e.path.toArray(),version:nu(t.version)}}var r,o;return i}function fm(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function nu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function iu(n){const t=new xn(n.seconds,n.nanoseconds);return xt.fromTimestamp(t)}function ru(n,t){const e=(t.baseMutations||[]).map(o=>df(n.re,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>df(n.re,o)),r=xn.fromMillis(t.localWriteTimeMs);return new Jc(t.batchId,r,e,i)}function gf(n){const t=iu(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?iu(n.lastLimboFreeSnapshotVersion):xt.min();let i;var r;return void 0!==n.query.documents?(At(1===(r=n.query).documents.length),i=qr(lf(p_(r.documents[0])))):i=qr(__(n.query)),new qs(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Pi.fromBase64String(n.resumeToken))}function Qv(n,t){const e=nu(t.snapshotVersion),i=nu(t.lastLimboFreeSnapshotVersion);let r;r=gs(t.target)?hf(n.re,t.target):SD(n.re,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qc(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function E_(n){const t=__({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?l_(t,t.limit,"L"):t}function S_(n,t){return new tu(t.largestBatchId,df(n.re,t.overlayMutation))}function kD(n,t){const e=t.path.lastSegment();return[n,Zr(t.path.popLast()),e]}function RD(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:nu(i.readTime),documentKey:Zr(i.documentKey.path),largestBatchId:i.largestBatchId}}class OD{getBundleMetadata(t,e){return PD(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:iu(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return PD(t).put({bundleId:(i=e).id,createTime:nu(nr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return Xv(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:E_(r.bundledQuery),readTime:iu(r.readTime)};var r})}saveNamedQuery(t,e){return Xv(t).put({name:(i=e).name,readTime:nu(nr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function PD(n){return oi(n,"bundles")}function Xv(n){return oi(n,"namedQueries")}class _f{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new _f(t,e.uid||"")}getOverlay(t,e){return kd(t).get(kD(this.userId,e)).next(i=>i?S_(this.It,i):null)}getOverlays(t,e){const i=wo();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new tu(e,u);r.push(this.ue(t,h))}),ae.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Zr(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(kd(t).Y("collectionPathOverlayIndex",h))}),ae.waitFor(o)}getOverlaysForCollection(t,e,i){const r=wo(),o=Zr(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return kd(t).W("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const b=S_(this.It,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=wo();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return kd(t).Z({index:"collectionGroupOverlayIndex",range:h},(_,b,D)=>{const M=S_(this.It,b);o.size()<r||M.largestBatchId===u?(o.set(M.getKey(),M),u=M.largestBatchId):D.done()}).next(()=>o)}ue(t,e){return kd(t).put(function(i,r,o){const[u,h,_]=kD(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:zs(i.re,o.mutation)}}(this.It,this.userId,e))}}function kd(n){return oi(n,"documentOverlays")}class Rd{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Ti(t.integerValue));else if("doubleValue"in t){const i=Ti(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),Jg(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(Gc(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?Sv(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):st()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),qe.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function I_(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function pm(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=I_(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Rd.Te=new Rd;class Jv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=pm(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=pm(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class IT{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class M_{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Oe()}}class su{constructor(){this.Be=new Jv,this.Le=new IT(this.Be),this.Ue=new M_(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Pl{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Pl(this.indexId,this.documentKey,this.arrayValue,i)}}function ou(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=T_(n.arrayValue,t.arrayValue),0!==e?e:(e=T_(n.directionalValue,t.directionalValue),0!==e?e:qe.comparator(n.documentKey,t.documentKey)))}function T_(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class FD{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=rf(t);if(void 0!==e&&!this.ze(e))return!1;const i=Uc(t);let r=0,o=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Ge.length||!this.Je(this.Ge[o++],u))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class ND{constructor(){this.Ye=new mm}addToCollectionParentIndex(t,e){return this.Ye.add(e),ae.resolve()}getCollectionParents(t,e){return ae.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return ae.resolve()}deleteFieldIndex(t,e){return ae.resolve()}getDocumentsMatchingTarget(t,e){return ae.resolve(null)}getIndexType(t,e){return ae.resolve(0)}getFieldIndexes(t,e){return ae.resolve([])}getNextCollectionGroupToUpdate(t){return ae.resolve(null)}getMinOffset(t,e){return ae.resolve(Bs.min())}getMinOffsetFromCollectionGroup(t,e){return ae.resolve(Bs.min())}updateCollectionGroup(t,e,i){return ae.resolve()}updateIndexEntries(t,e){return ae.resolve()}}class mm{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new wn(tn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new wn(tn.comparator)).toArray()}}const yf=new Uint8Array(0);class MT{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new mm,this.Ze=new Kc(i=>qc(i),(i,r)=>Yc(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const o={collectionId:i,parent:Zr(r)};return eb(t).put(o)}return ae.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[YM(e),""],!1,!0);return eb(t).W(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(Na(u.parent))}return i})}addFieldIndex(t,e){const i=gm(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=bf(t);return o.next(h=>{u.put(RD(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=gm(t),r=bf(t),o=vf(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=vf(t);let r=!0;const o=new Map;return ae.forEach(this.tn(e),u=>this.en(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Ht();const h=[];return ae.forEach(o,(_,b)=>{var D;Oe("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(bt=>`${bt.fieldPath}:${bt.kind}`).join(",")}`} to execute ${qc(e)}`);const M=function(bt,lt){const Rt=rf(lt);if(void 0===Rt)return null;for(const Ot of em(bt,Rt.fieldPath))switch(Ot.op){case"array-contains-any":return Ot.value.arrayValue.values||[];case"array-contains":return[Ot.value]}return null}(b,_),O=function(bt,lt){const Rt=new Map;for(const Ot of Uc(lt))for(const dn of em(bt,Ot.fieldPath))switch(dn.op){case"==":case"in":Rt.set(Ot.fieldPath.canonicalString(),dn.value);break;case"not-in":case"!=":return Rt.set(Ot.fieldPath.canonicalString(),dn.value),Array.from(Rt.values())}return null}(b,_),V=function(bt,lt){const Rt=[];let Ot=!0;for(const dn of Uc(lt)){const Xs=0===dn.kind?nD(bt,dn.fieldPath,bt.startAt):s_(bt,dn.fieldPath,bt.startAt);Rt.push(Xs.value),Ot&&(Ot=Xs.inclusive)}return new Fa(Rt,Ot)}(b,_),U=function(bt,lt){const Rt=[];let Ot=!0;for(const dn of Uc(lt)){const Xs=0===dn.kind?s_(bt,dn.fieldPath,bt.endAt):nD(bt,dn.fieldPath,bt.endAt);Rt.push(Xs.value),Ot&&(Ot=Xs.inclusive)}return new Fa(Rt,Ot)}(b,_),J=this.nn(_,b,V),le=this.nn(_,b,U),je=this.sn(_,b,O),tt=this.rn(_.indexId,M,J,V.inclusive,le,U.inclusive,je);return ae.forEach(tt,bt=>i.J(bt,e.limit).next(lt=>{lt.forEach(Rt=>{const Ot=qe.fromSegments(Rt.documentKey);u.has(Ot)||(u=u.add(Ot),h.push(Ot))})}))}).next(()=>h)}return ae.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,o,u,h){const _=(null!=e?e.length:1)*Math.max(i.length,o.length),b=_/(null!=e?e.length:1),D=[];for(let M=0;M<_;++M){const O=e?this.on(e[M/b]):yf,V=this.un(t,O,i[M%b],r),U=this.cn(t,O,o[M%b],u),J=h.map(le=>this.un(t,O,le,!0));D.push(...this.createRange(V,U,J))}return D}un(t,e,i,r){const o=new Pl(t,qe.empty(),e,i);return r?o:o.Ke()}cn(t,e,i,r){const o=new Pl(t,qe.empty(),e,i);return r?o.Ke():o}en(t,e){const i=new FD(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return ae.forEach(this.tn(e),r=>this.en(t,r).next(o=>{o?0!==i&&o.fields.length<function(u){let h=new wn(Xn.comparator),_=!1;for(const b of u.filters){const D=b;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:h=h.add(D.field))}for(const b of u.orderBy)b.field.isKeyField()||(h=h.add(b.field));return h.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new su;for(const r of Uc(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.qe(r.kind);Rd.Te.ce(o,u)}return i.$e()}on(t){const e=new su;return Rd.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new su;return Rd.Te.ce(bd(this.databaseId,e),i.qe(function(r){const o=Uc(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new su);let o=0;for(const u of Uc(t)){const h=i[o++];for(const _ of r)if(this.ln(e,u.fieldPath)&&Xp(h))r=this.fn(r,u,h);else{const b=_.qe(u.kind);Rd.Te.ce(h,b)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new su;_.seed(h.$e()),Rd.Te.ce(u,_.qe(e.kind)),o.push(_)}return o}ln(t,e){return!!t.filters.find(i=>i instanceof jn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=gm(t),r=bf(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const u=[];return ae.forEach(o,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(b,D){const M=D?new Ml(D.sequenceNumber,new Bs(iu(D.readTime),new qe(Na(D.documentKey)),D.largestBatchId)):Ml.empty(),O=b.fields.map(([V,U])=>new qp(Xn.fromServerFormat(V),U));return new gd(b.indexId,b.collectionGroup,O,M)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ft(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=gm(t),o=bf(t);return this._n(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ae.forEach(h,_=>o.put(RD(_.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return ae.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ae.forEach(h,_=>this.wn(t,r,_).next(b=>{const D=this.mn(o,_);return b.isEqual(D)?ae.resolve():this.gn(t,o,_,b,D)}))))})}yn(t,e,i,r){return vf(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return vf(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=vf(t);let o=new wn(ou);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(u,h)=>{o=o.add(new Pl(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}mn(t,e){let i=new wn(ou);const r=this.an(e,t);if(null==r)return i;const o=rf(e);if(null!=o){const u=t.data.field(o.fieldPath);if(Xp(u))for(const h of u.arrayValue.values||[])i=i.add(new Pl(e.indexId,t.key,this.on(h),r))}else i=i.add(new Pl(e.indexId,t.key,yf,r));return i}gn(t,e,i,r,o){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,_,b,D,M){const O=h.getIterator(),V=_.getIterator();let U=sf(O),J=sf(V);for(;U||J;){let le=!1,je=!1;if(U&&J){const tt=b(U,J);tt<0?je=!0:tt>0&&(le=!0)}else null!=U?je=!0:le=!0;le?(D(J),J=sf(V)):je?(M(U),U=sf(O)):(U=sf(O),J=sf(V))}}(r,o,ou,h=>{u.push(this.yn(t,e,i,h))},h=>{u.push(this.pn(t,e,i,h))}),ae.waitFor(u)}_n(t){let e=1;return bf(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>ou(u,h)).filter((u,h,_)=>!h||0!==ou(u,_[h-1]));const r=[];r.push(t);for(const u of i){const h=ou(u,t),_=ou(u,e);if(0===h)r[0]=t.Ke();else if(h>0&&_<0)r.push(u),r.push(u.Ke());else if(_>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,yf,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,yf,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(LD)}getMinOffset(t,e){return ae.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||st())).next(LD)}}function eb(n){return oi(n,"collectionParents")}function vf(n){return oi(n,"indexEntries")}function gm(n){return oi(n,"indexConfiguration")}function bf(n){return oi(n,"indexState")}function LD(n){At(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;wv(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Bs(t.readTime,t.documentKey,e)}const tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wr{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Wr(t,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nb(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.Z({range:u},(D,M,O)=>(h++,O.delete()));o.push(_.next(()=>{At(1===h)}));const b=[];for(const D of e.mutations){const M=xD(t,D.key.path,e.batchId);o.push(r.delete(M)),b.push(D.key)}return ae.waitFor(o).next(()=>b)}function wf(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw st();t=n.noDocument}return JSON.stringify(t).length}Wr.DEFAULT_COLLECTION_PERCENTILE=10,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wr.DEFAULT=new Wr(41943040,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wr.DISABLED=new Wr(-1,0,0);class _m{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){At(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new _m(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fl(t).Z({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Od(t),u=Fl(t);return u.add({}).next(h=>{At("number"==typeof h);const _=new Jc(h,e,i,r),b=function(O,V,U){const J=U.baseMutations.map(je=>zs(O.re,je)),le=U.mutations.map(je=>zs(O.re,je));return{userId:V,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:J,mutations:le}}(this.It,this.userId,_),D=[];let M=new wn((O,V)=>Ft(O.canonicalString(),V.canonicalString()));for(const O of r){const V=xD(this.userId,O.key.path,h);M=M.add(O.key.path.popLast()),D.push(u.put(b)),D.push(o.put(V,vT))}return M.forEach(O=>{D.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.In[h]=_.keys()}),ae.waitFor(D).next(()=>_)})}lookupMutationBatch(t,e){return Fl(t).get(e).next(i=>i?(At(i.userId===this.userId),ru(this.It,i)):null)}Tn(t,e){return this.In[e]?ae.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Fl(t).Z({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(At(h.batchId>=i),o=ru(this.It,h)),_.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Fl(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fl(t).W("userMutationsIndex",e).next(i=>i.map(r=>ru(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=b_(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Od(t).Z({range:r},(u,h,_)=>{const[b,D,M]=u,O=Na(D);if(b===this.userId&&e.path.isEqual(O))return Fl(t).get(M).next(V=>{if(!V)throw st();At(V.userId===this.userId),o.push(ru(this.It,V))});_.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new wn(Ft);const r=[];return e.forEach(o=>{const u=b_(this.userId,o.path),h=IDBKeyRange.lowerBound(u),_=Od(t).Z({range:h},(b,D,M)=>{const[O,V,U]=b,J=Na(V);O===this.userId&&o.path.isEqual(J)?i=i.add(U):M.done()});r.push(_)}),ae.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=b_(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new wn(Ft);return Od(t).Z({range:u},(_,b,D)=>{const[M,O,V]=_,U=Na(O);M===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(V)):D.done()}).next(()=>this.En(t,h))}En(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Fl(t).get(o).next(u=>{if(null===u)throw st();At(u.userId===this.userId),i.push(ru(this.It,u))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return nb(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Od(t).Z({range:i},(o,u,h)=>{if(o[0]===this.userId){const _=Na(o[1]);r.push(_)}else h.done()}).next(()=>{At(0===r.length)})})}containsKey(t,e){return ib(t,this.userId,e)}Rn(t){return rb(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ib(n,t,e){const i=b_(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return Od(n).Z({range:o,X:!0},(h,_,b)=>{const[D,M,O]=h;D===t&&M===r&&(u=!0),b.done()}).next(()=>u)}function Fl(n){return oi(n,"mutations")}function Od(n){return oi(n,"documentMutations")}function rb(n){return oi(n,"mutationQueues")}class au{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new au(0)}static vn(){return new au(-1)}}class VD{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new au(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>xt.fromTimestamp(new xn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Pd(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(At(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Pd(t).Z((u,h)=>{const _=gf(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,o.push(this.removeTargetData(t,_)))}).next(()=>ae.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Pd(t).Z((i,r)=>{const o=gf(r);e(o)})}Vn(t){return TT(t).get("targetGlobalKey").next(e=>(At(null!==e),e))}Sn(t,e){return TT(t).put("targetGlobalKey",e)}Dn(t,e){return Pd(t).put(Qv(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=qc(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Pd(t).Z({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const b=gf(h);Yc(e,b.target)&&(o=b,_.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=lu(t);return e.forEach(u=>{const h=Zr(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),ae.waitFor(r)}removeMatchingKeys(t,e,i){const r=lu(t);return ae.forEach(e,o=>{const u=Zr(o.path);return ae.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=lu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=lu(t);let o=Ht();return r.Z({range:i,X:!0},(u,h,_)=>{const b=Na(u[1]),D=new qe(b);o=o.add(D)}).next(()=>o)}containsKey(t,e){const i=Zr(e.path),r=IDBKeyRange.bound([i],[YM(i)],!1,!0);let o=0;return lu(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],_,b)=>{0!==u&&(o++,b.done())}).next(()=>o>0)}se(t,e){return Pd(t).get(e).next(i=>i?gf(i):null)}}function Pd(n){return oi(n,"targets")}function TT(n){return oi(n,"targetGlobal")}function lu(n){return oi(n,"targetDocuments")}function BD([n,t],[e,i]){const r=Ft(n,e);return 0===r?Ft(t,i):r}class UD{constructor(t){this.xn=t,this.buffer=new wn(BD),this.Nn=0}kn(){return++this.Nn}Mn(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();BD(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class AT{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(t){var e=this;Oe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ve.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){er(i)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Tl(i)}yield e.Fn(3e5)}))}}class Ui{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ae.resolve($r.at);const i=new UD(e);return this.$n.forEachTarget(t,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(tb)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tb):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,o,u,h,_,b;const D=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(t,r))).next(M=>(i=M,h=Date.now(),this.removeTargets(t,i,e))).next(M=>(o=M,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(M=>(b=Date.now(),$p()<=Mr.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(_-h)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-D}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:M})))}}class HD{constructor(t,e){this.db=t,this.garbageCollector=new Ui(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return A_(t,i)}removeReference(t,e,i){return A_(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return A_(t,e)}Gn(t,e){return function(i,r){let o=!1;return rb(i).tt(u=>ib(i,u,r).next(h=>(h&&(o=!0),ae.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(t,(u,h)=>{if(h<=e){const _=this.Gn(t,u).next(b=>{if(!b)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,xt.min()),lu(t).delete([0,Zr(u.path)])))});r.push(_)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return A_(t,e)}Kn(t,e){const i=lu(t);let r,o=$r.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:b})=>{0===u?(o!==$r.at&&e(new qe(Na(r)),o),o=b,r=_):o=$r.at}).next(()=>{o!==$r.at&&e(new qe(Na(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function A_(n,t){return lu(n).put((i=n.currentSequenceNumber,{targetId:0,path:Zr(t.path),sequenceNumber:i}));var i}class jD{constructor(){this.changes=new Kc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ae.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class GD{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Co(t).put(i)}removeEntry(t,e,i){return Co(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],fm(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Nn.newInvalidDocument(e);return Co(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ym(e))},(r,o)=>{i=this.jn(e,o)}).next(()=>i)}Wn(t,e){let i={size:0,document:Nn.newInvalidDocument(e)};return Co(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ym(e))},(r,o)=>{i={document:this.jn(e,o),size:wf(o)}}).next(()=>i)}getEntries(t,e){let i=Yr();return this.zn(t,e,(r,o)=>{const u=this.jn(r,o);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=Yr(),r=new ot(qe.comparator);return this.zn(t,e,(o,u)=>{const h=this.jn(o,u);i=i.insert(o,h),r=r.insert(o,wf(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return ae.resolve();let r=new wn(ob);e.forEach(_=>r=r.add(_));const o=IDBKeyRange.bound(ym(r.first()),ym(r.last())),u=r.getIterator();let h=u.getNext();return Co(t).Z({index:"documentKeyIndex",range:o},(_,b,D)=>{const M=qe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&ob(h,M)<0;)i(h,null),h=u.getNext();h&&h.isEqual(M)&&(i(h,b),h=u.hasNext()?u.getNext():null),h?D.j(ym(h)):D.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),fm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Co(t).W(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=Yr();for(const _ of u){const b=this.jn(qe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(b.key,b)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=Yr();const u=qD(e,i),h=qD(e,Bs.max());return Co(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,b,D)=>{const M=this.jn(qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);o=o.insert(M.key,M),o.size===r&&D.done()}).next(()=>o)}newChangeBuffer(t){return new $D(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return sb(t).get("remoteDocumentGlobalKey").next(e=>(At(!!e),e))}Qn(t,e){return sb(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function mf(n,t){let e;if(t.document)e=Yv(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=qe.fromSegments(t.noDocument.path),r=iu(t.noDocument.readTime);e=Nn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return st();{const i=qe.fromSegments(t.unknownDocument.path),r=iu(t.unknownDocument.version);e=Nn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new xn(i[0],i[1]);return xt.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(xt.min()))return i}return Nn.newInvalidDocument(t)}}function zD(n){return new GD(n)}class $D extends jD{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Kc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new wn((o,u)=>Ft(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Xn.get(o);if(e.push(this.Yn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const _=Kv(this.Yn.It,u);r=r.add(o.path.popLast()),i+=wf(_)-h.size,e.push(this.Yn.addEntry(t,o,_))}else if(i-=h.size,this.trackRemovals){const _=Kv(this.Yn.It,u.convertToNoDocument(xt.min()));e.push(this.Yn.addEntry(t,o,_))}}),r.forEach(o=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Yn.updateMetadata(t,i)),ae.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((o,u)=>{this.Xn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function sb(n){return oi(n,"remoteDocumentGlobal")}function Co(n){return oi(n,"remoteDocumentsV14")}function ym(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qD(n,t){const e=t.documentKey.path.toArray();return[n,fm(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function ob(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Ft(e[o],i[o]),r)return r;return r=Ft(e.length,i.length),r||(r=Ft(e[e.length-2],i[i.length-2]),r||Ft(e[e.length-1],i[i.length-1]))}class xT{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class ab{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Id(i.mutation,r,ms.empty(),xn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ht()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ht()){const r=wo();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=f_();return o.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=wo();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ht()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Yr();const u=nm(),h=nm();return e.forEach((_,b)=>{const D=i.get(b.key);r.has(b.key)&&(void 0===D||D.mutation instanceof Zo)?o=o.insert(b.key,b):void 0!==D&&(u.set(b.key,D.mutation.getFieldMask()),Id(D.mutation,b,D.mutation.getFieldMask(),xn.now()))}),this.recalculateAndSaveOverlays(t,o).next(_=>(_.forEach((b,D)=>u.set(b,D)),e.forEach((b,D)=>{var M;return h.set(b,new xT(D,null!==(M=u.get(b))&&void 0!==M?M:null))}),h))}recalculateAndSaveOverlays(t,e){const i=nm();let r=new ot((u,h)=>u-h),o=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(_=>{const b=e.get(_);if(null===b)return;let D=i.get(_)||ms.empty();D=h.applyToLocalView(b,D),i.set(_,D);const M=(r.get(h.batchId)||Ht()).add(_);r=r.insert(h.batchId,M)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),b=_.key,D=_.value,M=Uv();D.forEach(O=>{if(!o.has(O)){const V=c_(e.get(O),i.get(O));null!==V&&M.set(O,V),o=o.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(t,b,M))}return ae.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return qe.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):lD(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ae.resolve(wo());let h=-1,_=o;return u.next(b=>ae.forEach(b,(D,M)=>(h<M.largestBatchId&&(h=M.largestBatchId),o.get(D)?ae.resolve():this.getBaseDocument(t,D,M).next(O=>{_=_.insert(D,O)}))).next(()=>this.populateOverlays(t,b,o)).next(()=>this.computeViews(t,_,b,Ht())).next(D=>({batchId:h,changes:_D(D)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new qe(e)).next(i=>{let r=f_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=f_();return this.indexManager.getCollectionParents(t,r).next(u=>ae.forEach(u,h=>{const _=(b=e,D=h.child(r),new xl(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,D;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(b=>{b.forEach((D,M)=>{o=o.insert(D,M)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((h,_)=>{const b=_.getKey();null===r.get(b)&&(r=r.insert(b,Nn.newInvalidDocument(b)))});let u=f_();return r.forEach((h,_)=>{const b=o.get(h);void 0!==b&&Id(b.mutation,_,ms.empty(),xn.now()),uD(e,_)&&(u=u.insert(h,_))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):ae.resolve(Nn.newInvalidDocument(e))}}class ZR{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return ae.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:nr(i.createTime)}),ae.resolve()}getNamedQuery(t,e){return ae.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:E_(i.bundledQuery),readTime:nr(i.readTime)}),ae.resolve();var i}}class lb{constructor(){this.overlays=new ot(qe.comparator),this.es=new Map}getOverlay(t,e){return ae.resolve(this.overlays.get(e))}getOverlays(t,e){const i=wo();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ue(t,e,o)}),ae.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),ae.resolve()}getOverlaysForCollection(t,e,i){const r=wo(),o=e.length+1,u=new qe(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===o&&_.largestBatchId>i&&r.set(_.getKey(),_)}return ae.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ot((b,D)=>b-D);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let D=o.get(b.largestBatchId);null===D&&(D=wo(),o=o.insert(b.largestBatchId,D)),D.set(b.getKey(),b)}}const h=wo(),_=o.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,D)=>h.set(b,D)),!(h.size()>=r)););return ae.resolve(h)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new tu(e,i));let o=this.es.get(e);void 0===o&&(o=Ht(),this.es.set(e,o)),this.es.set(e,o.add(i.key))}}class vm{constructor(){this.ns=new wn(kn.ss),this.rs=new wn(kn.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new kn(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new kn(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new qe(new tn([])),i=new kn(e,t),r=new kn(e,t+1),o=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),o.push(u.key)}),o}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new qe(new tn([])),i=new kn(e,t),r=new kn(e,t+1);let o=Ht();return this.rs.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new kn(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class kn{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return qe.comparator(t.key,e.key)||Ft(t._s,e._s)}static os(t,e){return Ft(t._s,e._s)||qe.comparator(t.key,e.key)}}class kT{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new wn(kn.ss)}checkEmpty(t){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.ws;this.ws++;const u=new Jc(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new kn(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(t,e){return ae.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),o=r<0?0:r;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new kn(e,0),r=new kn(e,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);o.push(h)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new wn(Ft);return e.forEach(r=>{const o=new kn(r,0),u=new kn(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,u],h=>{i=i.add(h._s)})}),ae.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;qe.isDocumentKey(o)||(o=o.child(""));const u=new kn(new qe(o),0);let h=new wn(Ft);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(h=h.add(_._s)),!0)},u),ae.resolve(this.Is(h))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){At(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ae.forEach(e.mutations,r=>{const o=new kn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new kn(e,0),r=this.gs.firstAfterOrEqual(i);return ae.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ae.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class RT{constructor(t){this.Es=t,this.docs=new ot(qe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ae.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(e))}getEntries(t,e){let i=Yr();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Nn.newInvalidDocument(r))}),ae.resolve(i)}getAllFromCollection(t,e,i){let r=Yr();const o=new qe(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:_}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||wv(bv(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return ae.resolve(r)}getAllFromCollectionGroup(t,e,i,r){st()}As(t,e){return ae.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Va(this)}getSize(t){return ae.resolve(this.size)}}class Va extends jD{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),ae.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class Ko{constructor(t){this.persistence=t,this.Rs=new Kc(e=>qc(e),Yc),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new vm,this.targetCount=0,this.vs=au.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),ae.resolve()}getLastRemoteSnapshotVersion(t){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ae.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),ae.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new au(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,ae.resolve()}updateTargetData(t,e){return this.Dn(e),ae.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,ae.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Rs.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ae.waitFor(o).next(()=>r)}getTargetCount(t){return ae.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return ae.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),ae.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),ae.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),ae.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return ae.resolve(i)}containsKey(t,e){return ae.resolve(this.Ps.containsKey(e))}}class Do{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new $r(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Ko(this),this.indexManager=new ND,this.remoteDocumentCache=new RT(i=>this.referenceDelegate.xs(i)),this.It=new xd(e),this.Ns=new ZR(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new lb,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new kT(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Oe("MemoryPersistence","Starting transaction:",t);const r=new YD(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Ms(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Os(t,e){return ae.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class YD extends Kg{constructor(t){super(),this.currentSequenceNumber=t}}class bm{constructor(t){this.persistence=t,this.Fs=new vm,this.$s=null}static Bs(t){return new bm(t)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),ae.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),ae.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ls,i=>{const r=qe.fromPath(i);return this.Us(t,r).next(o=>{o||e.removeEntry(r,xt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return ae.or([()=>ae.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class OT{constructor(t){this.It=t}$(t,e,i,r){const o=new Qg("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",v_,{unique:!0}),h.createObjectStore("documentMutations"),ZD(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),ZD(t)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").W().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",v_,{unique:!0});const D=_.store("mutations"),M=b.map(O=>D.put(O));return ae.waitFor(M)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.qs(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(o)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(o))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:La});_.createIndex("collectionPathOverlayIndex",hm,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Rr,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:bT});_.createIndex("documentKeyIndex",wT),_.createIndex("collectionGroupIndex",CT)}(t)).next(()=>this.Ws(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:DT}).createIndex("sequenceNumberIndex",ET,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Wv}).createIndex("documentKeyIndex",ST,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=wf(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>ae.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>ae.forEach(h,_=>{At(_.userId===o.userId);const b=ru(this.It,_);return nb(t,o.userId,b).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((u,h)=>{const _=new tn(u),b=[0,Zr(_)];o.push(e.get(b).next(D=>D?ae.resolve():e.put({targetId:0,path:Zr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(o))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:dm});const i=e.store("collectionParents"),r=new mm,o=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:Zr(_)})}};return e.store("remoteDocuments").Z({X:!0},(u,h)=>{const _=new tn(u);return o(_.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,h,_],b)=>{const D=Na(h);return o(D.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const o=gf(r),u=Qv(this.It,o);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((o,u)=>{const h=e.store("remoteDocumentsV14"),_=(b=u,b.document?new qe(tn.fromString(b.document.name).popFirst(5)):b.noDocument?qe.fromSegments(b.noDocument.path):b.unknownDocument?qe.fromSegments(b.unknownDocument.path):st()).path.toArray();var b;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(D))}).next(()=>ae.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=zD(this.It),o=new Do(bm.Bs,this.It.re);return i.W().next(u=>{const h=new Map;return u.forEach(_=>{var b;let D=null!==(b=h.get(_.userId))&&void 0!==b?b:Ht();ru(this.It,_).keys().forEach(M=>D=D.add(M)),h.set(_.userId,D)}),ae.forEach(h,(_,b)=>{const D=new Xi(b),M=_f.oe(this.It,D),O=o.getIndexManager(D),V=_m.oe(D,this.It,O,o.referenceDelegate);return new ab(r,V,M,O).recalculateAndSaveOverlaysForDocumentKeys(new Xc(e,$r.at),_).next()})})}}function ZD(n){n.createObjectStore("targetDocuments",{keyPath:Ad}).createIndex("documentTargetsIndex",YR,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",w_,{unique:!0}),n.createObjectStore("targetGlobal")}const cb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ub{constructor(t,e,i,r,o,u,h,_,b,D,M=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=o,this.window=u,this.document=h,this.Js=b,this.Ys=D,this.Xs=M,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=O=>Promise.resolve(),!ub.C())throw new ke(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HD(this,r),this.ii=e+"main",this.It=new xd(_),this.ri=new bo(this.ii,this.Xs,new OT(this.It)),this.Cs=new VD(this.referenceDelegate,this.It),this.remoteDocumentCache=zD(this.It),this.Ns=new OD,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&Fn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(he.FAILED_PRECONDITION,cb);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new $r(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,ve.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,ve.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,ve.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>cu(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(er(t))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return Fd(t).get("owner").next(e=>ae.resolve(this.mi(e)))}gi(t){return cu(t).delete(this.clientId)}yi(){var t=this;return(0,ve.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=oi(i,"clientMetadata");return r.W().next(o=>{const u=t.Ii(o,18e5),h=o.filter(_=>-1===u.indexOf(_));return ae.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?ae.resolve(!0):Fd(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new ke(he.FAILED_PRECONDITION,cb);return!1}}return!(!this.networkEnabled||!this.inForeground)||cu(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Oe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ve.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Xc(e,$r.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>cu(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return _m.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new MT(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return _f.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Oe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.Xs)?pf:14===u?D_:13===u?$s:12===u?C_:11===u?Qc:void st();var u;let h;return this.ri.runTransaction(t,r,o,_=>(h=new Xc(_,this.Ss?this.Ss.next():$r.at),"readwrite-primary"===e?this.fi(h).next(b=>!!b||this.di(h)).next(b=>{if(!b)throw Fn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ke(he.FAILED_PRECONDITION,Cv);return i(h)}).next(b=>this.wi(h).next(()=>b)):this.Vi(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}Vi(t){return Fd(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ke(he.FAILED_PRECONDITION,cb)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fd(t).put("owner",e)}static C(){return bo.C()}_i(t){const e=Fd(t);return e.get("owner").next(i=>this.mi(i)?(Oe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ae.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Fn(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Oe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Fn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Fn("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Fd(n){return oi(n,"owner")}function cu(n){return oi(n,"clientMetadata")}function db(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class x_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Ht(),r=Ht();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new x_(t,e.fromCache,i,r)}}class WD{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(o=>o||this.Mi(t,e,r,i)).next(o=>o||this.Oi(t,e))}ki(t,e){if(xv(e))return ae.resolve(null);let i=qr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=l_(e,null,"F"),i=qr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Ht(...o);return this.Ni.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(_=>{const b=this.Fi(e,h);return this.$i(e,b,u,_.readTime)?this.ki(t,l_(e,null,"F")):this.Bi(t,b,e,_)}))})))}Mi(t,e,i,r){return xv(e)||r.isEqual(xt.min())?this.Oi(t,e):this.Ni.getDocuments(t,i).next(o=>{const u=this.Fi(e,o);return this.$i(e,u,i,r)?this.Oi(t,e):($p()<=Mr.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cD(e)),this.Bi(t,u,e,$C(r,-1)))})}Fi(t,e){let i=new wn(oT(t));return e.forEach((r,o)=>{uD(t,o)&&(i=i.add(o))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Oi(t,e){return $p()<=Mr.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",cD(e)),this.Ni.getDocumentsMatchingQuery(t,e,Bs.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class KD{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new ot(Ft),this.qi=new Kc(o=>qc(o),Yc),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ab(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function hb(n,t,e,i){return new KD(n,t,e,i)}function wm(n,t){return fb.apply(this,arguments)}function fb(){return fb=(0,ve.Z)(function*(n,t){const e=Ze(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let _=Ht();for(const b of r){u.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}for(const b of o){h.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}return e.localDocuments.getDocuments(i,_).next(b=>({ji:b,removedBatchIds:u,addedBatchIds:h}))})})}),fb.apply(this,arguments)}function QD(n,t){const e=Ze(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,_,b){const D=_.batch,M=D.keys();let O=ae.resolve();return M.forEach(V=>{O=O.next(()=>b.getEntry(h,V)).next(U=>{const J=_.docVersions.get(V);At(null!==J),U.version.compareTo(J)<0&&(D.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),b.addEntry(U)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,D))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Ht();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function pb(n){const t=Ze(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function mb(n,t){const e=Ze(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const h=[];t.targetChanges.forEach((D,M)=>{const O=r.get(M);if(!O)return;h.push(e.Cs.removeMatchingKeys(o,D.removedDocuments,M).next(()=>e.Cs.addMatchingKeys(o,D.addedDocuments,M)));let V=O.withSequenceNumber(o.currentSequenceNumber);var U,J,le;t.targetMismatches.has(M)?V=V.withResumeToken(Pi.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):D.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(D.resumeToken,i)),r=r.insert(M,V),J=V,le=D,(0===(U=O).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&h.push(e.Cs.updateTargetData(o,V))});let _=Yr(),b=Ht();if(t.documentUpdates.forEach(D=>{t.resolvedLimboDocuments.has(D)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,D))}),h.push(Cm(o,u,t.documentUpdates).next(D=>{_=D.Wi,b=D.zi})),!i.isEqual(xt.min())){const D=e.Cs.getLastRemoteSnapshotVersion(o).next(M=>e.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(D)}return ae.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,_,b)).next(()=>_)}).then(o=>(e.Ui=r,o))}function Cm(n,t,e){let i=Ht(),r=Ht();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Yr();return e.forEach((h,_)=>{const b=o.get(h);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(h)),_.isNoDocument()&&_.version.isEqual(xt.min())?(t.removeEntry(h,_.readTime),u=u.insert(h,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(t.addEntry(_),u=u.insert(h,_)):Oe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",_.version)}),{Wi:u,zi:r}})}function XD(n,t){const e=Ze(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Nd(n,t){const e=Ze(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(o=>o?(r=o,ae.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new qs(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function Ld(n,t,e){return k_.apply(this,arguments)}function k_(){return k_=(0,ve.Z)(function*(n,t,e){const i=Ze(n),r=i.Ui.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!er(u))throw u;Oe("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),k_.apply(this,arguments)}function Dm(n,t,e){const i=Ze(n);let r=xt.min(),o=Ht();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,b){const D=Ze(h),M=D.qi.get(b);return void 0!==M?ae.resolve(D.Ui.get(M)):D.Cs.getTargetData(_,b)}(i,u,qr(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{o=_})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:xt.min(),e?o:Ht())).next(h=>(yb(i,sT(t),h),{documents:h,Hi:o})))}function gb(n,t){const e=Ze(n),i=Ze(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.se(o,t).next(u=>u?u.target:null))}function _b(n,t){const e=Ze(n),i=e.Ki.get(t)||xt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,$C(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(yb(e,t,r),r))}function yb(n,t,e){let i=xt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(t,i)}function vb(){return vb=(0,ve.Z)(function*(n,t,e,i){const r=Ze(n);let o=Ht(),u=Yr();for(const b of e){const D=t.Ji(b.metadata.name);b.document&&(o=o.add(D));const M=t.Yi(b);M.setReadTime(t.Xi(b.metadata.readTime)),u=u.insert(D,M)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),_=yield Nd(r,(b=i,qr(lf(tn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>Cm(b,h,u).next(D=>(h.apply(b),D)).next(D=>r.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Cs.addMatchingKeys(b,o,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,D.Wi,D.zi)).next(()=>D.Wi)))}),vb.apply(this,arguments)}function PT(n,t){return bb.apply(this,arguments)}function bb(){return bb=(0,ve.Z)(function*(n,t,e=Ht()){const i=yield Nd(n,qr(E_(t.bundledQuery))),r=Ze(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=nr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(o,t);const h=i.withResumeToken(Pi.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(h.targetId,h),r.Cs.updateTargetData(o,h).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,t))})}),bb.apply(this,arguments)}function eE(n,t){return`firestore_clients_${n}_${t}`}function tE(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function wb(n,t){return`firestore_targets_${n}_${t}`}class R_{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new ke(r.error.code,r.error.message))),u?new R_(t,e,r.state,o):(Fn("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Em{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ke(i.error.code,i.error.message))),o?new Em(t,i.state,r):(Fn("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class O_{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=im();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=eT(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new O_(t,o):(Fn("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Cb{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Cb(e.clientId,e.onlineState):(Fn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Db{constructor(){this.activeTargetIds=im()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Eb{constructor(t,e,i,r,o){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ot(Ft),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=eE(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Db),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ve.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const o=t.getItem(eE(t.persistenceKey,r));if(o){const u=O_.Zi(r,o);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(wb(this.persistenceKey,t));if(i){const r=Em.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(wb(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Oe("SharedClientState","READ",t,e),e}setItem(t,e){Oe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Oe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Oe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Fn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ve.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(o){let u=$r.at;if(null!=o)try{const h=JSON.parse(o);At("number"==typeof h),u=h}catch(h){Fn("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==$r.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Mr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Or(o)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new R_(this.currentUser,t,e,i),o=tE(this.persistenceKey,this.currentUser,t);this.setItem(o,r.tr())}Er(t){const e=tE(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=wb(this.persistenceKey,t),o=new Em(t,e,i);this.setItem(r,o.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return O_.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return R_.Zi(new Xi(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return Em.Zi(r,e)}yr(t){return Cb.Zi(t)}Mr(t){return JSON.parse(t)}Cr(t){var e=this;return(0,ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),o=this.Ir(i),u=[],h=[];return o.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{o.has(_)||h.push(_)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=im();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class nE{constructor(){this.Lr=new Db,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Db,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class FT{qr(t){}shutdown(){}}class iE{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const NT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class LT{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class rE extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,o){const u=this.ao(t,e);Oe("RestConnection","Sending: ",u,i);const h={};return this.ho(h,r,o),this.lo(t,u,h,i).then(_=>(Oe("RestConnection","Received: ",_),_),_=>{throw Il("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}fo(t,e,i,r,o,u){return this.co(t,e,i,r,o)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ef,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ao(t,e){return`${this.oo}/v1/${e}:${NT[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){return new Promise((o,u)=>{const h=new GM;h.listenOnce(Ra.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case LC.NO_ERROR:const b=h.getResponseJson();Oe("Connection","XHR received:",JSON.stringify(b)),o(b);break;case LC.TIMEOUT:Oe("Connection",'RPC "'+t+'" timed out'),u(new ke(he.DEADLINE_EXCEEDED,"Request time out"));break;case LC.HTTP_ERROR:const D=h.getStatus();if(Oe("Connection",'RPC "'+t+'" failed with status:',D,"response text:",h.getResponseText()),D>0){const M=h.getResponseJson().error;if(M&&M.status&&M.message){const O=function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(U)>=0?U:he.UNKNOWN}(M.status);u(new ke(O,M.message))}else u(new ke(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ke(he.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Oe("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);h.send(e,"POST",_,i,15)})}_o(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=HR(),u=NC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new jM({})),this.ho(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const _=r.join("");Oe("Connection","Creating WebChannel: "+_,h);const b=o.createWebChannel(_,h);let D=!1,M=!1;const O=new LT({Hr:U=>{M?Oe("Connection","Not sending because WebChannel is closed:",U):(D||(Oe("Connection","Opening WebChannel transport."),b.open(),D=!0),Oe("Connection","WebChannel sending:",U),b.send(U))},Jr:()=>b.close()}),V=(U,J,le)=>{U.listen(J,je=>{try{le(je)}catch(tt){setTimeout(()=>{throw tt},0)}})};return V(b,zp.EventType.OPEN,()=>{M||Oe("Connection","WebChannel transport opened.")}),V(b,zp.EventType.CLOSE,()=>{M||(M=!0,Oe("Connection","WebChannel transport closed"),O.io())}),V(b,zp.EventType.ERROR,U=>{M||(M=!0,Il("Connection","WebChannel transport errored:",U),O.io(new ke(he.UNAVAILABLE,"The operation could not be completed")))}),V(b,zp.EventType.MESSAGE,U=>{var J;if(!M){const le=U.data[0];At(!!le);const je=le,tt=je.error||(null===(J=je[0])||void 0===J?void 0:J.error);if(tt){Oe("Connection","WebChannel received error:",tt);const bt=tt.status;let lt=function(Ot){const dn=Ai[Ot];if(void 0!==dn)return Bv(dn)}(bt),Rt=tt.message;void 0===lt&&(lt=he.INTERNAL,Rt="Unknown error status: "+bt+" with message "+tt.message),M=!0,O.io(new ke(lt,Rt)),b.close()}else Oe("Connection","WebChannel received:",le),O.ro(le)}}),V(u,pv.STAT_EVENT,U=>{U.stat===Zg.PROXY?Oe("Connection","Detected buffering proxy"):U.stat===Zg.NOPROXY&&Oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.so()},0),O}}function Sb(){return typeof window<"u"?window:null}function Sm(){return typeof document<"u"?document:null}function Cf(n){return new mT(n,!0)}class P_{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Hs=t,this.timerId=e,this.wo=i,this.mo=r,this.yo=o,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&Oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Ib{constructor(t,e,i,r,o,u,h,_){this.Hs=t,this.Po=i,this.vo=r,this.Vo=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new P_(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,ve.Z)(function*(){t.No()&&(yield t.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,ve.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,ve.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===he.RESOURCE_EXHAUSTED?(Fn(e.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):e&&e.code===he.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new ke(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.xo.Ao((0,ve.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Oe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sE extends Ib{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.It=o}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=function Zv(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:st(),r=t.targetChange.targetIds||[],o=function(_,b){return _.gt?(At(void 0===b||"string"==typeof b),Pi.fromBase64String(b||"")):(At(void 0===b||b instanceof Uint8Array),Pi.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const b=void 0===_.code?he.UNKNOWN:Bv(_.code);return new ke(b,_.message||"")}(u);e=new yD(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Gs(n,i.document.name),o=nr(i.document.updateTime),u=new kr({mapValue:{fields:i.document.fields}}),h=Nn.newFoundDocument(r,o,u);e=new om(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Gs(n,i.document),o=i.readTime?nr(i.readTime):xt.min(),u=Nn.newNoDocument(r,o);e=new om([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Gs(n,i.document);e=new om([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return st();{const i=t.filter,o=new dT(i.count||0);e=new Hv(i.targetId,o)}}var _;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return xt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?xt.min():o.readTime?nr(o.readTime):xt.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=m_(this.It),e.addTarget=function(r,o){let u;const h=o.target;return u=gs(h)?{documents:hf(r,h)}:{query:SD(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=CD(r,o.resumeToken):o.snapshotVersion.compareTo(xt.min())>0&&(u.readTime=am(r,o.snapshotVersion.toTimestamp())),u}(this.It,t);const i=function ID(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=m_(this.It),e.removeTarget=t,this.Bo(e)}}class oE extends Ib{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.It=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(At(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function g_(n,t){return n&&n.length>0?(At(void 0!==t),n.map(e=>function(i,r){let o=nr(i.updateTime?i.updateTime:r);return o.isEqual(xt.min())&&(o=nr(r)),new uT(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=nr(t.commitTime);return this.listener.Zo(i,e)}return At(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=m_(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>zs(this.It,i))};this.Bo(e)}}class aE extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.Vo.co(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(he.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.Vo.fo(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(he.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class Mb{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Fn(e),this.ou=!1):Oe("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Tb{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.qr(h=>{i.enqueueAndForget((0,ve.Z)(function*(){var _;gt(u)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(b){const D=Ze(b);D._u.add(4),yield Df(D),D.gu.set("Unknown"),D._u.delete(4),yield Qo(D)}),function(b){return _.apply(this,arguments)})(u))}))}),this.gu=new Mb(i,r)}}function Qo(n){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,ve.Z)(function*(n){if(gt(n))for(const t of n.wu)yield t(!0)}),Ab.apply(this,arguments)}function Df(n){return uu.apply(this,arguments)}function uu(){return uu=(0,ve.Z)(function*(n){for(const t of n.wu)yield t(!1)}),uu.apply(this,arguments)}function xb(n,t){const e=Ze(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),cE(e)?F_(e):Ba(e).ko()&&lE(e,t))}function Vd(n,t){const e=Ze(n),i=Ba(e);e.du.delete(t),i.ko()&&kb(e,t),0===e.du.size&&(i.ko()?i.Fo():gt(e)&&e.gu.set("Unknown"))}function lE(n,t){n.yu.Ot(t.targetId),Ba(n).zo(t)}function kb(n,t){n.yu.Ot(t),Ba(n).Ho(t)}function F_(n){n.yu=new jv({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),Ba(n).start(),n.gu.uu()}function cE(n){return gt(n)&&!Ba(n).No()&&n.du.size>0}function gt(n){return 0===Ze(n)._u.size}function uE(n){n.yu=void 0}function VT(n){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,ve.Z)(function*(n){n.du.forEach((t,e)=>{lE(n,t)})}),Rb.apply(this,arguments)}function Ef(n,t){return Ob.apply(this,arguments)}function Ob(){return Ob=(0,ve.Z)(function*(n,t){uE(n),cE(n)?(n.gu.hu(t),F_(n)):n.gu.set("Unknown")}),Ob.apply(this,arguments)}function N_(n,t,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,ve.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof yD&&2===t.state&&t.cause)try{yield(i=(0,ve.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.du.delete(h),r.yu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Oe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Gn(n,i)}else if(t instanceof om?n.yu.Gt(t):t instanceof Hv?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(xt.min()))try{const i=yield pb(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.yu.te(o);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const b=r.du.get(_);b&&r.du.set(_,b.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const _=r.du.get(h);if(!_)return;r.du.set(h,_.withResumeToken(Pi.EMPTY_BYTE_STRING,_.snapshotVersion)),kb(r,h);const b=new qs(_.target,h,1,_.sequenceNumber);lE(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Oe("RemoteStore","Failed to raise snapshot:",i),yield Gn(n,i)}var i}),Sf.apply(this,arguments)}function Gn(n,t,e){return dE.apply(this,arguments)}function dE(){return dE=(0,ve.Z)(function*(n,t,e){if(!er(t))throw t;n._u.add(1),yield Df(n),n.gu.set("Offline"),e||(e=()=>pb(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield Qo(n)}))}),dE.apply(this,arguments)}function Pb(n,t){return t().catch(e=>Gn(n,e,t))}function Bd(n){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,ve.Z)(function*(n){const t=Ze(n),e=Eo(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;hE(t);)try{const r=yield XD(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,fE(t,r)}catch(r){yield Gn(t,r)}Nb(t)&&Lb(t)}),Fb.apply(this,arguments)}function hE(n){return gt(n)&&n.fu.length<10}function fE(n,t){n.fu.push(t);const e=Eo(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function Nb(n){return gt(n)&&!Eo(n).No()&&n.fu.length>0}function Lb(n){Eo(n).start()}function BT(n){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,ve.Z)(function*(n){Eo(n).eu()}),Vb.apply(this,arguments)}function UT(n){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,ve.Z)(function*(n){const t=Eo(n);for(const e of n.fu)t.Xo(e.mutations)}),Ud.apply(this,arguments)}function HT(n,t,e){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,ve.Z)(function*(n,t,e){const i=n.fu.shift(),r=eu.from(i,t,e);yield Pb(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Bd(n)}),Bb.apply(this,arguments)}function jT(n,t){return If.apply(this,arguments)}function If(){return If=(0,ve.Z)(function*(n,t){var e;t&&Eo(n).Yo&&(yield(e=(0,ve.Z)(function*(i,r){if(Vv(o=r.code)&&o!==he.ABORTED){const u=i.fu.shift();Eo(i).Oo(),yield Pb(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Bd(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),Nb(n)&&Lb(n)}),If.apply(this,arguments)}function Ub(n,t){return L_.apply(this,arguments)}function L_(){return L_=(0,ve.Z)(function*(n,t){const e=Ze(n);e.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const i=gt(e);e._u.add(3),yield Df(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield Qo(e)}),L_.apply(this,arguments)}function V_(n,t){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,ve.Z)(function*(n,t){const e=Ze(n);t?(e._u.delete(2),yield Qo(e)):t||(e._u.add(2),yield Df(e),e.gu.set("Unknown"))}),Hb.apply(this,arguments)}function Ba(n){return n.pu||(n.pu=function(t,e,i){const r=Ze(t);return r.su(),new sE(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:VT.bind(null,n),Zr:Ef.bind(null,n),Wo:N_.bind(null,n)}),n.wu.push(function(){var t=(0,ve.Z)(function*(e){e?(n.pu.Oo(),cE(n)?F_(n):n.gu.set("Unknown")):(yield n.pu.stop(),uE(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Eo(n){return n.Iu||(n.Iu=function(t,e,i){const r=Ze(t);return r.su(),new oE(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:BT.bind(null,n),Zr:jT.bind(null,n),tu:UT.bind(null,n),Zo:HT.bind(null,n)}),n.wu.push(function(){var t=(0,ve.Z)(function*(e){e?(n.Iu.Oo(),yield Bd(n)):(yield n.Iu.stop(),n.fu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class jb{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new jb(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(he.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mf(n,t){if(Fn("AsyncQueue",`${t}: ${n}`),er(n))return new ke(he.UNAVAILABLE,`${t}: ${n}`);throw n}class Tf{constructor(t){this.comparator=t?(e,i)=>t(e,i)||qe.comparator(e.key,i.key):(e,i)=>qe.comparator(e.key,i.key),this.keyedMap=f_(),this.sortedSet=new ot(this.comparator)}static emptySet(t){return new Tf(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Tf)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Tf;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Gb{constructor(){this.Tu=new ot(qe.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):st():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Hd{constructor(t,e,i,r,o,u,h,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new Hd(t,e,Tf.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class pE{constructor(){this.Au=void 0,this.listeners=[]}}class GT{constructor(){this.queries=new Kc(t=>rT(t),Dd),this.onlineState="Unknown",this.Ru=new Set}}function B_(n,t){return zb.apply(this,arguments)}function zb(){return zb=(0,ve.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new pE),r)try{o.Au=yield e.onListen(i)}catch(u){const h=Mf(u,`Initialization of query '${cD(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.bu(e.onlineState),o.Au&&t.Pu(o.Au)&&gE(e)}),zb.apply(this,arguments)}function $b(n,t){return mE.apply(this,arguments)}function mE(){return mE=(0,ve.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),mE.apply(this,arguments)}function WR(n,t){const e=Ze(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Pu(r)&&(i=!0);u.Au=r}}i&&gE(e)}function KR(n,t,e){const i=Ze(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function gE(n){n.Ru.forEach(t=>{t.next()})}class U_{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Hd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||!(this.options.Nu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=Hd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}class H_{constructor(t,e){this.payload=t,this.byteLength=e}ku(){return"metadata"in this.payload}}class _E{constructor(t){this.It=t}Ji(t){return Gs(this.It,t)}Yi(t){return t.metadata.exists?Yv(this.It,t.document,!1):Nn.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return nr(t)}}class zT{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qb(t)}Ou(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=tn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Fu(t){const e=new Map,i=new _E(this.It);for(const r of t)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Ht()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,ve.Z)(function*(){const e=yield function JD(n,t,e,i){return vb.apply(this,arguments)}(t.localStore,new _E(t.It),t.documents,t.Mu.id),i=t.Fu(t.documents);for(const r of t.queries)yield PT(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,$u:t.collectionGroups,Bu:e}})()}}function qb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Af{constructor(t){this.key=t}}class yE{constructor(t){this.key=t}}class vE{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=Ht(),this.mutatedKeys=Ht(),this.Ku=oT(t),this.Gu=new Tf(this.Ku)}get Qu(){return this.Lu}ju(t,e){const i=e?e.Wu:new Gb,r=e?e.Gu:this.Gu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((D,M)=>{const O=r.get(D),V=uD(this.query,M)?M:null,U=!!O&&this.mutatedKeys.has(O.key),J=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let le=!1;O&&V?O.data.isEqual(V.data)?U!==J&&(i.track({type:3,doc:V}),le=!0):this.zu(O,V)||(i.track({type:2,doc:V}),le=!0,(_&&this.Ku(V,_)>0||b&&this.Ku(V,b)<0)&&(h=!0)):!O&&V?(i.track({type:0,doc:V}),le=!0):O&&!V&&(i.track({type:1,doc:O}),le=!0,(_||b)&&(h=!0)),le&&(V?(u=u.add(V),o=J?o.add(D):o.delete(D)):(u=u.delete(D),o=o.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),o=o.delete(D.key),i.track({type:1,doc:D})}return{Gu:u,Wu:i,$i:h,mutatedKeys:o}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const o=t.Wu.Eu();o.sort((b,D)=>function(M,O){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return V(M)-V(O)}(b.type,D.type)||this.Ku(b.doc,D.doc)),this.Hu(i);const u=e?this.Ju():[],h=0===this.qu.size&&this.current?1:0,_=h!==this.Uu;return this.Uu=h,0!==o.length||_?{snapshot:new Hd(this.query,t.Gu,r,o,t.mutatedKeys,0===h,_,!1),Yu:u}:{Yu:u}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Gb,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=Ht(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const e=[];return t.forEach(i=>{this.qu.has(i)||e.push(new yE(i))}),this.qu.forEach(i=>{t.has(i)||e.push(new Af(i))}),e}Zu(t){this.Lu=t.Hi,this.qu=Ht();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return Hd.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class $T{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class qT{constructor(t){this.key=t,this.ec=!1}}class YT{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new Kc(h=>rT(h),Dd),this.ic=new Map,this.rc=new Set,this.oc=new ot(qe.comparator),this.uc=new Map,this.cc=new vm,this.ac={},this.hc=new Map,this.lc=au.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function bE(n,t){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,ve.Z)(function*(n,t){const e=Z_(n);let i,r;const o=e.sc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.tc();else{const u=yield Nd(e.localStore,qr(t));e.isPrimaryClient&&xb(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Zb(e,t,i,"current"===h)}return r}),Yb.apply(this,arguments)}function Zb(n,t,e,i){return jd.apply(this,arguments)}function jd(){return jd=(0,ve.Z)(function*(n,t,e,i){n.dc=(D,M,O)=>{return(V=(0,ve.Z)(function*(U,J,le,je){let tt=J.view.ju(le);tt.$i&&(tt=yield Dm(U.localStore,J.query,!1).then(({documents:Rt})=>J.view.ju(Rt,tt)));const bt=je&&je.targetChanges.get(J.targetId),lt=J.view.applyChanges(tt,U.isPrimaryClient,bt);return Jb(U,J.targetId,lt.Yu),lt.snapshot}),function(U,J,le,je){return V.apply(this,arguments)})(n,D,M,O);var V};const r=yield Dm(n.localStore,t,!0),o=new vE(t,r.Hi),u=o.ju(r.documents),h=sm.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=o.applyChanges(u,n.isPrimaryClient,h);Jb(n,e,_.Yu);const b=new $T(t,e,o);return n.sc.set(t,b),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),_.snapshot}),jd.apply(this,arguments)}function ZT(n,t){return j_.apply(this,arguments)}function j_(){return j_=(0,ve.Z)(function*(n,t){const e=Ze(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(o=>!Dd(o,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ld(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Vd(e.remoteStore,i.targetId),xf(e,i.targetId)}).catch(Tl))):(xf(e,i.targetId),yield Ld(e.localStore,i.targetId,!0))}),j_.apply(this,arguments)}function G_(){return G_=(0,ve.Z)(function*(n,t,e){const i=cw(n);try{const r=yield function(o,u){const h=Ze(o),_=xn.now(),b=u.reduce((O,V)=>O.add(V.key),Ht());let D,M;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let V=Yr(),U=Ht();return h.Gi.getEntries(O,b).next(J=>{V=J,V.forEach((le,je)=>{je.isValidDocument()||(U=U.add(le))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,V)).next(J=>{D=J;const le=[];for(const je of u){const tt=u_(je,D.get(je.key).overlayedDocument);null!=tt&&le.push(new Zo(je.key,tt,r_(tt.value.mapValue),Jn.exists(!0)))}return h.mutationQueue.addMutationBatch(O,_,le,u)}).next(J=>{M=J;const le=J.applyToLocalDocumentSet(D,U);return h.documentOverlayCache.saveOverlays(O,J.batchId,le)})}).then(()=>({batchId:M.batchId,changes:_D(D)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let _=o.ac[o.currentUser.toKey()];_||(_=new ot(Ft)),_=_.insert(u,h),o.ac[o.currentUser.toKey()]=_}(i,r.batchId,e),yield Nl(i,r.changes),yield Bd(i.remoteStore)}catch(r){const o=Mf(r,"Failed to persist write");e.reject(o)}}),G_.apply(this,arguments)}function wE(n,t){return z_.apply(this,arguments)}function z_(){return z_=(0,ve.Z)(function*(n,t){const e=Ze(n);try{const i=yield mb(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.uc.get(o);u&&(At(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?At(u.ec):r.removedDocuments.size>0&&(At(u.ec),u.ec=!1))}),yield Nl(e,i,t)}catch(i){yield Tl(i)}}),z_.apply(this,arguments)}function CE(n,t,e){const i=Ze(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.sc.forEach((o,u)=>{const h=u.view.bu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=Ze(o);h.onlineState=u;let _=!1;h.queries.forEach((b,D)=>{for(const M of D.listeners)M.bu(u)&&(_=!0)}),_&&gE(h)}(i.eventManager,t),r.length&&i.nc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Wb(n,t,e){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,ve.Z)(function*(n,t,e){const i=Ze(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),o=r&&r.key;if(o){let u=new ot(qe.comparator);u=u.insert(o,Nn.newNoDocument(o,xt.min()));const h=Ht().add(o),_=new rm(xt.min(),new Map,new wn(Ft),u,h);yield wE(i,_),i.oc=i.oc.remove(o),i.uc.delete(t),ew(i)}else yield Ld(i.localStore,t,!1).then(()=>xf(i,t,e)).catch(Tl)}),Kb.apply(this,arguments)}function DE(n,t){return $_.apply(this,arguments)}function $_(){return $_=(0,ve.Z)(function*(n,t){const e=Ze(n),i=t.batch.batchId;try{const r=yield QD(e.localStore,t);q_(e,i,null),Xb(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Nl(e,r)}catch(r){yield Tl(r)}}),$_.apply(this,arguments)}function KT(n,t,e){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,ve.Z)(function*(n,t,e){const i=Ze(n);try{const r=yield function(o,u){const h=Ze(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return h.mutationQueue.lookupMutationBatch(_,u).next(D=>(At(null!==D),b=D.keys(),h.mutationQueue.removeMutationBatch(_,D))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>h.localDocuments.getDocuments(_,b))})}(i.localStore,t);q_(i,t,e),Xb(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Nl(i,r)}catch(r){yield Tl(r)}}),Qb.apply(this,arguments)}function Im(){return Im=(0,ve.Z)(function*(n,t){const e=Ze(n);gt(e.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Ze(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.hc.get(i)||[];r.push(t),e.hc.set(i,r)}catch(i){const r=Mf(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Im.apply(this,arguments)}function Xb(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function q_(n,t,e){const i=Ze(n);let r=i.ac[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function xf(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc._c(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(i=>{n.cc.containsKey(i)||EE(n,i)})}function EE(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);null!==e&&(Vd(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),ew(n))}function Jb(n,t,e){for(const i of e)i instanceof Af?(n.cc.addReference(i.key,t),XT(n,i)):i instanceof yE?(Oe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||EE(n,i.key)):st()}function XT(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||(Oe("SyncEngine","New document in limbo: "+e),n.rc.add(i),ew(n))}function ew(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new qe(tn.fromString(t)),i=n.lc.next();n.uc.set(i,new qT(e)),n.oc=n.oc.insert(e,i),xb(n.remoteStore,new qs(qr(lf(e.path)),i,2,$r.at))}}function Nl(n,t,e){return tw.apply(this,arguments)}function tw(){return tw=(0,ve.Z)(function*(n,t,e){const i=Ze(n),r=[],o=[],u=[];var h;i.sc.isEmpty()||(i.sc.forEach((h,_)=>{u.push(i.dc(_,t,e).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const D=x_.Ci(_.targetId,b);o.push(D)}}))}),yield Promise.all(u),i.nc.Wo(r),yield(h=(0,ve.Z)(function*(_,b){const D=Ze(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ae.forEach(b,O=>ae.forEach(O.Si,V=>D.persistence.referenceDelegate.addReference(M,O.targetId,V)).next(()=>ae.forEach(O.Di,V=>D.persistence.referenceDelegate.removeReference(M,O.targetId,V)))))}catch(M){if(!er(M))throw M;Oe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const O=M.targetId;if(!M.fromCache){const V=D.Ui.get(O),J=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);D.Ui=D.Ui.insert(O,J)}}}),function(_,b){return h.apply(this,arguments)})(i.localStore,o))}),tw.apply(this,arguments)}function JT(n,t){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,ve.Z)(function*(n,t){const e=Ze(n);if(!e.currentUser.isEqual(t)){Oe("SyncEngine","User change. New user:",t.toKey());const i=yield wm(e.localStore,t);e.currentUser=t,(r=e).hc.forEach(u=>{u.forEach(h=>{h.reject(new ke(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Nl(e,i.ji)}var r}),Y_.apply(this,arguments)}function SE(n,t){const e=Ze(n),i=e.uc.get(t);if(i&&i.ec)return Ht().add(i.key);{let r=Ht();const o=e.ic.get(t);if(!o)return r;for(const u of o){const h=e.sc.get(u);r=r.unionWith(h.view.Qu)}return r}}function eA(n,t){return nw.apply(this,arguments)}function nw(){return nw=(0,ve.Z)(function*(n,t){const e=Ze(n),i=yield Dm(e.localStore,t.query,!0),r=t.view.Zu(i);return e.isPrimaryClient&&Jb(e,t.targetId,r.Yu),r}),nw.apply(this,arguments)}function IE(n,t){return iw.apply(this,arguments)}function iw(){return iw=(0,ve.Z)(function*(n,t){const e=Ze(n);return _b(e.localStore,t).then(i=>Nl(e,i))}),iw.apply(this,arguments)}function tA(n,t,e,i){return rw.apply(this,arguments)}function rw(){return rw=(0,ve.Z)(function*(n,t,e,i){const r=Ze(n),o=yield function(u,h){const _=Ze(u),b=Ze(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>b.Tn(D,h).next(M=>M?_.localDocuments.getDocuments(D,M):ae.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield Bd(r.remoteStore):"acknowledged"===e||"rejected"===e?(q_(r,t,i||null),Xb(r,t),h=t,Ze(Ze(r.localStore).mutationQueue).An(h)):st(),yield Nl(r,o)):Oe("SyncEngine","Cannot apply mutation batch with id: "+t)}),rw.apply(this,arguments)}function Mm(){return Mm=(0,ve.Z)(function*(n,t){const e=Ze(n);if(Z_(e),cw(e),!0===t&&!0!==e.fc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield ow(e,i.toArray());e.fc=!0,yield V_(e.remoteStore,!0);for(const o of r)xb(e.remoteStore,o)}else if(!1===t&&!1!==e.fc){const i=[];let r=Promise.resolve();e.ic.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(xf(e,u),Ld(e.localStore,u,!0))),Vd(e.remoteStore,u)}),yield r,yield ow(e,i),function(o){const u=Ze(o);u.uc.forEach((h,_)=>{Vd(u.remoteStore,_)}),u.cc.fs(),u.uc=new Map,u.oc=new ot(qe.comparator)}(e),e.fc=!1,yield V_(e.remoteStore,!1)}}),Mm.apply(this,arguments)}function ow(n,t,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,ve.Z)(function*(n,t,e){const i=Ze(n),r=[],o=[];for(const u of t){let h;const _=i.ic.get(u);if(_&&0!==_.length){h=yield Nd(i.localStore,qr(_[0]));for(const b of _){const D=i.sc.get(b),M=yield eA(i,D);M.snapshot&&o.push(M.snapshot)}}else{const b=yield gb(i.localStore,u);h=yield Nd(i.localStore,b),yield Zb(i,ME(b),u,!1)}r.push(h)}return i.nc.Wo(o),r}),Tm.apply(this,arguments)}function ME(n){return oD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function nA(n){const t=Ze(n);return Ze(Ze(t.localStore).persistence).vi()}function aw(n,t,e,i){return lw.apply(this,arguments)}function lw(){return lw=(0,ve.Z)(function*(n,t,e,i){const r=Ze(n);if(r.fc)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const o=r.ic.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield _b(r.localStore,sT(o[0])),h=rm.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Nl(r,u,h);break}case"rejected":yield Ld(r.localStore,t,!0),xf(r,t,i);break;default:st()}}),lw.apply(this,arguments)}function TE(n,t,e){return du.apply(this,arguments)}function du(){return du=(0,ve.Z)(function*(n,t,e){const i=Z_(n);if(i.fc){for(const r of t){if(i.ic.has(r)){Oe("SyncEngine","Adding an already active target "+r);continue}const o=yield gb(i.localStore,r),u=yield Nd(i.localStore,o);yield Zb(i,ME(o),u.targetId,!1),xb(i.remoteStore,u)}for(const r of e)i.ic.has(r)&&(yield Ld(i.localStore,r,!1).then(()=>{Vd(i.remoteStore,r),xf(i,r)}).catch(Tl))}}),du.apply(this,arguments)}function Z_(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Wb.bind(null,t),t.nc.Wo=WR.bind(null,t.eventManager),t.nc._c=KR.bind(null,t.eventManager),t}function cw(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KT.bind(null,t),t}class uw{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ve.Z)(function*(){e.It=Cf(t.databaseInfo.databaseId),e.sharedClientState=e.mc(t),e.persistence=e.gc(t),yield e.persistence.start(),e.localStore=e.yc(t),e.gcScheduler=e.Ic(t,e.localStore),e.indexBackfillerScheduler=e.Tc(t,e.localStore)})()}Ic(t,e){return null}Tc(t,e){return null}yc(t){return hb(this.persistence,new WD,t.initialUser,this.It)}gc(t){return new Do(bm.Bs,this.It)}mc(t){return new nE}terminate(){var t=this;return(0,ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class W_ extends uw{constructor(t,e,i){super(),this.Ec=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t),yield i.Ec.initialize(i,t),yield cw(i.Ec.syncEngine),yield Bd(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(t){return hb(this.persistence,new WD,t.initialUser,this.It)}Ic(t,e){return new AT(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Tc(t,e){const i=new QM(e,this.persistence);return new KM(t.asyncQueue,i)}gc(t){const e=db(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Wr.withCacheSize(this.cacheSizeBytes):Wr.DEFAULT;return new ub(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Sb(),Sm(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(t){return new nE}}class iA extends W_{constructor(t,e){super(t,e,!1),this.Ec=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t);const r=i.Ec.syncEngine;i.sharedClientState instanceof Eb&&(i.sharedClientState.syncEngine={Fr:tA.bind(null,r),$r:aw.bind(null,r),Br:TE.bind(null,r),vi:nA.bind(null,r),Or:IE.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,ve.Z)(function*(u){yield function sw(n,t){return Mm.apply(this,arguments)}(i.Ec.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}mc(t){const e=Sb();if(!Eb.C(e))throw new ke(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=db(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Eb(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Am{initialize(t,e){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>CE(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=JT.bind(null,i.syncEngine),yield V_(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new GT}createDatastore(t){const e=Cf(t.databaseInfo.databaseId),i=new rE(t.databaseInfo);return new aE(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>CE(this.syncEngine,h,0),u=iE.C()?new iE:new FT,new Tb(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,_,b){const D=new YT(i,r,o,u,h,_);return b&&(D.fc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ve.Z)(function*(e){const i=Ze(e);Oe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Df(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function AE(n,t=10240){let e=0;return{read:()=>(0,ve.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class xm{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):Fn("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class dw{constructor(t,e){this.bc=t,this.It=e,this.metadata=new Ji,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var t=this;return(0,ve.Z)(function*(){return t.metadata.promise})()}wc(){var t=this;return(0,ve.Z)(function*(){return yield t.getMetadata(),t.vc()})()}vc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.Vc();if(null===e)return null;const i=t.Pc.decode(e),r=Number(i);isNaN(r)&&t.Sc(`length string (${i}) is not valid number`);const o=yield t.Dc(r);return new H_(JSON.parse(o),e.length+r)})()}Cc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Vc(){var t=this;return(0,ve.Z)(function*(){for(;t.Cc()<0&&!(yield t.xc()););if(0===t.buffer.length)return null;const e=t.Cc();e<0&&t.Sc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Dc(t){var e=this;return(0,ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.xc())&&e.Sc("Reached the end of bundle when more is expected.");const i=e.Pc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Sc(t){throw this.bc.cancel(),new Error(`Invalid bundle format: ${t}`)}xc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.bc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class xE{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ke(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(o,u){const h=Ze(o),_=m_(h.It)+"/documents",b={documents:u.map(V=>Td(h.It,V))},D=yield h.fo("BatchGetDocuments",_,b,u.length),M=new Map;D.forEach(V=>{const U=function ED(n,t){return"found"in t?function(e,i){At(!!i.found);const r=Gs(e,i.found.name),o=nr(i.found.updateTime),u=new kr({mapValue:{fields:i.found.fields}});return Nn.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){At(!!i.missing),At(!!i.readTime);const r=Gs(e,i.missing),o=nr(i.readTime);return Nn.newNoDocument(r,o)}(n,t):st()}(h.It,V);M.set(U.key.toString(),U)});const O=[];return u.forEach(V=>{const U=M.get(V.toString());At(!!U),O.push(U)}),O}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new uf(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=qe.fromPath(r);t.mutations.push(new mD(o,t.precondition(o)))}),yield(i=(0,ve.Z)(function*(r,o){const u=Ze(r),h=m_(u.It)+"/documents",_={writes:o.map(b=>zs(u.It,b))};yield u.co("Commit",h,_)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw st();e=xt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ke(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(xt.min())?Jn.exists(!1):Jn.updateTime(e):Jn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(xt.min()))throw new ke(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jn.updateTime(e)}return Jn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class kE{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Nc=i.maxAttempts,this.xo=new P_(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var t=this;this.xo.Ao((0,ve.Z)(function*(){const e=new xE(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Oc(o)}))}).catch(r=>{t.Oc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!Kp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(t){this.Nc>0&&this.Fc(t)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(t)}Fc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!Vv(e)}return!1}}class RE{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Xi.UNAUTHENTICATED,this.clientId=_v.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ve.Z)(function*(h){Oe("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Oe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Mf(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function hw(n,t){return fw.apply(this,arguments)}function fw(){return fw=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(o){i.isEqual(o)||(yield wm(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),fw.apply(this,arguments)}function OE(n,t){return pw.apply(this,arguments)}function pw(){return pw=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield mw(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Ub(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Ub(t.remoteStore,o)),n.onlineComponents=t}),pw.apply(this,arguments)}function mw(n){return K_.apply(this,arguments)}function K_(){return K_=(0,ve.Z)(function*(n){return n.offlineComponents||(Oe("FirestoreClient","Using default OfflineComponentProvider"),yield hw(n,new uw)),n.offlineComponents}),K_.apply(this,arguments)}function gw(n){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,ve.Z)(function*(n){return n.onlineComponents||(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield OE(n,new Am)),n.onlineComponents}),Q_.apply(this,arguments)}function PE(n){return mw(n).then(t=>t.persistence)}function X_(n){return mw(n).then(t=>t.localStore)}function rA(n){return gw(n).then(t=>t.remoteStore)}function FE(n){return gw(n).then(t=>t.syncEngine)}function kf(n){return _w.apply(this,arguments)}function _w(){return _w=(0,ve.Z)(function*(n){const t=yield gw(n),e=t.eventManager;return e.onListen=bE.bind(null,t.syncEngine),e.onUnlisten=ZT.bind(null,t.syncEngine),e}),_w.apply(this,arguments)}function VE(n,t,e={}){const i=new Ji;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,o,u,h,_){const b=new xm({next:M=>{o.enqueueAndForget(()=>$b(r,D));const O=M.docs.has(u);!O&&M.fromCache?_.reject(new ke(he.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&M.fromCache&&h&&"server"===h.source?_.reject(new ke(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new U_(lf(u.path),b,{includeMetadataChanges:!0,Nu:!0});return B_(r,D)}(yield kf(n),n.asyncQueue,t,e,i)})),i.promise}function BE(n,t,e={}){const i=new Ji;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,o,u,h,_){const b=new xm({next:M=>{o.enqueueAndForget(()=>$b(r,D)),M.fromCache&&"server"===h.source?_.reject(new ke(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new U_(u,b,{includeMetadataChanges:!0,Nu:!0});return B_(r,D)}(yield kf(n),n.asyncQueue,t,e,i)})),i.promise}const Rf=new Map;function J_(n,t,e){if(!e)throw new ke(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function yw(n,t,e,i){if(!0===t&&!0===i)throw new ke(he.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function vw(n){if(!qe.isDocumentKey(n))throw new ke(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bw(n){if(qe.isDocumentKey(n))throw new ke(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function km(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":st()}function Xt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ke(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=km(n);throw new ke(he.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function UE(n,t){if(t<=0)throw new ke(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class dA{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ke(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ke(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,yw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Of{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ke(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dA(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new UC;switch(e.type){case"gapi":return new $M(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ke(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Rf.get(t);e&&(Oe("ComponentProvider","Removing Datastore"),Rf.delete(t),e.terminate())}(this),Promise.resolve()}}class zn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zn(this.firestore,t,this._key)}}class Or{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Or(this.firestore,t,this._query)}}class Ua extends Or{constructor(t,e,i){super(t,e,lf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zn(this.firestore,null,new qe(t))}withConverter(t){return new Ua(this.firestore,t,this._path)}}function Pf(n,t,...e){if(n=(0,jt.m9)(n),J_("collection","path",t),n instanceof Of){const i=tn.fromString(t,...e);return bw(i),new Ua(n,null,i)}{if(!(n instanceof zn||n instanceof Ua))throw new ke(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tn.fromString(t,...e));return bw(i),new Ua(n.firestore,null,i)}}function Ff(n,t,...e){if(n=(0,jt.m9)(n),1===arguments.length&&(t=_v.R()),J_("doc","path",t),n instanceof Of){const i=tn.fromString(t,...e);return vw(i),new zn(n,null,new qe(i))}{if(!(n instanceof zn||n instanceof Ua))throw new ke(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tn.fromString(t,...e));return vw(i),new zn(n.firestore,n instanceof Ua?n.converter:null,new qe(i))}}function Xo(n,t){return n=(0,jt.m9)(n),t=(0,jt.m9)(t),(n instanceof zn||n instanceof Ua)&&(t instanceof zn||t instanceof Ua)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function HE(n,t){return n=(0,jt.m9)(n),t=(0,jt.m9)(t),n instanceof Or&&t instanceof Or&&n.firestore===t.firestore&&Dd(n._query,t._query)&&n.converter===t.converter}class ey{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new P_(this,"async_queue_retry"),this.jc=()=>{const e=Sm();e&&Oe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=Sm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=Sm();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new Ji;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}Hc(){var t=this;return(0,ve.Z)(function*(){if(0!==t.Bc.length){try{yield t.Bc[0](),t.Bc.shift(),t.xo.reset()}catch(e){if(!er(e))throw e;Oe("AsyncQueue","Operation failed with retryable error: "+e)}t.Bc.length>0&&t.xo.Ao(()=>t.Hc())}})()}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(i=>{throw this.qc=i,this.Kc=!1,Fn("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=e,e}enqueueAfterDelay(t,e,i){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=jb.createAndSchedule(this,t,e,i,o=>this.Jc(o));return this.Uc.push(r),r}Wc(){this.qc&&st()}verifyOperationInProgress(){}Yc(){var t=this;return(0,ve.Z)(function*(){let e;do{e=t.$c,yield e}while(e!==t.$c)})()}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function Gd(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class pA{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ei extends Of{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new ey,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jE(this),this._firestoreClient.terminate()}}function Fi(n){return n._firestoreClient||jE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jE(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Ev(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new RE(n._authCredentials,n._appCheckCredentials,n._queue,i)}function ty(n,t,e){const i=new Ji;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield hw(n,e),yield OE(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===he.FAILED_PRECONDITION||u.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;Il("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function ny(n){if(n._initialized||n._terminated)throw new ke(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Jo{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ke(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ha{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ha(Pi.fromBase64String(t))}catch(e){throw new ke(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ha(Pi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class zd{constructor(t){this._methodName=t}}class iy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ke(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ke(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}}const ZE=/^__.*__$/;class Ew{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Zo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Md(t,this.data,e,this.fieldTransforms)}}class Sw{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Zo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Iw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class Rm{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ea(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new Rm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.oa(t),r}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return Pm(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(0===t.length)throw this.aa("Document fields must not be empty");if(Iw(this.na)&&ZE.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class WE{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||Cf(t)}fa(t,e,i,r=!1){return new Rm({na:t,methodName:e,la:i,path:Xn.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function $d(n){const t=n._freezeSettings(),e=Cf(n._databaseId);return new WE(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Om(n,t,e,i,r,o={}){const u=n.fa(o.merge||o.mergeFields?2:0,t,e,r);qd("Data must be an object, but it was:",u,i);const h=Aw(i,u);let _,b;if(o.merge)_=new ms(u.fieldMask),b=u.fieldTransforms;else if(o.mergeFields){const D=[];for(const M of o.mergeFields){const O=kw(t,M,e);if(!u.contains(O))throw new ke(he.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);QE(D,O)||D.push(O)}_=new ms(D),b=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=u.fieldTransforms;return new Ew(new kr(h),_,b)}class Nf extends zd{_toFieldTransform(t){if(2!==t.na)throw t.aa(1===t.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nf}}function KE(n,t,e){return new Rm({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class ry extends zd{_toFieldTransform(t){return new tm(t.path,new Ed)}isEqual(t){return t instanceof ry}}class yA extends zd{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=KE(this,t,!0),i=this.da.map(o=>Vf(o,e)),r=new kl(i);return new tm(t.path,r)}isEqual(t){return this===t}}class Kr extends zd{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=KE(this,t,!0),i=this.da.map(o=>Vf(o,e)),r=new Rl(i);return new tm(t.path,r)}isEqual(t){return this===t}}class Lf extends zd{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=new Hs(t.It,cT(t.It,this._a));return new tm(t.path,e)}isEqual(t){return this===t}}function Mw(n,t,e,i){const r=n.fa(1,t,e);qd("Data must be an object, but it was:",r,i);const o=[],u=kr.empty();_d(i,(_,b)=>{const D=sy(t,_,e);b=(0,jt.m9)(b);const M=r.ua(D);if(b instanceof Nf)o.push(D);else{const O=Vf(b,M);null!=O&&(o.push(D),u.set(D,O))}});const h=new ms(o);return new Sw(u,h,r.fieldTransforms)}function Tw(n,t,e,i,r,o){const u=n.fa(1,t,e),h=[kw(t,i,e)],_=[r];if(o.length%2!=0)throw new ke(he.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<o.length;O+=2)h.push(kw(t,o[O])),_.push(o[O+1]);const b=[],D=kr.empty();for(let O=h.length-1;O>=0;--O)if(!QE(b,h[O])){const V=h[O];let U=_[O];U=(0,jt.m9)(U);const J=u.ua(V);if(U instanceof Nf)b.push(V);else{const le=Vf(U,J);null!=le&&(b.push(V),D.set(V,le))}}const M=new ms(b);return new Sw(D,M,u.fieldTransforms)}function vA(n,t,e,i=!1){return Vf(e,n.fa(i?4:3,t))}function Vf(n,t){if(xw(n=(0,jt.m9)(n)))return qd("Unsupported field value:",t,n),Aw(n,t);if(n instanceof zd)return function(e,i){if(!Iw(i.na))throw i.aa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=Vf(u,i.ca(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,jt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cT(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=xn.fromDate(e);return{timestampValue:am(i.It,r)}}if(e instanceof xn){const r=new xn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:am(i.It,r)}}if(e instanceof iy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ha)return{bytesValue:CD(i.It,e._byteString)};if(e instanceof zn){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.aa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:zv(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.aa(`Unsupported field value: ${km(e)}`)}(n,t)}function Aw(n,t){const e={};return WC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_d(n,(i,r)=>{const o=Vf(r,t.ia(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function xw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof iy||n instanceof Ha||n instanceof zn||n instanceof zd)}function qd(n,t,e){if(!xw(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=km(e);throw t.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function kw(n,t,e){if((t=(0,jt.m9)(t))instanceof Jo)return t._internalPath;if("string"==typeof t)return sy(n,t);throw Pm("Field path arguments must be of type string or ",n,!1,void 0,e)}const Rw=new RegExp("[~\\*/\\[\\]]");function sy(n,t,e){if(t.search(Rw)>=0)throw Pm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Jo(...t.split("."))._internalPath}catch{throw Pm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Pm(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(o||u)&&(_+=" (found",o&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new ke(he.INVALID_ARGUMENT,h+n+_)}function QE(n,t){return n.some(e=>e.isEqual(t))}class Fm{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new bA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Bf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class bA extends Fm{data(){return super.data()}}function Bf(n,t){return"string"==typeof t?sy(n,t):t instanceof Jo?t._internalPath:t._delegate._internalPath}class hu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ja extends Fm{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Bf("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class fu extends ja{data(t={}){return super.data(t)}}class Ga{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new hu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new fu(this._firestore,this._userDataWriter,i.key,i,new hu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ke(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new fu(i._firestore,i._userDataWriter,u.doc.key,u.doc,new hu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new fu(i._firestore,i._userDataWriter,u.doc.key,u.doc,new hu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),b=o.indexOf(u.doc.key)),{type:e1(u.type),doc:h,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function e1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function Ow(n,t){return n instanceof ja&&t instanceof ja?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Ga&&t instanceof Ga&&n._firestore===t._firestore&&HE(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function XE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uf{}function Ys(n,...t){for(const e of t)n=e._apply(n);return n}class wA extends Uf{constructor(t,e,i){super(),this.wa=t,this.ma=e,this.ga=i,this.type="where"}_apply(t){const e=$d(t.firestore),i=function(r,o,u,h,_,b,D){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ke(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){sS(D,b);const V=[];for(const U of D)V.push(rS(h,r,U));M={arrayValue:{values:V}}}else M=rS(h,r,D)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||sS(D,b),M=vA(u,"where",D,"in"===b||"not-in"===b);const O=jn.create(_,b,M);return function(V,U){if(U.dt()){const le=kv(V);if(null!==le&&!le.isEqual(U.field))throw new ke(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${le.toString()}' and '${U.field.toString()}'`);const je=aD(V);null!==je&&Lw(0,U.field,je)}const J=function(le,je){for(const tt of le.filters)if(je.indexOf(tt.op)>=0)return tt.op;return null}(V,function(le){switch(le){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==J)throw new ke(he.INVALID_ARGUMENT,J===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${J.toString()}' filters.`)}(r,O),O}(t._query,0,e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new Or(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class Pw extends Uf{constructor(t,e){super(),this.wa=t,this.ya=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new ke(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Zc(r,o);return function(h,_){if(null===aD(h)){const b=kv(h);null!==b&&Lw(0,b,_.field)}}(i,u),u}(t._query,this.wa,this.ya);return new Or(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new xl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class eS extends Uf{constructor(t,e,i){super(),this.type=t,this.pa=e,this.Ia=i}_apply(t){return new Or(t.firestore,t.converter,l_(t._query,this.pa,this.Ia))}}class tS extends Uf{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=Nw(t,this.type,this.Ta,this.Ea);return new Or(t.firestore,t.converter,(r=e,new xl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Fw extends Uf{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=Nw(t,this.type,this.Ta,this.Ea);return new Or(t.firestore,t.converter,(r=e,new xl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Nw(n,t,e,i){if(e[0]=(0,jt.m9)(e[0]),e[0]instanceof Fm)return function(r,o,u,h,_){if(!h)throw new ke(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const D of Cd(r))if(D.field.isKeyField())b.push(bd(o,h.key));else{const M=h.data.field(D.field);if(Xg(M))throw new ke(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const O=D.field.canonicalString();throw new ke(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(M)}return new Fa(b,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=$d(n.firestore);return function(o,u,h,_,b,D){const M=o.explicitOrderBy;if(b.length>M.length)throw new ke(he.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let V=0;V<b.length;V++){const U=b[V];if(M[V].field.isKeyField()){if("string"!=typeof U)throw new ke(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof U}`);if(!lD(o)&&-1!==U.indexOf("/"))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${U}' contains a slash.`);const J=o.path.child(tn.fromString(U));if(!qe.isDocumentKey(J))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const le=new qe(J);O.push(bd(u,le))}else{const J=vA(h,_,U);O.push(J)}}return new Fa(O,D)}(n._query,n.firestore._databaseId,r,t,e,i)}}function rS(n,t,e){if("string"==typeof(e=(0,jt.m9)(e))){if(""===e)throw new ke(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lD(t)&&-1!==e.indexOf("/"))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(tn.fromString(e));if(!qe.isDocumentKey(i))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return bd(n,new qe(i))}if(e instanceof zn)return bd(n,e._key);throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${km(e)}.`)}function sS(n,t){if(!Array.isArray(n)||0===n.length)throw new ke(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ke(he.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Lw(n,t,e){if(!e.isEqual(t))throw new ke(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const SA={maxAttempts:5};class oy{convertValue(t,e="none"){switch($c(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ti(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw st()}}convertObject(t,e){const i={};return _d(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new iy(Ti(t.latitude),Ti(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=zc(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Wp(t));default:return null}}convertTimestamp(t){const e=jc(t);return new xn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=tn.fromString(t);At(TD(i));const r=new Pa(i.get(1),i.get(3)),o=new qe(i.popFirst(5));return r.isEqual(e)||Fn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function Nm(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class oS extends oy{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ha(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zn(this.firestore,null,e)}}class Vw{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=$d(t)}set(t,e,i){this._verifyNotCommitted();const r=pu(t,this._firestore),o=Nm(r.converter,e,i),u=Om(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Jn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=pu(t,this._firestore);let u;return u="string"==typeof(e=(0,jt.m9)(e))||e instanceof Jo?Tw(this._dataReader,"WriteBatch.update",o._key,e,i,r):Mw(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,Jn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=pu(t,this._firestore);return this._mutations=this._mutations.concat(new uf(e._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pu(n,t){if((n=(0,jt.m9)(n)).firestore!==t)throw new ke(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hf extends oy{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ha(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zn(this.firestore,null,e)}}function MA(n,t,e){n=Xt(n,zn);const i=Xt(n.firestore,ei),r=Nm(n.converter,t,e);return Yd(i,[Om($d(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Jn.none())])}function TA(n,t,e,...i){n=Xt(n,zn);const r=Xt(n.firestore,ei),o=$d(r);let u;return u="string"==typeof(t=(0,jt.m9)(t))||t instanceof Jo?Tw(o,"updateDoc",n._key,t,e,i):Mw(o,"updateDoc",n._key,t),Yd(r,[u.toMutation(n._key,Jn.exists(!0))])}function Lm(n,...t){var e,i,r;n=(0,jt.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||Gd(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(Gd(t[u])){const M=t[u];t[u]=null===(e=M.next)||void 0===e?void 0:e.bind(M),t[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),t[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,b,D;if(n instanceof zn)b=Xt(n.firestore,ei),D=lf(n._key.path),_={next:M=>{t[u]&&t[u](jf(b,n,M))},error:t[u+1],complete:t[u+2]};else{const M=Xt(n,Or);b=Xt(M.firestore,ei),D=M._query;const O=new Hf(b);_={next:V=>{t[u]&&t[u](new Ga(b,O,M,V))},error:t[u+1],complete:t[u+2]},XE(n._query)}return function(M,O,V,U){const J=new xm(U),le=new U_(O,J,V);return M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return B_(yield kf(M),le)})),()=>{J.Rc(),M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return $b(yield kf(M),le)}))}}(Fi(b),D,h,_)}function Yd(n,t){return function(e,i){const r=new Ji;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function WT(n,t,e){return G_.apply(this,arguments)}(yield FE(e),i,r)})),r.promise}(Fi(n),t)}function jf(n,t,e){const i=e.docs.get(t._key),r=new Hf(n);return new ja(n,r,t._key,i,new hu(e.hasPendingWrites,e.fromCache),t.converter)}class lS extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=$d(t)}get(t){const e=pu(t,this._firestore),i=new oS(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return st();const o=r[0];if(o.isFoundDocument())return new Fm(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Fm(this._firestore,i,e._key,null,e.converter);throw st()})}set(t,e,i){const r=pu(t,this._firestore),o=Nm(r.converter,e,i),u=Om(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=pu(t,this._firestore);let u;return u="string"==typeof(e=(0,jt.m9)(e))||e instanceof Jo?Tw(this._dataReader,"Transaction.update",o._key,e,i,r):Mw(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=pu(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=pu(t,this._firestore),i=new Hf(this._firestore);return super.get(t).then(r=>new ja(this._firestore,i,e._key,r._document,new hu(!1,!1),e.converter))}}function Uw(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function kA(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function RA(){if(!function XM(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){ef=go.SDK_VERSION,(0,go._registerComponent)(new ed.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),u=new ei(new HC(e.getProvider("auth-internal")),new GC(e.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ke(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pa(h.options.projectId,_)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,go.registerVersion)(Jh,"3.5.0",n),(0,go.registerVersion)(Jh,"3.5.0","esm2017")}();class ly{constructor(t){this._delegate=t}static fromBase64String(t){return RA(),new ly(Ha.fromBase64String(t))}static fromUint8Array(t){return kA(),new ly(Ha.fromUint8Array(t))}toBase64(){return RA(),this._delegate.toBase64()}toUint8Array(){return kA(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Hw(n){return function OA(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class PA{enableIndexedDbPersistence(t,e){return function GE(n,t){ny(n=Xt(n,ei));const e=Fi(n),i=n._freezeSettings(),r=new Am;return ty(e,r,new W_(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function zE(n){ny(n=Xt(n,ei));const t=Fi(n),e=n._freezeSettings(),i=new Am;return ty(t,i,new iA(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function $E(n){if(n._initialized&&!n._terminated)throw new ke(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ji;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(e=(0,ve.Z)(function*(i){if(!bo.C())return Promise.resolve();const r=i+"main";yield bo.delete(r)}),function(i){return e.apply(this,arguments)})(db(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class FA{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Pa||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Il("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function hA(n,t,e,i={}){var r;const o=(n=Xt(n,Of))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Il("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Xi.MOCK_USER;else{u=(0,jt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ke(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Xi(_)}n._authCredentials=new mv(new BC(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function _A(n){return function NE(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield PE(n),e=yield rA(n);return t.setNetworkEnabled(!0),function(i){const r=Ze(i);return r._u.delete(0),Qo(r)}(e)}))}(Fi(n=Xt(n,ei)))}(this._delegate)}disableNetwork(){return function XR(n){return function LE(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield PE(n),e=yield rA(n);return t.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const o=Ze(r);o._u.add(0),yield Df(o),o.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Fi(n=Xt(n,ei)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,yw("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gA(n){return function(t){const e=new Ji;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function QT(n,t){return Im.apply(this,arguments)}(yield FE(t),e)})),e.promise}(Fi(n=Xt(n,ei)))}(this._delegate)}onSnapshotsInSync(t){return function u1(n,t){return function aA(n,t){const e=new xm(t);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield kf(n),r=e,Ze(i).Ru.add(r),void r.next();var i,r})),()=>{e.Rc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield kf(n),r=e,void Ze(i).Ru.delete(r);var i,r}))}}(Fi(n=Xt(n,ei)),Gd(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Wd(this,Pf(this._delegate,t))}catch(e){throw yr(e,"collection()","Firestore.collection()")}}doc(t){try{return new So(this,Ff(this._delegate,t))}catch(e){throw yr(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Qr(this,function fA(n,t){if(n=Xt(n,Of),J_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ke(he.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Or(n,null,(e=t,new xl(tn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw yr(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function cS(n,t,e){n=Xt(n,ei);const i=Object.assign(Object.assign({},SA),e);return function(r){if(r.maxAttempts<1)throw new ke(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function lA(n,t,e){const i=new Ji;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const r=yield(o=n,gw(o).then(u=>u.datastore));var o;new kE(n.asyncQueue,r,e,t,i).run()})),i.promise}(Fi(n),r=>t(new lS(n,r)),i)}(this._delegate,e=>t(new jw(this,e)))}batch(){return Fi(this._delegate),new NA(new Vw(this._delegate,t=>Yd(this._delegate,t)))}loadBundle(t){return function Dw(n,t){const e=Fi(n=Xt(n,ei)),i=new pA;return function cA(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,_=function(_,b){if(_ instanceof Uint8Array)return AE(_,b);if(_ instanceof ArrayBuffer)return AE(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new dw(_,u);var _}(e,Cf(t));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function QR(n,t,e){const i=Ze(n);var r;(r=(0,ve.Z)(function*(o,u,h){try{const _=yield u.getMetadata();if(yield function(O,V){const U=Ze(O),J=nr(V.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",le=>U.Ns.getBundleMetadata(le,V.id)).then(le=>!!le&&le.createTime.compareTo(J)>=0)}(o.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(qb(_));const b=new zT(_,o.localStore,u.It);let D=yield u.wc();for(;D;){const O=yield b.Ou(D);O&&h._updateProgress(O),D=yield u.wc()}const M=yield b.complete();return yield Nl(o,M.Bu,void 0),yield function(O,V){const U=Ze(O);return U.persistence.runTransaction("Save bundle","readwrite",J=>U.Ns.saveBundleMetadata(J,V))}(o.localStore,_),h._completeWith(M.progress),Promise.resolve(M.$u)}catch(_){return Il("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var O}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield FE(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function YE(n,t){return function uA(n,t){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(e,i){const r=Ze(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield X_(n),t)}))}(Fi(n=Xt(n,ei)),t).then(e=>e?new Or(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Qr(this,e):null)}}class cy extends oy{constructor(t){super(),this.firestore=t}convertBytes(t){return new ly(new Ha(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return So.forKey(e,this.firestore,null)}}class jw{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new cy(t)}get(t){const e=mu(t);return this._delegate.get(e).then(i=>new Vm(this._firestore,new ja(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=mu(t);return i?(Uw("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=mu(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=mu(t);return this._delegate.delete(e),this}}class NA{constructor(t){this._delegate=t}set(t,e,i){const r=mu(t);return i?(Uw("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=mu(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=mu(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class _r{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new fu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Zd(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=_r.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new _r(t,new cy(t),e),r.set(e,o)),o}}_r.INSTANCES=new WeakMap;class So{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cy(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new So(e,new zn(e._delegate,i,new qe(t)))}static forKey(t,e,i){return new So(e,new zn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Wd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Wd(this.firestore,Pf(this._delegate,t))}catch(e){throw yr(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,jt.m9)(t))instanceof zn&&Xo(this._delegate,t)}set(t,e){e=Uw("DocumentReference.set",e);try{return e?MA(this._delegate,t,e):MA(this._delegate,t)}catch(i){throw yr(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?TA(this._delegate,t):TA(this._delegate,t,e,...i)}catch(r){throw yr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function l1(n){return Yd(Xt(n.firestore,ei),[new uf(n._key,Jn.none())])}(this._delegate)}onSnapshot(...t){const e=pS(t),i=Zs(t,r=>new Vm(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Lm(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function aS(n){n=Xt(n,zn);const t=Xt(n.firestore,ei),e=Fi(t),i=new Hf(t);return function sA(n,t){const e=new Ji;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,o,u){try{const h=yield function(_,b){const D=Ze(_);return D.persistence.runTransaction("read document","readonly",M=>D.localDocuments.getDocument(M,b))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new ke(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=Mf(h,`Failed to get document '${o} from cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield X_(n),t,e);var i})),e.promise}(e,n._key).then(r=>new ja(t,i,n._key,r,new hu(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function r1(n){n=Xt(n,zn);const t=Xt(n.firestore,ei);return VE(Fi(t),n._key,{source:"server"}).then(e=>jf(t,n,e))}(this._delegate):function IA(n){n=Xt(n,zn);const t=Xt(n.firestore,ei);return VE(Fi(t),n._key).then(e=>jf(t,n,e))}(this._delegate),e.then(i=>new Vm(this.firestore,new ja(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new So(this.firestore,this._delegate.withConverter(t?_r.getInstance(this.firestore,t):null))}}function yr(n,t,e){return n.message=n.message.replace(t,e),n}function pS(n){for(const t of n)if("object"==typeof t&&!Hw(t))return t;return{}}function Zs(n,t){var e,i;let r;return r=Hw(n[0])?n[0]:Hw(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Vm{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new So(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Ow(this._delegate,t._delegate)}}class Zd extends Vm{data(t){const e=this._delegate.data(t);return function zM(n,t){n||st()}(void 0!==e),e}}class Qr{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cy(t)}where(t,e,i){try{return new Qr(this.firestore,Ys(this._delegate,function JE(n,t,e){const i=t,r=Bf("where",n);return new wA(r,i,e)}(t,e,i)))}catch(r){throw yr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Qr(this.firestore,Ys(this._delegate,function t1(n,t="asc"){const e=t,i=Bf("orderBy",n);return new Pw(i,e)}(t,e)))}catch(i){throw yr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Qr(this.firestore,Ys(this._delegate,function n1(n){return UE("limit",n),new eS("limit",n,"F")}(t)))}catch(e){throw yr(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Qr(this.firestore,Ys(this._delegate,function CA(n){return UE("limitToLast",n),new eS("limitToLast",n,"L")}(t)))}catch(e){throw yr(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Qr(this.firestore,Ys(this._delegate,function DA(...n){return new tS("startAt",n,!0)}(...t)))}catch(e){throw yr(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Qr(this.firestore,Ys(this._delegate,function nS(...n){return new tS("startAfter",n,!1)}(...t)))}catch(e){throw yr(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Qr(this.firestore,Ys(this._delegate,function EA(...n){return new Fw("endBefore",n,!1)}(...t)))}catch(e){throw yr(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Qr(this.firestore,Ys(this._delegate,function iS(...n){return new Fw("endAt",n,!0)}(...t)))}catch(e){throw yr(e,"endAt()","Query.endAt()")}}isEqual(t){return HE(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function o1(n){n=Xt(n,Or);const t=Xt(n.firestore,ei),e=Fi(t),i=new Hf(t);return function oA(n,t){const e=new Ji;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,o,u){try{const h=yield Dm(r,o,!0),_=new vE(o,h.Hi),b=_.ju(h.documents),D=_.applyChanges(b,!1);u.resolve(D.snapshot)}catch(h){const _=Mf(h,`Failed to execute query '${o} against cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield X_(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Ga(t,i,n,r))}(this._delegate):"server"===t?.source?function a1(n){n=Xt(n,Or);const t=Xt(n.firestore,ei),e=Fi(t),i=new Hf(t);return BE(e,n._query,{source:"server"}).then(r=>new Ga(t,i,n,r))}(this._delegate):function s1(n){n=Xt(n,Or);const t=Xt(n.firestore,ei),e=Fi(t),i=new Hf(t);return XE(n._query),BE(e,n._query).then(r=>new Ga(t,i,n,r))}(this._delegate),e.then(i=>new Bm(this.firestore,new Ga(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=pS(t),i=Zs(t,r=>new Bm(this.firestore,new Ga(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Lm(this._delegate,e,i)}withConverter(t){return new Qr(this.firestore,this._delegate.withConverter(t?_r.getInstance(this.firestore,t):null))}}class LA{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Zd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Bm{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Qr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Zd(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new LA(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Zd(this._firestore,i))})}isEqual(t){return Ow(this._delegate,t._delegate)}}class Wd extends Qr{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new So(this.firestore,t):null}doc(t){try{return new So(this.firestore,void 0===t?Ff(this._delegate):Ff(this._delegate,t))}catch(e){throw yr(e,"doc()","CollectionReference.doc()")}}add(t){return function c1(n,t){const e=Xt(n.firestore,ei),i=Ff(n),r=Nm(n.converter,t);return Yd(e,[Om($d(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Jn.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new So(this.firestore,e))}isEqual(t){return Xo(this._delegate,t._delegate)}withConverter(t){return new Wd(this.firestore,this._delegate.withConverter(t?_r.getInstance(this.firestore,t):null))}}function mu(n){return Xt(n,zn)}class Gw{constructor(...t){this._delegate=new Jo(...t)}static documentId(){return new Gw(Xn.keyField().canonicalString())}isEqual(t){return(t=(0,jt.m9)(t))instanceof Jo&&this._delegate._internalPath.isEqual(t._internalPath)}}class gu{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Bw(){return new ry("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new gu(t)}static delete(){const t=function d1(){return new Nf("deleteField")}();return t._methodName="FieldValue.delete",new gu(t)}static arrayUnion(...t){const e=function uS(...n){return new yA("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new gu(e)}static arrayRemove(...t){const e=function AA(...n){return new Kr("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new gu(e)}static increment(t){const e=function dS(n){return new Lf("increment",n)}(t);return e._methodName="FieldValue.increment",new gu(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const mS={Firestore:FA,GeoPoint:iy,Timestamp:xn,Blob:ly,Transaction:jw,WriteBatch:NA,DocumentReference:So,DocumentSnapshot:Vm,Query:Qr,QueryDocumentSnapshot:Zd,QuerySnapshot:Bm,CollectionReference:Wd,FieldPath:Gw,FieldValue:gu,setLogLevel:function fS(n){!function VC(n){Oa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function gS(n){(function VA(n,t){n.INTERNAL.registerComponent(new ed.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},mS)))})(n,(t,e)=>new FA(t,e,new PA)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(gl.Z);var We=P(7579),ir=P(6451),ea=P(5363),_u=P(8421);function ti(n,t){return(0,pi.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,In.x)(i,_=>{r?.unsubscribe();let b=0;const D=o++;(0,_u.Xf)(n(_,D)).subscribe(r=(0,In.x)(i,M=>i.next(t?t(_,M,D,b++):M),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var Ll=P(6063);class BA extends We.x{constructor(t=1/0,e=1/0,i=Ll.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}var UA=P(3099);function zw(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,UA.B)({connector:()=>new BA(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const uy=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var yu=P(515);function mn(n){return n<=0?()=>yu.E:(0,pi.e)((t,e)=>{let i=0;t.subscribe((0,In.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function $w(n){return(0,pi.e)((t,e)=>{let i=!1;t.subscribe((0,In.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function qw(n=jA){return(0,pi.e)((t,e)=>{let i=!1;t.subscribe((0,In.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function jA(){return new uy}function za(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Yt((r,o)=>n(r,o,i)):Ir.y,mn(1),e?$w(t):qw(()=>new uy))}var ta=P(576);function dy(n,t){return(0,ta.m)(t)?ti(()=>n,t):ti(()=>n)}var hy=P(9468);P(5867);const qA=new Map,v1={activated:!1,tokenObservers:[]},b1={initialized:!1,enabled:!1};function vr(n){return qA.get(n)||v1}function $a(n,t){qA.set(n,t)}function py(){return b1}class Zw{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ve.Z)(function*(){e.stop();try{e.pending=new jt.BH,yield function Ww(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new jt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const br=new jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hm(n){if(!vr(n).activated)throw br.create("use-before-activation",{appName:n.name})}function DS(n,t){return ES.apply(this,arguments)}function ES(){return ES=(0,ve.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const V=yield u.getHeartbeatsHeader();V&&(o["X-Firebase-Client"]=V)}const h={method:"POST",body:JSON.stringify(t),headers:o};let _,b;try{_=yield fetch(n,h)}catch(V){throw br.create("fetch-network-error",{originalErrorMessage:null===(i=V)||void 0===i?void 0:i.message})}if(200!==_.status)throw br.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(V){throw br.create("fetch-parse-error",{originalErrorMessage:null===(r=V)||void 0===r?void 0:r.message})}const D=b.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw br.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const M=1e3*Number(D[1]),O=Date.now();return{token:b.token,expireTimeMillis:O+M,issuedAtTimeMillis:O}}),ES.apply(this,arguments)}function QA(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const qf="firebase-app-check-store";let jm=null;function IS(){return jm||(jm=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(br.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(qf,{keyPath:"compositeKey"})}}catch(i){t(br.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),jm)}function Gm(){return Gm=(0,ve.Z)(function*(n,t){const i=(yield IS()).transaction(qf,"readwrite"),o=i.objectStore(qf).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=_=>{u()},i.onerror=_=>{var b;h(br.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),Gm.apply(this,arguments)}const my=new Mr.Yd("@firebase/app-check");function AS(n,t){return(0,jt.hl)()?function MS(n,t){return function Jw(n,t){return Gm.apply(this,arguments)}(function tx(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{my.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function ix(){return py().enabled}function rx(){return kS.apply(this,arguments)}function kS(){return kS=(0,ve.Z)(function*(){const n=py();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),kS.apply(this,arguments)}const D1={error:"UNKNOWN_ERROR"};function E1(n){return jt.US.encodeString(JSON.stringify(n),!1)}function n0(n){return RS.apply(this,arguments)}function RS(){return RS=(0,ve.Z)(function*(n,t=!1){const e=n.app;Hm(e);const i=vr(e);let o,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&d(_)&&(r=_)}if(!t&&r&&d(r))return{token:r.token};let h,u=!1;if(ix()){i.exchangeTokenPromise||(i.exchangeTokenPromise=DS(QA(e,yield rx()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield AS(e,_),$a(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?my.warn(_.message):my.error(_),o=_}return r?(h={token:r.token},$a(e,Object.assign(Object.assign({},i),{token:r})),yield AS(e,r)):h=f(o),u&&c(e,h),h}),RS.apply(this,arguments)}function PS(n,t){const e=vr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),$a(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function a(n){const{app:t}=n,e=vr(t);let i=e.tokenRefresher;i||(i=function l(n){const{app:t}=n;return new Zw((0,ve.Z)(function*(){let i;if(i=vr(t).token?yield n0(n,!0):yield n0(n),i.error)throw i.error}),()=>!0,()=>{const e=vr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),$a(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function c(n,t){const e=vr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function d(n){return n.expireTimeMillis-Date.now()>0}function f(n){return{token:E1(D1),error:n}}class m{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=vr(this.app);for(const e of t)PS(this.app,e.next);return Promise.resolve()}}const S1="app-check-internal";!function XV(){(0,go._registerComponent)(new ed.wA("app-check",n=>function v(n,t){return new m(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(S1).initialize()})),(0,go._registerComponent)(new ed.wA(S1,n=>function C(n){return{getToken:t=>n0(n,t),addTokenListener:t=>function OS(n,t,e,i){const{app:r}=n,o=vr(r),u={next:e,error:i,type:t};if($a(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&d(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),a(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>a(n))}(n,"INTERNAL",t),removeTokenListener:t=>PS(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,go.registerVersion)("@firebase/app-check","0.5.12")}();class ax{constructor(){return(0,fi.vb)("app-check")}}typeof window<"u"&&window;var r2=P(127);const M1=new s.OlP("angularfire2.auth.use-emulator"),T1=new s.OlP("angularfire2.auth.settings"),A1=new s.OlP("angularfire2.auth.tenant-id"),x1=new s.OlP("angularfire2.auth.langugage-code"),k1=new s.OlP("angularfire2.auth.use-device-language"),R1=new s.OlP("angularfire.auth.persistence"),O1=(n,t,e,i,r,o,u,h)=>(0,fr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,o&&_.useDeviceLanguage(),u)for(const[b,D]of Object.entries(u))_.settings[b]=D;return h&&_.setPersistence(h),_},[e,i,r,o,u,h]);let P1=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M,O,V){const U=new We.x,J=Le(void 0).pipe((0,ea.Q)(u.outsideAngular),ti(()=>o.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2476)))),(0,Qe.U)(()=>(0,fr.on)(e,o,i)),(0,Qe.U)(le=>O1(le,o,h,b,D,M,_,O)),zw({bufferSize:1,refCount:!1}));if(Ri(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Le(null);else{J.pipe(za()).subscribe();const je=J.pipe(ti(lt=>lt.getRedirectResult().then(Rt=>Rt,()=>null)),fi.iC,zw({bufferSize:1,refCount:!1})),tt=J.pipe(ti(lt=>new Si.y(Rt=>({unsubscribe:o.runOutsideAngular(()=>lt.onAuthStateChanged(Ot=>Rt.next(Ot),Ot=>Rt.error(Ot),()=>Rt.complete()))})))),bt=J.pipe(ti(lt=>new Si.y(Rt=>({unsubscribe:o.runOutsideAngular(()=>lt.onIdTokenChanged(Ot=>Rt.next(Ot),Ot=>Rt.error(Ot),()=>Rt.complete()))}))));this.authState=je.pipe(dy(tt),(0,hy.R)(u.outsideAngular),(0,ea.Q)(u.insideAngular)),this.user=je.pipe(dy(bt),(0,hy.R)(u.outsideAngular),(0,ea.Q)(u.insideAngular)),this.idToken=this.user.pipe(ti(lt=>lt?(0,un.D)(lt.getIdToken()):Le(null))),this.idTokenResult=this.user.pipe(ti(lt=>lt?(0,un.D)(lt.getIdTokenResult()):Le(null))),this.credential=(0,ir.T)(je,U,this.authState.pipe(Yt(lt=>!lt))).pipe((0,Qe.U)(lt=>lt?.user?lt:null),(0,hy.R)(u.outsideAngular),(0,ea.Q)(u.insideAngular))}return(0,fr.pX)(this,J,o,{spy:{apply:(le,je,tt)=>{(le.startsWith("signIn")||le.startsWith("createUser"))&&tt.then(bt=>U.next(bt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fr.Dh),s.LFG(fr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(fi.HU),s.LFG(M1,8),s.LFG(T1,8),s.LFG(A1,8),s.LFG(x1,8),s.LFG(k1,8),s.LFG(R1,8),s.LFG(ax,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function F1(n,t){return function o2(n,t=ds.z){return new Si.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function cx(n,t){return F1(n,t).pipe((0,Qe.U)(e=>({payload:e,type:"query"})))}function BS(n,t){return cx(n,t).pipe(Sn(void 0),mo(),(0,Qe.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(D=>D.doc.ref.isEqual(u.ref)),b=e?.payload.docs.find(D=>D.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function N1(n,t,e){return BS(n,e).pipe(Rs((i,r)=>function l2(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function c2(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return ux(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return ux(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return ux(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Go(),(0,Qe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function ux(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function L1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class V1{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=BS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Qe.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Sn(void 0),mo(),Yt(([i,r])=>r.length>0||!i),(0,Qe.U)(([i,r])=>r),fi.iC)}auditTrail(t){return this.stateChanges(t).pipe(Rs((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=L1(t);return N1(this.query,e,this.afs.schedulers.outsideAngular).pipe(fi.iC)}valueChanges(t={}){return cx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),fi.iC)}get(t){return(0,un.D)(this.query.get(t)).pipe(fi.iC)}add(t){return this.ref.add(t)}doc(t){return new B1(this.ref.doc(t),this.afs)}}class B1{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=j1(i,e);return new V1(r,o,this.afs)}snapshotChanges(){return function a2(n,t){return F1(n,t).pipe(Sn(void 0),mo(),(0,Qe.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fi.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,un.D)(this.ref.get(t)).pipe(fi.iC)}}class u2{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?BS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Yt(e=>e.length>0),fi.iC):BS(this.query,this.afs.schedulers.outsideAngular).pipe(fi.iC)}auditTrail(t){return this.stateChanges(t).pipe(Rs((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=L1(t);return N1(this.query,e,this.afs.schedulers.outsideAngular).pipe(fi.iC)}valueChanges(t={}){return cx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),fi.iC)}get(t){return(0,un.D)(this.query.get(t)).pipe(fi.iC)}}const U1=new s.OlP("angularfire2.enableFirestorePersistence"),H1=new s.OlP("angularfire2.firestore.persistenceSettings"),d2=new s.OlP("angularfire2.firestore.settings"),h2=new s.OlP("angularfire2.firestore.use-emulator");function j1(n,t=(e=>e)){return{query:t(n),ref:n}}let G1=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M,O,V,U,J,le,je,tt){this.schedulers=_;const bt=(0,fr.on)(e,h,i),lt=D;M&&O1(bt,h,O,U,J,le,V,je),[this.firestore,this.persistenceEnabled$]=(0,fr.cc)(`${bt.name}.firestore`,"AngularFirestore",bt.name,()=>{const Rt=h.runOutsideAngular(()=>bt.firestore());if(o&&Rt.settings(o),lt&&Rt.useEmulator(...lt),r&&!Ri(u)){const Ot=()=>{try{return(0,un.D)(Rt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(dn){return typeof console<"u"&&console.warn(dn),Le(!1)}};return[Rt,h.runOutsideAngular(Ot)]}return[Rt,Le(!1)]},[o,lt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=j1(r,i),h=this.schedulers.ngZone.run(()=>o);return new V1(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new u2(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new B1(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fr.Dh),s.LFG(fr.xv,8),s.LFG(U1,8),s.LFG(d2,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(fi.HU),s.LFG(H1,8),s.LFG(h2,8),s.LFG(P1,8),s.LFG(M1,8),s.LFG(T1,8),s.LFG(A1,8),s.LFG(x1,8),s.LFG(k1,8),s.LFG(R1,8),s.LFG(ax,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),f2=(()=>{class n{constructor(){r2.Z.registerVersion("angularfire",fi.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:U1,useValue:!0},{provide:H1,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[G1]}),n})();class _s extends We.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:p2}=Array,{getPrototypeOf:m2,prototype:g2,keys:_2}=Object;function z1(n){if(1===n.length){const t=n[0];if(p2(t))return{args:t,keys:null};if(function y2(n){return n&&"object"==typeof n&&m2(n)===g2}(t)){const e=_2(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:v2}=Array;function dx(n){return(0,Qe.U)(t=>function b2(n,t){return v2(t)?n(...t):n(t)}(n,t))}function $1(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var w2=P(9672);function yy(...n){const t=(0,hi.yG)(n),e=(0,hi.jO)(n),{args:i,keys:r}=z1(n);if(0===i.length)return(0,un.D)([],t);const o=new Si.y(function C2(n,t,e=Ir.y){return i=>{q1(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)q1(t,()=>{const b=(0,un.D)(n[_],t);let D=!1;b.subscribe((0,In.x)(i,M=>{o[_]=M,D||(D=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>$1(r,u):Ir.y));return e?o.pipe(dx(e)):o}function q1(n,t,e){n?(0,w2.f)(e,n,t):t()}function o0(n){return new Si.y(t=>{(0,_u.Xf)(n()).subscribe(t)})}var D2=P(9635);function vy(n,t){const e=(0,ta.m)(n)?n:()=>n,i=r=>r.error(e());return new Si.y(t?r=>t.schedule(i,0,r):i)}var vi=P(727);function hx(){return(0,pi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,In.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class fx extends Si.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,pi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new vi.w0;const e=this.getSubject();t.add(this.source.subscribe((0,In.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=vi.w0.EMPTY)}return t}refCount(){return hx()(this)}}var Xr=P(5577);function Yf(n,t){return(0,ta.m)(t)?(0,Xr.z)(n,t,1):(0,Xr.z)(n,1)}var rr=P(8505);function Kd(n){return(0,pi.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,In.x)(e,void 0,void 0,u=>{o=(0,_u.Xf)(n(u,Kd(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function px(n){return n<=0?()=>yu.E:(0,pi.e)((t,e)=>{let i=[];t.subscribe((0,In.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Y1(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Yt((r,o)=>n(r,o,i)):Ir.y,px(1),e?$w(t):qw(()=>new uy))}function Z1(n,t=!1){return(0,pi.e)((e,i)=>{let r=0;e.subscribe((0,In.x)(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}function US(n){return(0,Qe.U)(()=>n)}function HS(n){return(0,pi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Wt="primary",a0=Symbol("RouteTitle");class E2{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function by(n){return new E2(n)}function S2(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function wu(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!W1(n[r],t[r]))return!1;return!0}function W1(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function K1(n){return Array.prototype.concat.apply([],n)}function Q1(n){return n.length>0?n[n.length-1]:null}function Jr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Zf(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,un.D)(Promise.resolve(n)):Le(n)}const T2={exact:function eO(n,t,e){if(!qm(n.segments,t.segments)||!jS(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!eO(n.children[i],t.children[i],e))return!1;return!0},subset:tO},X1={exact:function A2(n,t){return wu(n,t)},subset:function x2(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>W1(n[e],t[e]))},ignored:()=>!0};function J1(n,t,e){return T2[e.paths](n.root,t.root,e.matrixParams)&&X1[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function tO(n,t,e){return nO(n,t,t.segments,e)}function nO(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!qm(r,e)||t.hasChildren()||!jS(r,e,i))}if(n.segments.length===e.length){if(!qm(n.segments,e)||!jS(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!tO(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(qm(n.segments,r)&&jS(n.segments,r,i)&&n.children[Wt])&&nO(n.children[Wt],t,o,i)}}function jS(n,t,e){return t.every((i,r)=>X1[e](n[r].parameters,i.parameters))}class $m{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=by(this.queryParams)),this._queryParamMap}toString(){return O2.serialize(this)}}class Jt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Jr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return GS(this)}}class l0{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=by(this.parameters)),this._parameterMap}toString(){return oO(this)}}function qm(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let iO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new gx},providedIn:"root"}),n})();class gx{parse(t){const e=new j2(t);return new $m(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${c0(t.root,!0)}`,i=function N2(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${zS(e)}=${zS(r)}`).join("&"):`${zS(e)}=${zS(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function P2(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const O2=new gx;function GS(n){return n.segments.map(t=>oO(t)).join("/")}function c0(n,t){if(!n.hasChildren())return GS(n);if(t){const e=n.children[Wt]?c0(n.children[Wt],!1):"",i=[];return Jr(n.children,(r,o)=>{o!==Wt&&i.push(`${o}:${c0(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function R2(n,t){let e=[];return Jr(n.children,(i,r)=>{r===Wt&&(e=e.concat(t(i,r)))}),Jr(n.children,(i,r)=>{r!==Wt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Wt?[c0(n.children[Wt],!1)]:[`${r}:${c0(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${GS(n)}/${e[0]}`:`${GS(n)}/(${e.join("//")})`}}function rO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zS(n){return rO(n).replace(/%3B/gi,";")}function _x(n){return rO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $S(n){return decodeURIComponent(n)}function sO(n){return $S(n.replace(/\+/g,"%20"))}function oO(n){return`${_x(n.path)}${function F2(n){return Object.keys(n).map(t=>`;${_x(t)}=${_x(n[t])}`).join("")}(n.parameters)}`}const L2=/^[^\/()?;=#]+/;function qS(n){const t=n.match(L2);return t?t[0]:""}const V2=/^[^=?&#]+/,U2=/^[^&#]+/;class j2{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Wt]=new Jt(t,e)),i}parseSegment(){const t=qS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new l0($S(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qS(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=qS(this.remaining);r&&(i=r,this.capture(i))}t[$S(e)]=$S(i)}parseQueryParam(t){const e=function B2(n){const t=n.match(V2);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function H2(n){const t=n.match(U2);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=sO(e),o=sO(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=qS(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Wt);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[Wt]:new Jt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function yx(n){return n.segments.length>0?new Jt([],{[Wt]:n}):n}function YS(n){const t={};for(const i of Object.keys(n.children)){const o=YS(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function G2(n){if(1===n.numberOfChildren&&n.children[Wt]){const t=n.children[Wt];return new Jt(n.segments.concat(t.segments),t.children)}return n}(new Jt(n.segments,t))}function Ym(n){return n instanceof $m}function q2(n,t,e,i,r){if(0===e.length)return wy(t.root,t.root,t.root,i,r);const o=function cO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lO(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Jr(o.outlets,(_,b)=>{h[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new lO(e,t,i)}(e);return o.toRoot()?wy(t.root,t.root,new Jt([],{}),i,r):function u(_){const b=function Z2(n,t,e,i){if(n.isAbsolute)return new Cy(t.root,!0,0);if(-1===i)return new Cy(e,e===t.root,0);return function uO(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new Cy(i,!1,r-o)}(e,i+(u0(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,_),D=b.processChildren?h0(b.segmentGroup,b.index,o.commands):bx(b.segmentGroup,b.index,o.commands);return wy(t.root,b.segmentGroup,D,i,r)}(n.snapshot?._lastPathIndex)}function u0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function d0(n){return"object"==typeof n&&null!=n&&n.outlets}function wy(n,t,e,i,r){let u,o={};i&&Jr(i,(_,b)=>{o[b]=Array.isArray(_)?_.map(D=>`${D}`):`${_}`}),u=n===t?e:aO(n,t,e);const h=yx(YS(u));return new $m(h,o,r)}function aO(n,t,e){const i={};return Jr(n.children,(r,o)=>{i[o]=r===t?e:aO(r,t,e)}),new Jt(n.segments,i)}class lO{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&u0(i[0]))throw new s.vHH(4003,!1);const r=i.find(d0);if(r&&r!==Q1(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cy{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function bx(n,t,e){if(n||(n=new Jt([],{})),0===n.segments.length&&n.hasChildren())return h0(n,t,e);const i=function K2(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(d0(h))break;const _=`${h}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!hO(_,b,u))return o;i+=2}else{if(!hO(_,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Jt(n.segments.slice(0,i.pathIndex),{});return o.children[Wt]=new Jt(n.segments.slice(i.pathIndex),n.children),h0(o,0,r)}return i.match&&0===r.length?new Jt(n.segments,{}):i.match&&!n.hasChildren()?wx(n,t,e):i.match?h0(n,0,r):wx(n,t,e)}function h0(n,t,e){if(0===e.length)return new Jt(n.segments,{});{const i=function W2(n){return d0(n[0])?n[0].outlets:{[Wt]:n}}(e),r={};return Jr(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=bx(n.children[u],t,o))}),Jr(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new Jt(n.segments,r)}}function wx(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(d0(o)){const _=Q2(o.outlets);return new Jt(i,_)}if(0===r&&u0(e[0])){i.push(new l0(n.segments[t].path,dO(e[0]))),r++;continue}const u=d0(o)?o.outlets[Wt]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&u0(h)?(i.push(new l0(u,dO(h))),r+=2):(i.push(new l0(u,{})),r++)}return new Jt(i,{})}function Q2(n){const t={};return Jr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=wx(new Jt([],{}),0,e))}),t}function dO(n){const t={};return Jr(n,(e,i)=>t[i]=`${e}`),t}function hO(n,t,e){return n==e.path&&wu(t,e.parameters)}class Qd{constructor(t,e){this.id=t,this.url=e}}class Cx extends Qd{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zm extends Qd{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ZS extends Qd{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fO extends Qd{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class X2 extends Qd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J2 extends Qd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eB extends Qd{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tB extends Qd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nB extends Qd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iB{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rB{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sB{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oB{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aB{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lB{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pO{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Dx(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Dx(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ex(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ex(t,this._root).map(e=>e.value)}}function Dx(n,t){if(n===t.value)return t;for(const e of t.children){const i=Dx(n,e);if(i)return i}return null}function Ex(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ex(n,e);if(i.length)return i.unshift(t),i}return[]}class Xd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Dy(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class gO extends mO{constructor(t,e){super(t),this.snapshot=e,Sx(this,t)}toString(){return this.snapshot.toString()}}function _O(n,t){const e=function uB(n,t){const u=new WS([],{},{},"",{},Wt,t,null,n.root,-1,{});return new vO("",new Xd(u,[]))}(n,t),i=new _s([new l0("",{})]),r=new _s({}),o=new _s({}),u=new _s({}),h=new _s(""),_=new Jd(i,r,u,h,o,Wt,t,e.root);return _.snapshot=e.root,new gO(new Xd(_,[]),e)}class Jd{constructor(t,e,i,r,o,u,h,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,Qe.U)(b=>b[a0]))??Le(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(t=>by(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(t=>by(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yO(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function dB(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class WS{constructor(t,e,i,r,o,u,h,_,b,D,M,O){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.[a0],this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=D,this._correctedLastPathIndex=O??D,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=by(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=by(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vO extends mO{constructor(t,e){super(e),this.url=t,Sx(this,e)}toString(){return bO(this._root)}}function Sx(n,t){t.value._routerState=n,t.children.forEach(e=>Sx(n,e))}function bO(n){const t=n.children.length>0?` { ${n.children.map(bO).join(", ")} } `:"";return`${n.value}${t}`}function Ix(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,wu(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),wu(t.params,e.params)||n.params.next(e.params),function I2(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!wu(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),wu(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mx(n,t){const e=wu(n.params,t.params)&&function k2(n,t){return qm(n,t)&&n.every((e,i)=>wu(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Mx(n.parent,t.parent))}function f0(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function fB(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return f0(n,i,r);return f0(n,i)})}(n,t,e);return new Xd(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>f0(n,h)),u}}const i=function pB(n){return new Jd(new _s(n.url),new _s(n.params),new _s(n.queryParams),new _s(n.fragment),new _s(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>f0(n,o));return new Xd(i,r)}}const Tx="ngNavigationCancelingError";function wO(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ym(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=CO(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function CO(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Tx]=!0,i.cancellationCode=t,e&&(i.url=e),i}function DO(n){return EO(n)&&Ym(n.url)}function EO(n){return n&&n[Tx]}class mB{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new p0,this.attachRef=null}}let p0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new mB,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KS=!1;let QS=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||Wt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,KS);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,KS);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,KS);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,KS);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new gB(e,h,r.injector);if(i&&function _B(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(u);this.activated=r.createComponent(b,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(p0),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class gB{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Jd?this.route:t===p0?this.childContexts:this.parent.get(t,e)}}let Ax=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[QS],encapsulation:2}),n})();function SO(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function kx(n){const t=n.children&&n.children.map(kx),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Wt&&(e.component=Ax),e}function qa(n){return n.outlet||Wt}function IO(n,t){const e=n.filter(i=>qa(i)===t);return e.push(...n.filter(i=>qa(i)!==t)),e}function m0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class CB{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Ix(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Dy(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),Jr(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Dy(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Dy(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Dy(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new lB(o.value.snapshot))}),t.children.length&&this.forwardEvent(new oB(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Ix(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Ix(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=m0(r.snapshot),_=h?.get(s._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class MO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class XS{constructor(t,e){this.component=t,this.route=e}}function DB(n,t,e){const i=n._root;return g0(i,t?t._root:null,e,[i.value])}function Ey(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function g0(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Dy(t);return n.children.forEach(u=>{(function SB(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const _=function IB(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!qm(n.url,t.url);case"pathParamsOrQueryParamsChange":return!qm(n.url,t.url)||!wu(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mx(n,t)||!wu(n.queryParams,t.queryParams);default:return!Mx(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new MO(i)):(o.data=u.data,o._resolvedData=u._resolvedData),g0(n,t,o.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new XS(h.outlet.component,u))}else u&&_0(t,h,r),r.canActivateChecks.push(new MO(i)),g0(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),Jr(o,(u,h)=>_0(u,e.getContext(h),r)),r}function _0(n,t,e){const i=Dy(n),r=n.value;Jr(i,(o,u)=>{_0(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new XS(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function y0(n){return"function"==typeof n}function Rx(n){return n instanceof uy||"EmptyError"===n?.name}const JS=Symbol("INITIAL_VALUE");function Sy(){return ti(n=>yy(n.map(t=>t.pipe(mn(1),Sn(JS)))).pipe((0,Qe.U)(t=>{for(const e of t)if(!0!==e){if(e===JS)return JS;if(!1===e||e instanceof $m)return e}return!0}),Yt(t=>t!==JS),mn(1)))}function TO(n){return(0,D2.z)((0,rr.b)(t=>{if(Ym(t))throw wO(0,t)}),(0,Qe.U)(t=>!0===t))}const Ox={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AO(n,t,e,i,r){const o=Px(n,t,e);return o.matched?function GB(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Le(r.map(u=>{const h=Ey(u,n);return Zf(function RB(n){return n&&y0(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(Sy(),TO()):Le(!0)}(i=SO(t,i),t,e).pipe((0,Qe.U)(u=>!0===u?o:{...Ox})):Le(o)}function Px(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Ox}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||S2)(e,n,t);if(!r)return{...Ox};const o={};Jr(r.posParams,(h,_)=>{o[_]=h.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function eI(n,t,e,i,r="corrected"){if(e.length>0&&function qB(n,t,e){return e.some(i=>tI(n,t,i)&&qa(i)!==Wt)}(n,e,i)){const u=new Jt(t,function $B(n,t,e,i){const r={};r[Wt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&qa(o)!==Wt){const u=new Jt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[qa(o)]=u}return r}(n,t,i,new Jt(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function YB(n,t,e){return e.some(i=>tI(n,t,i))}(n,e,i)){const u=new Jt(n.segments,function zB(n,t,e,i,r,o){const u={};for(const h of i)if(tI(n,e,h)&&!r[qa(h)]){const _=new Jt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[qa(h)]=_}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new Jt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function tI(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function xO(n,t,e,i){return!!(qa(n)===i||i!==Wt&&tI(t,e,n))&&("**"===n.path||Px(t,n,e).matched)}function kO(n,t,e){return 0===t.length&&!n.children[e]}const nI=!1;class iI{constructor(t){this.segmentGroup=t||null}}class RO{constructor(t){this.urlTree=t}}function v0(n){return vy(new iI(n))}function OO(n){return vy(new RO(n))}class QB{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=eI(this.urlTree.root,[],[],this.config).segmentGroup,e=new Jt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Wt).pipe((0,Qe.U)(o=>this.createUrlTree(YS(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Kd(o=>{if(o instanceof RO)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof iI?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Wt).pipe((0,Qe.U)(r=>this.createUrlTree(YS(r),t.queryParams,t.fragment))).pipe(Kd(r=>{throw r instanceof iI?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,nI)}createUrlTree(t,e,i){const r=yx(t);return new $m(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Qe.U)(o=>new Jt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,un.D)(r).pipe(Yf(o=>{const u=i.children[o],h=IO(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,Qe.U)(_=>({segment:_,outlet:o})))}),Rs((o,u)=>(o[u.outlet]=u.segment,o),{}),Y1())}expandSegment(t,e,i,r,o,u){return(0,un.D)(i).pipe(Yf(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(Kd(b=>{if(b instanceof iI)return Le(null);throw b}))),za(h=>!!h),Kd((h,_)=>{if(Rx(h))return kO(e,r,o)?Le(new Jt([],{})):v0(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return xO(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):v0(e):v0(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?OO(o):this.lineralizeSegments(i,o).pipe((0,Xr.z)(u=>{const h=new Jt(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:_,remainingSegments:b,positionalParamSegments:D}=Px(e,r,o);if(!h)return v0(e);const M=this.applyRedirectCommands(_,r.redirectTo,D);return r.redirectTo.startsWith("/")?OO(M):this.lineralizeSegments(r,M).pipe((0,Xr.z)(O=>this.expandSegment(t,e,i,O.concat(b),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=SO(i,t),i.loadChildren?(i._loadedRoutes?Le({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Qe.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Jt(r,{})))):Le(new Jt(r,{}))):AO(e,i,r,t).pipe(ti(({matched:u,consumedSegments:h,remainingSegments:_})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Xr.z)(D=>{const M=D.injector??t,O=D.routes,{segmentGroup:V,slicedSegments:U}=eI(e,h,_,O),J=new Jt(V.segments,V.children);if(0===U.length&&J.hasChildren())return this.expandChildren(M,O,J).pipe((0,Qe.U)(bt=>new Jt(h,bt)));if(0===O.length&&0===U.length)return Le(new Jt(h,{}));const le=qa(i)===o;return this.expandSegment(M,J,O,U,le?Wt:o,!0).pipe((0,Qe.U)(tt=>new Jt(h.concat(tt.segments),tt.children)))})):v0(e)))}getChildConfig(t,e,i){return e.children?Le({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Le({routes:e._loadedRoutes,injector:e._loadedInjector}):function jB(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Le(!0):Le(r.map(u=>{const h=Ey(u,n);return Zf(function TB(n){return n&&y0(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(Sy(),TO())}(t,e,i).pipe((0,Xr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,rr.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function WB(n){return vy(CO(nI,3))}())):Le({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Le(i);if(r.numberOfChildren>1||!r.children[Wt])return vy(new s.vHH(4e3,nI));r=r.children[Wt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new $m(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Jr(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return Jr(e.children,(h,_)=>{u[_]=this.createSegmentGroup(t,h,i,r)}),new Jt(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,nI);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class JB{}class nU{constructor(t,e,i,r,o,u,h,_){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=_}recognize(){const t=eI(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Wt).pipe((0,Qe.U)(e=>{if(null===e)return null;const i=new WS([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Xd(i,e),o=new vO(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=yO(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,un.D)(Object.keys(i.children)).pipe(Yf(r=>{const o=i.children[r],u=IO(e,r);return this.processSegmentGroup(t,u,o,r)}),Rs((r,o)=>r&&o?(r.push(...o),r):null),Z1(r=>null!==r),$w(null),Y1(),(0,Qe.U)(r=>{if(null===r)return null;const o=PO(r);return function iU(n){n.sort((t,e)=>t.value.outlet===Wt?-1:e.value.outlet===Wt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,un.D)(e).pipe(Yf(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,o)),za(u=>!!u),Kd(u=>{if(Rx(u))return kO(i,r,o)?Le([]):Le(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!xO(e,i,r,o))return Le(null);let u;if("**"===e.path){const h=r.length>0?Q1(r).parameters:{},_=NO(i)+r.length;u=Le({snapshot:new WS(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VO(e),qa(e),e.component??e._loadedComponent??null,e,FO(i),_,BO(e),_),consumedSegments:[],remainingSegments:[]})}else u=AO(i,e,r,t).pipe((0,Qe.U)(({matched:h,consumedSegments:_,remainingSegments:b,parameters:D})=>{if(!h)return null;const M=NO(i)+_.length;return{snapshot:new WS(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VO(e),qa(e),e.component??e._loadedComponent??null,e,FO(i),M,BO(e),M),consumedSegments:_,remainingSegments:b}}));return u.pipe(ti(h=>{if(null===h)return Le(null);const{snapshot:_,consumedSegments:b,remainingSegments:D}=h;t=e._injector??t;const M=e._loadedInjector??t,O=function rU(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:V,slicedSegments:U}=eI(i,b,D,O.filter(le=>void 0===le.redirectTo),this.relativeLinkResolution);if(0===U.length&&V.hasChildren())return this.processChildren(M,O,V).pipe((0,Qe.U)(le=>null===le?null:[new Xd(_,le)]));if(0===O.length&&0===U.length)return Le([new Xd(_,[])]);const J=qa(e)===o;return this.processSegment(M,O,V,U,J?Wt:o).pipe((0,Qe.U)(le=>null===le?null:[new Xd(_,le)]))}))}}function sU(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function PO(n){const t=[],e=new Set;for(const i of n){if(!sU(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=PO(i.children);t.push(new Xd(i.value,r))}return t.filter(i=>!e.has(i))}function FO(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function NO(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function VO(n){return n.data||{}}function BO(n){return n.resolve||{}}function UO(n){return"string"==typeof n.title||null===n.title}function Fx(n){return ti(t=>{const e=n(t);return e?(0,un.D)(e).pipe((0,Qe.U)(()=>t)):Le(t)})}let HO=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Wt);return i}getResolvedTitleForRoute(e){return e.data[a0]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(jO)},providedIn:"root"}),n})(),jO=(()=>{class n extends HO{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fU{}class mU extends class pU{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const sI=new s.OlP("",{providedIn:"root",factory:()=>({})}),Nx=new s.OlP("ROUTES");let Lx=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Le(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Zf(e.loadComponent()).pipe((0,rr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),HS(()=>{this.componentLoaders.delete(e)})),r=new fx(i,()=>new We.x).pipe(hx());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Le({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Qe.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b,D=!1;Array.isArray(h)?b=h:(_=h.create(e).injector,b=K1(_.get(Nx,[],s.XFs.Self|s.XFs.Optional)));return{routes:b.map(kx),injector:_}}),HS(()=>{this.childrenLoaders.delete(i)})),u=new fx(o,()=>new We.x).pipe(hx());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return Zf(e()).pipe((0,Xr.z)(i=>i instanceof s.YKP||Array.isArray(i)?Le(i):(0,un.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _U{}class yU{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vU(n){throw n}function bU(n,t,e){return t.parse("/")}const wU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function zO(){const n=(0,s.f3M)(iO),t=(0,s.f3M)(p0),e=(0,s.f3M)(Te),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(Nx,{optional:!0})??[],u=(0,s.f3M)(sI,{optional:!0})??{},h=(0,s.f3M)(jO),_=(0,s.f3M)(HO,{optional:!0}),b=(0,s.f3M)(_U,{optional:!0}),D=(0,s.f3M)(fU,{optional:!0}),M=new es(null,n,t,e,i,r,K1(o));return b&&(M.urlHandlingStrategy=b),D&&(M.routeReuseStrategy=D),M.titleStrategy=_??h,function DU(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,M),M}let es=(()=>{class n{constructor(e,i,r,o,u,h,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new We.x,this.errorHandler=vU,this.malformedUriErrorHandler=bU,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Le(void 0),this.urlHandlingStrategy=new yU,this.routeReuseStrategy=new mU,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Lx),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new rB(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new iB(O)),this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const M=u.get(s.R0b);this.isNgZoneEnabled=M instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function M2(){return new $m(new Jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_O(this.currentUrlTree,this.rootComponentType),this.transitions=new _s({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Yt(r=>0!==r.id),(0,Qe.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ti(r=>{let o=!1,u=!1;return Le(r).pipe((0,rr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ti(h=>{const _=this.browserUrlTree.toString(),b=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return $O(h.source)&&(this.browserUrlTree=h.extractedUrl),Le(h).pipe(ti(M=>{const O=this.transitions.getValue();return i.next(new Cx(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),O!==this.transitions.getValue()?yu.E:Promise.resolve(M)}),function XB(n,t,e,i){return ti(r=>function KB(n,t,e,i,r){return new QB(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Qe.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,rr.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},r.urlAfterRedirects=M.urlAfterRedirects}),function aU(n,t,e,i,r,o){return(0,Xr.z)(u=>function tU(n,t,e,i,r,o,u="emptyOnly",h="legacy"){return new nU(n,t,e,i,r,u,h,o).recognize().pipe(ti(_=>null===_?function eU(n){return new Si.y(t=>t.error(n))}(new JB):Le(_)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,o).pipe((0,Qe.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,rr.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(V,M)}this.browserUrlTree=M.urlAfterRedirects}const O=new X2(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(O)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:V,source:U,restoredState:J,extras:le}=h,je=new Cx(O,this.serializeUrl(V),U,J);i.next(je);const tt=_O(V,this.rootComponentType).snapshot;return Le(r={...h,targetSnapshot:tt,urlAfterRedirects:V,extras:{...le,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),yu.E}),(0,rr.b)(h=>{const _=new J2(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,Qe.U)(h=>r={...h,guards:DB(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function PB(n,t){return(0,Xr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?Le({...e,guardsResult:!0}):function FB(n,t,e,i){return(0,un.D)(n).pipe((0,Xr.z)(r=>function HB(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Le(o.map(h=>{const _=m0(t)??r,b=Ey(h,_);return Zf(function kB(n){return n&&y0(n.canDeactivate)}(b)?b.canDeactivate(n,t,e,i):_.runInContext(()=>b(n,t,e,i))).pipe(za())})).pipe(Sy()):Le(!0)}(r.component,r.route,e,t,i)),za(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Xr.z)(h=>h&&function MB(n){return"boolean"==typeof n}(h)?function NB(n,t,e,i){return(0,un.D)(t).pipe(Yf(r=>po(function VB(n,t){return null!==n&&t&&t(new sB(n)),Le(!0)}(r.route.parent,i),function LB(n,t){return null!==n&&t&&t(new aB(n)),Le(!0)}(r.route,i),function UB(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function EB(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>o0(()=>Le(u.guards.map(_=>{const b=m0(u.node)??e,D=Ey(_,b);return Zf(function xB(n){return n&&y0(n.canActivateChild)}(D)?D.canActivateChild(i,n):b.runInContext(()=>D(i,n))).pipe(za())})).pipe(Sy())));return Le(o).pipe(Sy())}(n,r.path,e),function BB(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Le(!0);const r=i.map(o=>o0(()=>{const u=m0(t)??e,h=Ey(o,u);return Zf(function AB(n){return n&&y0(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(za())}));return Le(r).pipe(Sy())}(n,r.route,e))),za(r=>!0!==r,!0))}(i,o,n,t):Le(h)),(0,Qe.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,rr.b)(h=>{if(r.guardsResult=h.guardsResult,Ym(h.guardsResult))throw wO(0,h.guardsResult);const _=new eB(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),Yt(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Fx(h=>{if(h.guards.canActivateChecks.length)return Le(h).pipe((0,rr.b)(_=>{const b=new tB(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),ti(_=>{let b=!1;return Le(_).pipe(function lU(n,t){return(0,Xr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Le(e);let o=0;return(0,un.D)(r).pipe(Yf(u=>function cU(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!UO(r)&&(o[a0]=r.title),function uU(n,t,e,i){const r=function dU(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Le({});const o={};return(0,un.D)(r).pipe((0,Xr.z)(u=>function hU(n,t,e,i){const r=m0(t)??i,o=Ey(n,r);return Zf(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[u],t,e,i).pipe(za(),(0,rr.b)(h=>{o[u]=h}))),px(1),US(o),Kd(u=>Rx(u)?yu.E:vy(u)))}(o,n,t,i).pipe((0,Qe.U)(u=>(n._resolvedData=u,n.data=yO(n,e).resolve,r&&UO(r)&&(n.data[a0]=r.title),null)))}(u.route,i,n,t)),(0,rr.b)(()=>o++),px(1),(0,Xr.z)(u=>o===r.length?Le(e):yu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,rr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,rr.b)(_=>{const b=new nB(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),Fx(h=>{const _=b=>{const D=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,rr.b)(M=>{b.component=M}),(0,Qe.U)(()=>{})));for(const M of b.children)D.push(..._(M));return D};return yy(_(h.targetSnapshot.root)).pipe($w(),mn(1))}),Fx(()=>this.afterPreactivation()),(0,Qe.U)(h=>{const _=function hB(n,t,e){const i=f0(n,t._root,e?e._root:void 0);return new gO(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:_}}),(0,rr.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,Qe.U)(i=>(new CB(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,rr.b)({next(){o=!0},complete(){o=!0}}),HS(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Kd(h=>{if(u=!0,EO(h)){DO(h)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new ZS(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(_),DO(h)){const b=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$O(r.source)};this.scheduleNavigation(b,"imperative",null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new fO(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(h))}catch(b){r.reject(b)}}return yu.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(kx),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,b=r||this.routerState.root,D=_?this.currentUrlTree.fragment:u;let M=null;switch(h){case"merge":M={...this.currentUrlTree.queryParams,...o};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=o||null}return null!==M&&(M=this.removeEmptyProps(M)),q2(b,this.currentUrlTree,e,M,D??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ym(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function EU(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...wU}:!1===i?{...CU}:i,Ym(e))return J1(this.currentUrlTree,e,r);const o=this.parseUrl(e);return J1(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Zm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,_,b;u?(h=u.resolve,_=u.reject,b=u.promise):b=new Promise((O,V)=>{h=O,_=V});const D=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),M=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:D,targetPageId:M,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:h,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(O=>Promise.reject(O))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new ZS(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return zO()},providedIn:"root"}),n})();function $O(n){return"imperative"!==n}let Vx=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new We.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(Jd),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),aI=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new We.x,this.subscription=e.events.subscribe(o=>{o instanceof Zm&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){return!!(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(Jd),s.Y36(ye))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),qO=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(_=>{_ instanceof Zm&&this.update()})}ngAfterContentInit(){Le(this.links.changes,this.linksWithHrefs.changes,Le(null)).pipe((0,hs.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,un.D)(e).pipe((0,hs.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function SU(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(Vx,8),s.Y36(aI,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Vx,5),s.Suo(r,aI,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.TTD]}),n})();class YO{}let IU=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Yt(e=>e instanceof Zm),Yf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,un.D)(r).pipe((0,hs.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Le(null);const o=r.pipe((0,Xr.z)(u=>null===u?Le(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,un.D)([o,u]).pipe((0,hs.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(es),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(YO),s.LFG(Lx))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bx=new s.OlP("");let ZO=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Cx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Zm&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pO&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new pO(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Iy(n,t){return{\u0275kind:n,\u0275providers:t}}function Ux(n){return[{provide:Nx,multi:!0,useValue:n}]}function KO(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(es),r=n.get(QO);1===n.get(Hx)&&i.initialNavigation(),n.get(XO,null,s.XFs.Optional)?.setUpPreloading(),n.get(Bx,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const QO=new s.OlP("",{factory:()=>new We.x}),Hx=new s.OlP("",{providedIn:"root",factory:()=>1});const XO=new s.OlP("");function xU(n){return Iy(0,[{provide:XO,useExisting:IU},{provide:YO,useExisting:n}])}const JO=new s.OlP("ROUTER_FORROOT_GUARD"),kU=[Te,{provide:iO,useClass:gx},{provide:es,useFactory:zO},p0,{provide:Jd,useFactory:function WO(n){return n.routerState.root},deps:[es]},Lx];function RU(){return new s.PXZ("Router",es)}let eP=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[kU,[],Ux(e),{provide:JO,useFactory:NU,deps:[[es,new s.FiY,new s.tp0]]},{provide:sI,useValue:i||{}},i?.useHash?{provide:ye,useClass:at}:{provide:ye,useClass:Je},{provide:Bx,useFactory:()=>{const n=(0,s.f3M)(es),t=(0,s.f3M)(Yl),e=(0,s.f3M)(sI);return e.scrollOffset&&t.setOffset(e.scrollOffset),new ZO(n,t,e)}},i?.preloadingStrategy?xU(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:RU},i?.initialNavigation?LU(i):[],[{provide:tP,useFactory:KO},{provide:s.tb,multi:!0,useExisting:tP}]]}}static forChild(e){return{ngModule:n,providers:[Ux(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(JO,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ax]}),n})();function NU(n){return"guarded"}function LU(n){return["disabled"===n.initialNavigation?Iy(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(es);return()=>{t.setUpLocationChangeListener()}}},{provide:Hx,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Iy(2,[{provide:Hx,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(j,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(o=>{const u=t.get(es),h=t.get(QO);(function r(o){t.get(es).events.pipe(Yt(h=>h instanceof Zm||h instanceof ZS||h instanceof fO),(0,Qe.U)(h=>h instanceof Zm||h instanceof ZS&&(0===h.code||1===h.code)&&null),Yt(h=>null!==h),mn(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),u.afterPreactivation=()=>(o(!0),i||h.closed?Le(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const tP=new s.OlP("");let jx;try{jx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jx=!1}let My,Hi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Fu(n){return n===Is}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function iP(){if(My)return My;if("object"!=typeof document||!document)return My=new Set(nP),My;let n=document.createElement("input");return My=new Set(nP.filter(t=>(n.setAttribute("type",t),n.type===t))),My}let b0,uI,Wm,Gx;function Ty(n){return function BU(){if(null==b0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>b0=!0}))}finally{b0=b0||!1}return b0}()?n:!!n.capture}function rP(){if(null==Wm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Wm=!1,Wm;if("scrollBehavior"in document.documentElement.style)Wm=!0;else{const n=Element.prototype.scrollTo;Wm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Wm}function w0(){if("object"!=typeof document||!document)return 0;if(null==uI){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),uI=0,0===n.scrollLeft&&(n.scrollLeft=1,uI=0===n.scrollLeft?1:2),n.remove()}return uI}function C0(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Km(n){return n.composedPath?n.composedPath()[0]:n.target}function zx(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ws(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function mI(n,t=ds.z){return(0,pi.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const b=o;o=null,i.next(b)}};function _(){const b=u+n,D=t.now();if(D<b)return r=this.schedule(void 0,b-D),void i.add(r);h()}e.subscribe((0,In.x)(i,b=>{o=b,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function sP(n){return Yt((t,e)=>n<=e)}var oP=P(5032);function Bt(n){return(0,pi.e)((t,e)=>{(0,_u.Xf)(n).subscribe((0,In.x)(e,()=>e.complete(),oP.Z)),!e.closed&&t.subscribe(e)})}function St(n){return null!=n&&"false"!=`${n}`}function Ks(n,t=0){return aP(n)?Number(n):t}function aP(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function gI(n){return Array.isArray(n)?n:[n]}function sr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function eh(n){return n instanceof s.SBq?n.nativeElement:n}let lP=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XU=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=eh(e);return new Si.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new We.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JU=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=St(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ks(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(mI(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(XU),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),cP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[lP]}),n})(),uP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const dP=new Set;let Ay,eH=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nH}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function tH(n){if(!dP.has(n))try{Ay||(Ay=document.createElement("style"),Ay.setAttribute("type","text/css"),document.head.appendChild(Ay)),Ay.sheet&&(Ay.sheet.insertRule(`@media ${n} {body{ }}`,0),dP.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nH(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let D0=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new We.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return hP(gI(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=yy(hP(gI(e)).map(u=>this._registerQuery(u).observable));return o=po(o.pipe(mn(1)),o.pipe(sP(1),mI(0))),o.pipe((0,Qe.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{h.matches=h.matches||_,h.breakpoints[b]=_}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Si.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Sn(i),(0,Qe.U)(({matches:u})=>({query:e,matches:u})),Bt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(eH),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hP(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const qx_Handset="(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)";function _I(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const pP="cdk-describedby-message",yI="cdk-describedby-host";let Yx=0,sH=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Yx++,this._document=e,this._id=(0,s.f3M)(s.AFp)+"-"+Yx++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=Zx(i,r);"string"!=typeof i?(mP(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=Zx(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const u=this._messageRegistry.get(o);u&&0===u.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${yI}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(yI);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");mP(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Zx(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=_I(e,"aria-describedby").filter(r=>0!=r.indexOf(pP));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function iH(n,t,e){const i=_I(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(yI,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function rH(n,t,e){const r=_I(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(yI)}_isElementDescribedByMessage(e,i){const r=_I(e,"aria-describedby"),o=this._messageRegistry.get(i),u=o&&o.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee),s.LFG(Hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zx(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function mP(n,t){n.id||(n.id=`${pP}-${t}-${Yx++}`)}class gP{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new We.x,this._typeaheadSubscription=vi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new We.x,this.change=new We.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,rr.b)(e=>this._pressedLetters.push(e)),mI(t),Yt(()=>this._pressedLetters.length>0),(0,Qe.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ws(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class oH extends gP{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class _P extends gP{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let E0=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function lH(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function aH(n){try{return n.frameElement}catch{return null}}(function gH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===vP(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=vP(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function pH(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function mH(n){return!function uH(n){return function hH(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function cH(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function dH(n){return function fH(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||yP(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yP(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function vP(n){if(!yP(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class _H{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(mn(1)).subscribe(t)}}let S0=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new _H(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(E0),s.LFG(s.R0b),s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yH=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=St(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=St(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=C0(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(S0),s.Y36(ee))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[s.TTD]}),n})();function Wx(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Kx(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const vH=new s.OlP("cdk-input-modality-detector-options"),bH={ignoreKeys:[18,17,224,91,16]},xy=Ty({passive:!0,capture:!0});let wH=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new _s(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Km(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Wx(u)?"keyboard":"mouse"),this._mostRecentTarget=Km(u))},this._onTouchstart=u=>{Kx(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Km(u))},this._options={...bH,...o},this.modalityDetected=this._modality.pipe(sP(1)),this.modalityChanged=this.modalityDetected.pipe(Go()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,xy),r.addEventListener("mousedown",this._onMousedown,xy),r.addEventListener("touchstart",this._onTouchstart,xy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xy),document.removeEventListener("mousedown",this._onMousedown,xy),document.removeEventListener("touchstart",this._onTouchstart,xy))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hi),s.LFG(s.R0b),s.LFG(ee),s.LFG(vH,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CH=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function DH(){return null}}),EH=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Qx=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[o,u]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(CH,8),s.LFG(s.R0b),s.LFG(ee),s.LFG(EH,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SH=new s.OlP("cdk-focus-monitor-default-options"),vI=Ty({passive:!0,capture:!0});let Ul=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new We.x,this._rootNodeFocusAndBlurListener=h=>{for(let b=Km(h);b;b=b.parentElement)"focus"===h.type?this._onFocus(h,b):this._onBlur(h,b)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=eh(e);if(!this._platform.isBrowser||1!==r.nodeType)return Le(null);const o=function HU(n){if(function UU(){if(null==Gx){const n=typeof document<"u"?document.head:null;Gx=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Gx}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new We.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=eh(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=eh(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Km(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,vI),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,vI)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Bt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vI),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vI),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Hi),s.LFG(wH),s.LFG(ee,8),s.LFG(SH,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IH=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new s.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ul))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const wP="cdk-high-contrast-black-on-white",CP="cdk-high-contrast-white-on-black",Xx="cdk-high-contrast-active";let DP=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(D0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Xx,wP,CP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Xx,wP):2===i&&e.add(Xx,CP)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hi),s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jx=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(DP))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[cP]}),n})();var MH=P(1144);const TH=["addListener","removeListener"],AH=["addEventListener","removeEventListener"],xH=["on","off"];function ky(n,t,e,i){if((0,ta.m)(e)&&(i=e,e=void 0),i)return ky(n,t,e).pipe(dx(i));const[r,o]=function OH(n){return(0,ta.m)(n.addEventListener)&&(0,ta.m)(n.removeEventListener)}(n)?AH.map(u=>h=>n[u](t,h,e)):function kH(n){return(0,ta.m)(n.addListener)&&(0,ta.m)(n.removeListener)}(n)?TH.map(EP(n,t)):function RH(n){return(0,ta.m)(n.on)&&(0,ta.m)(n.off)}(n)?xH.map(EP(n,t)):[];if(!r&&(0,MH.z)(n))return(0,Xr.z)(u=>ky(u,t,e))((0,_u.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Si.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>o(h)})}function EP(n,t){return e=>i=>n[e](t,i)}var SP=P(4408);const I0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=I0;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new vi.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=I0;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=I0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var IP=P(7565);new class FH extends IP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class PH extends SP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=I0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(I0.cancelAnimationFrame(e),t._scheduled=void 0)}});let ek,LH=1;const bI={};function MP(n){return n in bI&&(delete bI[n],!0)}const VH={setImmediate(n){const t=LH++;return bI[t]=!0,ek||(ek=Promise.resolve()),ek.then(()=>MP(t)&&n()),t},clearImmediate(n){MP(n)}},{setImmediate:BH,clearImmediate:UH}=VH,wI={setImmediate(...n){const{delegate:t}=wI;return(t?.setImmediate||BH)(...n)},clearImmediate(n){const{delegate:t}=wI;return(t?.clearImmediate||UH)(n)},delegate:void 0},tk=new class jH extends IP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class HH extends SP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=wI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(wI.clearImmediate(e),t._scheduled=void 0)}});var zH=P(3532);function TP(n=0,t,e=ds.P){let i=-1;return null!=t&&((0,zH.K)(t)?e=t:i=t),new Si.y(r=>{let o=function $H(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function AP(n,t=ds.z){return function GH(n){return(0,pi.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const b=r;r=null,e.next(b)}u&&e.complete()},_=()=>{o=null,u&&e.complete()};t.subscribe((0,In.x)(e,b=>{i=!0,r=b,o||(0,_u.Xf)(n(b)).subscribe(o=(0,In.x)(e,h,_))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>TP(n,t))}const qH=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function YH(){return(0,s.f3M)(ee)}}),ZH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ys=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function WH(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?ZH.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qH,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),T0=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new We.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Si.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(AP(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Le()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Yt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=eh(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ky(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Hi),s.LFG(ee,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A0=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new We.x,this._elementScrolled=new Si.y(u=>this.ngZone.runOutsideAngular(()=>ky(this.elementRef.nativeElement,"scroll").pipe(Bt(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=w0()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==w0()?e.left=e.right:1==w0()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;rP()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?r:i:"end"==e&&(e=u?i:r),u&&2==w0()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==w0()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(T0),s.Y36(s.R0b),s.Y36(ys,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),x0=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new We.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(AP(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hi),s.LFG(s.R0b),s.LFG(ee,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),nk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[M0,Xf,M0,Xf]}),n})();class ik{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Jf extends ik{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class k0 extends ik{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class XH extends ik{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class CI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Jf?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof k0?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof XH?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class JH extends CI{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Qm=(()=>{class n extends CI{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(ee))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Ry=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const xP=rP();class e3{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=sr(-this._previousScrollPosition.left),t.style.top=sr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),xP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xP&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class t3{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class kP{enable(){}disable(){}attach(){}}function rk(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function RP(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class n3{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();rk(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let r3=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new kP,this.close=u=>new t3(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new e3(this._viewportRuler,this._document),this.reposition=u=>new n3(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(T0),s.LFG(x0),s.LFG(s.R0b),s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Oy{constructor(t){if(this.scrollStrategy=new kP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class s3{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let OP=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o3=(()=>{class n extends OP{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a3=(()=>{class n extends OP{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Km(o)},this._clickListener=o=>{const u=Km(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const D=_[b];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(h))break;const M=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(o)):M.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee),s.LFG(Hi),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DI=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||zx()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),zx()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee),s.LFG(Hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class R0{constructor(t,e,i,r,o,u,h,_,b,D=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=D,this._backdropElement=null,this._backdropClick=new We.x,this._attachments=new We.x,this._detachments=new We.x,this._locationChanges=vi.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new We.x,this._outsidePointerEvents=new We.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(mn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=sr(this._config.width),t.height=sr(this._config.height),t.minWidth=sr(this._config.minWidth),t.minHeight=sr(this._config.minHeight),t.maxWidth=sr(this._config.maxWidth),t.maxHeight=sr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=gI(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Bt((0,ir.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const PP="cdk-overlay-connected-position-bounding-box",l3=/([A-Za-z%]+)$/;class FP{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new We.x,this._resizeSubscription=vi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(PP),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),b=this._getOverlayPoint(_,e,h),D=this._getOverlayFit(b,e,i,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(D,b,i)?o.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:b,originPoint:_,position:h,overlayRect:e})}if(o.length){let h=null,_=-1;for(const b of o){const D=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);D>_&&(_=D,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(PP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=LP(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(h+=b);let O=0-h,V=h+o.height-i.height,U=this._subtractOverflows(o.width,0-u,u+o.width-i.width),J=this._subtractOverflows(o.height,O,V),le=U*J;return{visibleArea:le,isCompletelyWithinViewport:o.width*o.height===le,fitsInViewportVertically:J===o.height,fitsInViewportHorizontally:U==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=NP(this._overlayRef.getConfig().minHeight),h=NP(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=r)&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=LP(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),_=Math.max(o.top-i.top-t.y,0),b=Math.max(o.left-i.left-t.x,0);let D=0,M=0;return D=r.width<=o.width?b||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,M=r.height<=o.height?_||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:D,y:M},{x:t.x+D,y:t.y+M}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new s3(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,D,M,O;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const V=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;o=2*V,u=t.y-V,o>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,D=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)M=t.x,D=i.right-t.x;else{const V=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;D=2*V,M=t.x-V,D>U&&!this._isInitialRender&&!this._growAfterOpen&&(M=t.x-U/2)}return{top:u,left:M,bottom:h,right:O,width:D,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=sr(i.height),r.top=sr(i.top),r.bottom=sr(i.bottom),r.width=sr(i.width),r.left=sr(i.left),r.right=sr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=sr(o)),u&&(r.maxWidth=sr(u))}this._lastBoundingBoxSize=i,Xm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Xm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();Xm(i,this._getExactOverlayY(e,t,D)),Xm(i,this._getExactOverlayX(e,t,D))}else i.position="static";let h="",_=this._getOffset(e,"x"),b=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),b&&(h+=`translateY(${b}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=sr(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=sr(u.maxWidth):o&&(i.maxWidth="")),Xm(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=sr(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=sr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:RP(t,i),isOriginOutsideView:rk(t,i),isOverlayClipped:RP(e,i),isOverlayOutsideView:rk(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&gI(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Xm(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function NP(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(l3);return e&&"px"!==e?null:parseFloat(t)}return n||null}function LP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const VP="cdk-global-overlay-wrapper";class c3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(VP),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),D=this._xPosition,M=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let V="",U="",J="";_?J="flex-start":"center"===D?(J="center",O?U=M:V=M):O?"left"===D||"end"===D?(J="flex-end",V=M):("right"===D||"start"===D)&&(J="flex-start",U=M):"left"===D||"start"===D?(J="flex-start",V=M):("right"===D||"end"===D)&&(J="flex-end",U=M),t.position=this._cssPosition,t.marginLeft=_?"0":V,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=_?"0":U,e.justifyContent=J,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(VP),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let u3=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new c3}flexibleConnectedTo(e){return new FP(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(x0),s.LFG(ee),s.LFG(Hi),s.LFG(DI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d3=0,vs=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M,O,V){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=b,this._directionality=D,this._location=M,this._outsideClickDispatcher=O,this._animationsModuleType=V}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new Oy(e);return u.direction=u.direction||this._directionality.value,new R0(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+d3++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new JH(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(r3),s.LFG(DI),s.LFG(s._Vd),s.LFG(u3),s.LFG(o3),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(ee),s.LFG(ys),s.LFG(Te),s.LFG(a3),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const h3=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],BP=new s.OlP("cdk-connected-overlay-scroll-strategy");let UP=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),HP=(()=>{class n{constructor(e,i,r,o,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=vi.w0.EMPTY,this._attachSubscription=vi.w0.EMPTY,this._detachSubscription=vi.w0.EMPTY,this._positionSubscription=vi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new k0(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=St(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=St(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=St(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=St(e)}get push(){return this._push}set push(e){this._push=St(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=h3);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ws(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Oy({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof UP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Z1(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vs),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(BP),s.Y36(ys,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n})();const p3={provide:BP,deps:[vs],useFactory:function f3(n){return()=>n.scrollStrategies.reposition()}};let Jm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[vs,p3],imports:[M0,Ry,nk,nk]}),n})();function m3(n,t){}class EI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let jP=(()=>{class n extends CI{constructor(e,i,r,o,u,h,_,b){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=_,this._focusMonitor=b,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>{this._portalOutlet.hasAttached();const M=this._portalOutlet.attachDomPortal(D);return this._contentAttached(),M},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=C0(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=C0();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=C0())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(S0),s.Y36(ee,8),s.Y36(EI),s.Y36(E0),s.Y36(s.R0b),s.Y36(R0),s.Y36(Ul))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(Qm,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,m3,0,0,"ng-template",0)},dependencies:[Qm],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class sk{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new We.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ws(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const GP=new s.OlP("DialogScrollStrategy"),g3=new s.OlP("DialogData"),_3=new s.OlP("DefaultDialogConfig"),v3={provide:GP,deps:[vs],useFactory:function y3(n){return()=>n.scrollStrategies.block()}};let b3=0,zP=(()=>{class n{constructor(e,i,r,o,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new We.x,this._afterOpenedAtThisLevel=new We.x,this._ariaHiddenElements=new Map,this.afterAllClosed=o0(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Sn(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new EI,...i}).id=i.id||"cdk-dialog-"+b3++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),u=this._overlay.create(o),h=new sk(u,i),_=this._attachContainer(u,h,i);return h.containerInstance=_,this._attachDialogContent(e,h,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){ok(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){ok(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),ok(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Oy({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,u=[{provide:EI,useValue:r},{provide:sk,useValue:i},{provide:R0,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,u.push(...r.container.providers(r))):h=jP;const _=new Jf(h,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:u}),r.componentFactoryResolver);return e.attach(_).instance}_attachDialogContent(e,i,r,o){if(e instanceof s.Rgc){const u=this._createInjector(o,i,r,void 0);let h={$implicit:o.data,dialogRef:i};o.templateContext&&(h={...h,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new k0(e,null,h,u))}else{const u=this._createInjector(o,i,r,this._injector),h=r.attachComponentPortal(new Jf(e,o.viewContainerRef,u,o.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(e,i,r,o){const u=e.injector||e.viewContainerRef?.injector,h=[{provide:g3,useValue:e.data},{provide:sk,useValue:i}];return e.providers&&("function"==typeof e.providers?h.push(...e.providers(i,e,r)):h.push(...e.providers)),e.direction&&(!u||!u.get(ys,null,s.XFs.Optional))&&h.push({provide:ys,useValue:{value:e.direction,change:Le()}}),s.zs3.create({parent:u||o,providers:h})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,u)=>{o?u.setAttribute("aria-hidden",o):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vs),s.LFG(s.zs3),s.LFG(_3,8),s.LFG(n,12),s.LFG(DI),s.LFG(GP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function ok(n,t){let e=n.length;for(;e--;)t(n[e])}let w3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[zP,v3],imports:[Jm,Ry,Jx,Ry]}),n})();function C3(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function D3(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const E3=["*"],T3=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function M3(){return!0}});let qt=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!zx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(DP),s.LFG(T3,8),s.LFG(ee))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[M0,M0]}),n})();function Py(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=St(t)}}}function O0(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function ep(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=St(t)}}}function YP(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ks(e):this.defaultTabIndex}}}function ZP(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}function WP(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Si.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const A3=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function x3(){return(0,s.f3M)(s.soG)}});class ts{constructor(){this._localeChanges=new We.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const eg=new s.OlP("mat-date-formats"),k3=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ak(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let R3=(()=>{class n extends ts{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return ak(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ak(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return ak(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(k3.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(A3,8),s.LFG(Hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const O3={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let P3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:ts,useClass:R3}]}),n})(),KP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:eg,useValue:O3}],imports:[P3]}),n})(),lk=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function P0(n,t,e){n.nativeElement.classList.toggle(t,e)}let SI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qt,qt]}),n})();class F3{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const JP={enterDuration:225,exitDuration:150},ck=Ty({passive:!0}),eF=["mousedown","touchstart"],tF=["mouseup","mouseleave","touchend","touchcancel"];class L3{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=eh(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...JP,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function V3(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,b=o.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-u+"px",D.style.top=_-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(D);const M=window.getComputedStyle(D),V=M.transitionDuration,U="none"===M.transitionProperty||"0s"===V||"0s, 0s"===V,J=new F3(this,D,i,U);D.style.transform="scale3d(1, 1, 1)",J.state=0,i.persistent||(this._mostRecentTransientRipple=J);let le=null;return!U&&(b||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const je=()=>this._finishRippleTransition(J),tt=()=>this._destroyRipple(J);D.addEventListener("transitionend",je),D.addEventListener("transitioncancel",tt),le={onTransitionEnd:je,onTransitionCancel:tt}}),this._activeRipples.set(J,le),(U||!b)&&this._finishRippleTransition(J),J}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...JP,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=eh(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(eF))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(tF),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Wx(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Kx(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,ck)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(eF.forEach(t=>{this._triggerElement.removeEventListener(t,this,ck)}),this._pointerUpEventsRegistered&&tF.forEach(t=>{this._triggerElement.removeEventListener(t,this,ck)}))}}const B3=new s.OlP("mat-ripple-global-options");let tg=(()=>{class n{constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new L3(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Hi),s.Y36(B3,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),F0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qt,qt]}),n})(),nF=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),uk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qt]}),n})();const iF=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),rF=new s.OlP("MatOptgroup");let U3=0;class H3{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let j3=(()=>{class n{constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+U3++,this.onSelectionChange=new s.vpe,this._stateChanges=new We.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=St(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ws(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new H3(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),II=(()=>{class n extends j3{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(iF,8),s.Y36(rF,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),s.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:E3,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,C3,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,D3,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(3),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[tg,cn,nF],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function sF(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[o]&&o++;return o}return 0}let oF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[F0,Vi,qt,uk]}),n})();class aF{}const th="*";function ns(n,t){return{type:7,name:n,definitions:t,options:{}}}function qn(n,t=null){return{type:4,styles:t,timings:n}}function lF(n,t=null){return{type:3,steps:n,options:t}}function cF(n,t=null){return{type:2,steps:n,options:t}}function Et(n){return{type:6,styles:n,offset:null}}function Ln(n,t,e){return{type:0,name:n,styles:t,options:e}}function ng(n){return{type:5,steps:n}}function Rn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function MI(n=null){return{type:9,options:n}}function TI(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function uF(n){Promise.resolve().then(n)}class N0{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){uF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class dF{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?uF(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function $3(n,t){}const Fy={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},q3={dialogContainer:ns("dialogContainer",[Ln("void, exit",Et({opacity:0,transform:"scale(0.7)"})),Ln("enter",Et({transform:"none"})),Rn("* => enter",lF([qn("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Et({transform:"none",opacity:1})),TI("@*",MI(),{optional:!0})]),Fy),Rn("* => void, * => exit",lF([qn("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Et({opacity:0})),TI("@*",MI(),{optional:!0})]),Fy)])};class Hl{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Fy.params.enterAnimationDuration,this.exitAnimationDuration=Fy.params.exitAnimationDuration}}let Y3=(()=>{class n extends jP{constructor(e,i,r,o,u,h,_,b){super(e,i,r,o,u,h,_,b),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(S0),s.Y36(ee,8),s.Y36(Hl),s.Y36(E0),s.Y36(s.R0b),s.Y36(R0),s.Y36(Ul))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),Z3=(()=>{class n extends Y3{constructor(e,i,r,o,u,h,_,b,D){super(e,i,r,o,u,h,_,D),this._changeDetectorRef=b,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Fy.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Fy.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(S0),s.Y36(ee,8),s.Y36(Hl),s.Y36(E0),s.Y36(s.R0b),s.Y36(R0),s.Y36(s.sBO),s.Y36(Ul))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._getAnimationState()))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,$3,0,0,"ng-template",0)},dependencies:[Qm],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[q3.dialogContainer]}}),n})();class ig{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new We.x,this._beforeClosed=new We.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Yt(r=>"opened"===r.state),mn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Yt(r=>"closed"===r.state),mn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,ir.T)(this.backdropClick(),this.keydownEvents().pipe(Yt(r=>27===r.keyCode&&!this.disableClose&&!Ws(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),hF(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Yt(e=>"closing"===e.state),mn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function hF(n,t,e){return n._closeInteractionType=t,n.close(e)}const L0=new s.OlP("MatDialogData"),W3=new s.OlP("mat-dialog-default-options"),fF=new s.OlP("mat-dialog-scroll-strategy"),Q3={provide:fF,deps:[vs],useFactory:function K3(n){return()=>n.scrollStrategies.block()}};let X3=0,J3=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=_,this._dialogContainerType=b,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new We.x,this._afterOpenedAtThisLevel=new We.x,this._idPrefix="mat-dialog-",this.afterAllClosed=o0(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Sn(void 0))),this._scrollStrategy=h,this._dialog=i.get(zP)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new Hl,...i}).id=i.id||`${this._idPrefix}${X3++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Hl,useValue:i},{provide:EI,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,h,_)=>(r=new this._dialogRefConstructor(u,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ny=(()=>{class n extends J3{constructor(e,i,r,o,u,h,_,b){super(e,i,o,h,_,u,ig,Z3,L0,b)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vs),s.LFG(s.zs3),s.LFG(Te,8),s.LFG(W3,8),s.LFG(fF),s.LFG(n,12),s.LFG(DI),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ej=0,pF=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=gF(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){hF(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ig,8),s.Y36(s.SBq),s.Y36(Ny))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._onButtonClick(o)}),2&e&&s.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),n})(),mF=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+ej++}ngOnInit(){this._dialogRef||(this._dialogRef=gF(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ig,8),s.Y36(s.SBq),s.Y36(Ny))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),AI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),xI=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function gF(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let _F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ny,Q3],imports:[w3,Jm,Ry,qt,qt]}),n})();const tj=["mat-button",""],nj=["*"],rj=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],sj=O0(Py(ep(class{constructor(n){this._elementRef=n}})));let na=(()=>{class n extends sj{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of rj)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ul),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(tg,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:tj,ngContentSelectors:nj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[tg],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),V0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[F0,qt,qt]}),n})();const oj=["connectionContainer"],aj=["inputContainer"],lj=["label"];function cj(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function uj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function dj(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function hj(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function fj(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function pj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,dj,4,1,"ng-container",12),s.YNc(3,hj,1,0,"ng-content",12),s.YNc(4,fj,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function mj(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function gj(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function _j(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function yj(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function vj(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,yj,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const bj=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],wj=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Cj=0;const yF=new s.OlP("MatError");let vF=(()=>{class n{constructor(e,i){this.id="mat-error-"+Cj++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:yF,useExisting:n}])]}),n})();const Dj={transitionMessages:ns("transitionMessages",[Ln("enter",Et({opacity:1,transform:"translateY(0%)"})),Rn("void => enter",[Et({opacity:0,transform:"translateY(-5px)"}),qn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let kI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})(),Ej=0;const bF=new s.OlP("MatHint");let wF=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+Ej++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id)("align",null),s.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:bF,useExisting:n}])]}),n})(),rg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),Sj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Ij=new s.OlP("MatPrefix"),CF=new s.OlP("MatSuffix");let DF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:CF,useExisting:n}])]}),n})(),EF=0;const Tj=O0(class{constructor(n){this._elementRef=n}},"primary"),Aj=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),RI=new s.OlP("MatFormField");let Ly=(()=>{class n extends Tj{constructor(e,i,r,o,u,h,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new We.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+EF++,this._labelId="mat-form-field-label-"+EF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=St(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Sn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Bt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Bt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ir.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Sn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Sn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Bt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ky(this._label.nativeElement,"transitionend").pipe(mn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const D=i.querySelectorAll(`${r}, ${o}`);for(let M=0;M<D.length;M++)D[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const _=i.querySelectorAll(r),b=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const D=i.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(D),O=e.children,V=this._getStartEnd(O[0].getBoundingClientRect());let U=0;for(let J=0;J<O.length;J++)U+=O[J].offsetWidth;u=Math.abs(V-M)-5,h=U>0?.75*U+10:0}for(let D=0;D<_.length;D++)_[D].style.width=`${u}px`;for(let D=0;D<b.length;D++)b[D].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(ys,8),s.Y36(Aj,8),s.Y36(Hi),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,kI,5),s.Suo(r,kI,7),s.Suo(r,rg,5),s.Suo(r,rg,7),s.Suo(r,Sj,5),s.Suo(r,yF,5),s.Suo(r,bF,5),s.Suo(r,Ij,5),s.Suo(r,CF,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(oj,7),s.Gf(aj,5),s.Gf(lj,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:RI,useExisting:n}]),s.qOj],ngContentSelectors:wj,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(bj),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,cj,9,0,"ng-container",3),s.YNc(4,uj,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,pj,5,16,"label",8),s.qZA()(),s.YNc(10,mj,2,0,"div",9),s.qZA(),s.YNc(11,gj,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,_j,2,1,"div",12),s.YNc(14,vj,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[cn,xo,ro,JU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Dj.transitionMessages]},changeDetection:0}),n})(),B0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Vi,qt,cP,qt]}),n})();function hk(n){return n&&"function"==typeof n.connect&&!(n instanceof fx)}class IF{applyChanges(t,e,i,r,o){t.forEachOperation((u,h,_)=>{let b,D;if(null==u.previousIndex){const M=i(u,h,_);b=e.createEmbeddedView(M.templateRef,M.context,M.index),D=1}else null==_?(e.remove(h),D=3):(b=e.get(h),e.move(b,_),D=2);o&&o({context:b?.context,operation:D,record:u})})}detach(){}}class fk{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new We.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let kj=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U0=new s.OlP("_ViewRepeater");function TF(...n){const t=(0,hi.jO)(n),{args:e,keys:i}=z1(n),r=new Si.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let _=u,b=u;for(let D=0;D<u;D++){let M=!1;(0,_u.Xf)(e[D]).subscribe((0,In.x)(o,O=>{M||(M=!0,b--),h[D]=O},()=>_--,void 0,()=>{(!_||!M)&&(b||o.next(i?$1(i,h):h),o.complete())}))}});return t?r.pipe(dx(t)):r}let AF=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),sg=(()=>{class n extends AF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const ia=new s.OlP("NgValueAccessor"),Oj={provide:ia,useExisting:(0,s.Gpc)(()=>H0),multi:!0},Fj=new s.OlP("CompositionEventMode");let H0=(()=>{class n extends AF{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pj(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Fj,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([Oj]),s.qOj]}),n})();function tp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function kF(n){return null!=n&&"number"==typeof n.length}const is=new s.OlP("NgValidators"),np=new s.OlP("NgAsyncValidators"),Lj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ji{static min(t){return function RF(n){return t=>{if(tp(t.value)||tp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function OF(n){return t=>{if(tp(t.value)||tp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return PF(t)}static requiredTrue(t){return function FF(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function NF(n){return tp(n.value)||Lj.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function LF(n){return t=>tp(t.value)||!kF(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function VF(n){return t=>kF(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function BF(n){if(!n)return OI;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(tp(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return $F(t)}static composeAsync(t){return qF(t)}}function PF(n){return tp(n.value)?{required:!0}:null}function OI(n){return null}function UF(n){return null!=n}function HF(n){return(0,s.QGY)(n)?(0,un.D)(n):n}function jF(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function GF(n,t){return t.map(e=>e(n))}function zF(n){return n.map(t=>function Vj(n){return!n.validate}(t)?t:e=>t.validate(e))}function $F(n){if(!n)return null;const t=n.filter(UF);return 0==t.length?null:function(e){return jF(GF(e,t))}}function pk(n){return null!=n?$F(zF(n)):null}function qF(n){if(!n)return null;const t=n.filter(UF);return 0==t.length?null:function(e){return TF(GF(e,t).map(HF)).pipe((0,Qe.U)(jF))}}function mk(n){return null!=n?qF(zF(n)):null}function YF(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ZF(n){return n._rawValidators}function WF(n){return n._rawAsyncValidators}function gk(n){return n?Array.isArray(n)?n:[n]:[]}function PI(n,t){return Array.isArray(n)?n.includes(t):n===t}function KF(n,t){const e=gk(t);return gk(n).forEach(r=>{PI(e,r)||e.push(r)}),e}function QF(n,t){return gk(t).filter(e=>!PI(n,e))}class XF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=pk(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=mk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Qs extends XF{get formDirective(){return null}get path(){return null}}class Eu extends XF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class JF{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _k=(()=>{class n extends JF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Eu,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),yk=(()=>{class n extends JF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qs,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const j0="VALID",NI="INVALID",Vy="PENDING",G0="DISABLED";function Ck(n){return(LI(n)?n.validators:n)||null}function tN(n){return Array.isArray(n)?pk(n):n||null}function Dk(n,t){return(LI(t)?t.asyncValidators:n)||null}function nN(n){return Array.isArray(n)?mk(n):n||null}function LI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function iN(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function rN(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class VI{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=tN(this._rawValidators),this._composedAsyncValidatorFn=nN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===j0}get invalid(){return this.status===NI}get pending(){return this.status==Vy}get disabled(){return this.status===G0}get enabled(){return this.status!==G0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=tN(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=nN(t)}addValidators(t){this.setValidators(KF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(KF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(QF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(QF(t,this._rawAsyncValidators))}hasValidator(t){return PI(this._rawValidators,t)}hasAsyncValidator(t){return PI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Vy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=G0,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=j0,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===j0||this.status===Vy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?G0:j0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Vy,this._hasOwnPendingAsyncValidator=!0;const e=HF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?G0:this.errors?NI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vy)?Vy:this._anyControlsHaveStatus(NI)?NI:j0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){LI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class z0 extends VI{constructor(t,e,i){super(Ck(e),Dk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){rN(this,0,t),Object.keys(t).forEach(i=>{iN(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class sN extends z0{}function $0(n,t){Ek(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function qj(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oN(n,t)})}(n,t),function Zj(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Yj(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oN(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function $j(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function UI(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),jI(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function HI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ek(n,t){const e=ZF(n);null!==t.validator?n.setValidators(YF(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=WF(n);null!==t.asyncValidator?n.setAsyncValidators(YF(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();HI(t._rawValidators,r),HI(t._rawAsyncValidators,r)}function jI(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=ZF(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=WF(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return HI(t._rawValidators,i),HI(t._rawAsyncValidators,i),e}function oN(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function aN(n,t){Ek(n,t)}function cN(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const Jj={provide:Qs,useExisting:(0,s.Gpc)(()=>Y0)},q0=(()=>Promise.resolve())();let Y0=(()=>{class n extends Qs{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new z0({},pk(e),mk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){q0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),$0(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){q0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){q0.then(()=>{const i=this._findContainer(e.path),r=new z0({});aN(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){q0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){q0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,cN(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(is,10),s.Y36(np,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Jj]),s.qOj]}),n})();function uN(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function dN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Z0=class extends VI{constructor(t=null,e,i){super(Ck(e),Dk(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),LI(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=dN(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){uN(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){uN(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){dN(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let _N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Mk=new s.OlP("NgModelWithFormControlWarning"),cG={provide:Qs,useExisting:(0,s.Gpc)(()=>og)};let og=(()=>{class n extends Qs{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return $0(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){UI(e.control||null,e,!1),function Xj(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,cN(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(UI(i||null,e),(n=>n instanceof Z0)(r)&&($0(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);aN(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Wj(n,t){return jI(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ek(this.form,this),this._oldForm&&jI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(is,10),s.Y36(np,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([cG]),s.qOj,s.TTD]}),n})();const hG={provide:Eu,useExisting:(0,s.Gpc)(()=>GI)};let GI=(()=>{class n extends Eu{constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Ik(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===H0?e=o:function Qj(n){return Object.getPrototypeOf(n.constructor)===sg}(o)?i=o:r=o}),r||i||e||null}(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Sk(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function BI(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Qs,13),s.Y36(is,10),s.Y36(np,10),s.Y36(ia,10),s.Y36(Mk,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([hG]),s.qOj,s.TTD]}),n})(),ag=(()=>{class n{constructor(){this._validator=OI}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):OI,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const wG={provide:is,useExisting:(0,s.Gpc)(()=>W0),multi:!0};let W0=(()=>{class n extends ag{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>PF}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([wG]),s.qOj]}),n})(),ON=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_N]}),n})(),MG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ON]}),n})(),PN=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Mk,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ON]}),n})();class FN extends VI{constructor(t,e,i){super(Ck(e),Dk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){rN(this,0,t),t.forEach((i,r)=>{iN(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function NN(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let LN=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return NN(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new z0(r,o)}record(e,i=null){const r=this._reduceControls(e);return new sN(r,i)}control(e,i,r){let o={};return this.useNonNullable?(NN(i)?o=i:(o.validators=i,o.asyncValidators=r),new Z0(e,{...o,nonNullable:!0})):new Z0(e,i,r)}array(e,i,r){const o=e.map(u=>this._createControl(u));return new FN(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Z0||e instanceof VI?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:PN}),n})();const TG=["trigger"],AG=["panel"];function xG(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function kG(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function RG(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function OG(n,t){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,kG,2,1,"span",10),s.YNc(2,RG,1,0,"ng-content",11),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function PG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"div",14,15),s.NdJ("@transformPanel.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))}),s.Hsn(3,1),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const FG=[[["mat-select-trigger"]],"*"],NG=["mat-select-trigger","*"],VN={transformPanelWrap:ns("transformPanelWrap",[Rn("* => void",TI("@transformPanel",[MI()],{optional:!0}))]),transformPanel:ns("transformPanel",[Ln("void",Et({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Ln("showing",Et({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Ln("showing-multiple",Et({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Rn("void => *",qn("120ms cubic-bezier(0, 0, 0.2, 1)")),Rn("* => void",qn("100ms 25ms linear",Et({opacity:0})))])};let BN=0;const HN=new s.OlP("mat-select-scroll-strategy"),UG=new s.OlP("MAT_SELECT_CONFIG"),HG={provide:HN,deps:[vs],useFactory:function BG(n){return()=>n.scrollStrategies.reposition()}};class jG{constructor(t,e){this.source=t,this.value=e}}const GG=ep(YP(Py(ZP(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new We.x}})))),zG=new s.OlP("MatSelectTrigger");let $G=(()=>{class n extends GG{constructor(e,i,r,o,u,h,_,b,D,M,O,V,U,J){super(u,o,_,b,M),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=D,this._liveAnnouncer=U,this._defaultOptions=J,this._panelOpen=!1,this._compareWith=(le,je)=>le===je,this._uid="mat-select-"+BN++,this._triggerAriaLabelledBy=null,this._destroy=new We.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+BN++,this._panelDoneAnimatingStream=new We.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=o0(()=>{const le=this.options;return le?le.changes.pipe(Sn(le),ti(()=>(0,ir.T)(...le.map(je=>je.onSelectionChange)))):this._ngZone.onStable.pipe(mn(1),ti(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(Yt(le=>le),(0,Qe.U)(()=>{})),this._closedStream=this.openedChange.pipe(Yt(le=>!le),(0,Qe.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=J?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=J.typeaheadDebounceInterval),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ji.required)??!1}set required(e){this._required=St(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=St(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=St(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Ks(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new fk(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Go(),Bt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Bt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Sn(null),Bt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&o&&!Ws(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const _=this.selected;_&&h!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,u=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Ws(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(h?_.select():_.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(mn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new oH(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Bt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Bt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,ir.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Bt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ir.T)(...this.options.map(i=>i._stateChanges)).pipe(Bt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(x0),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(lk),s.Y36(s.SBq),s.Y36(ys,8),s.Y36(Y0,8),s.Y36(og,8),s.Y36(RI,8),s.Y36(Eu,10),s.$8M("tabindex"),s.Y36(HN),s.Y36(Qx),s.Y36(UG,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(TG,5),s.Gf(AG,5),s.Gf(HP,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),Rk=(()=>{class n extends $G{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Bt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(mn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=sF(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function G3(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new jG(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let b=this._selectionModel.selected[0]||this.options.first;u=b&&b.group?32:16}r||(u*=-1);const h=0-(e.left+u-(r?o:0)),_=e.right+u-i.width+(r?0:o);h>0?u+=h+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const o=this._getItemHeight(),u=(o-this._triggerRect.height)/2,h=Math.floor(256/o);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-h))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;b>u?this._adjustPanelUp(b,u):h>o?this._adjustPanelDown(h,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=sF(h,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(h,_,u),this._offsetY=this._calculateOverlayOffsetY(h,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,zG,5),s.Suo(r,II,5),s.Suo(r,rF,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.customTrigger=o.first),s.iGM(o=s.CRH())&&(i.options=o),s.iGM(o=s.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:kI,useExisting:n},{provide:iF,useExisting:n}]),s.qOj],ngContentSelectors:NG,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(FG),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,xG,2,1,"span",3),s.YNc(5,OG,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA()(),s.YNc(8,PG,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[Qt,xo,ro,Gl,HP,UP],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[VN.transformPanelWrap,VN.transformPanel]},changeDetection:0}),n})(),Ok=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[HG],imports:[Vi,Jm,oF,qt,Xf,B0,oF,qt]}),n})();const qG=["tooltip"],jN="tooltip-panel",GN=Ty({passive:!0}),zN=new s.OlP("mat-tooltip-scroll-strategy"),KG={provide:zN,deps:[vs],useFactory:function WG(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},QG=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function XG(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let JG=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M,O,V){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=u,this._platform=h,this._ariaDescriber=_,this._focusMonitor=b,this._dir=M,this._defaultOptions=O,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new We.x,this._scrollStrategy=D,this._document=V,O&&(O.position&&(this.position=O.position),O.touchGestures&&(this.touchGestures=O.touchGestures)),M.change.pipe(Bt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=St(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ks(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ks(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Bt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,GN)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingHide();const i=this._createOverlay();this._detach(),this._portal=this._portal||new Jf(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Bt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):this._detach())}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Bt(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${jN}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Bt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Bt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Bt(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Ws(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(mn(1),Bt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const _=`${this._cssClassPrefix}-${jN}-`;h.removePanelClass(_+this._currentPosition),h.addPanelClass(_+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,GN)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),e6=(()=>{class n extends JG{constructor(e,i,r,o,u,h,_,b,D,M,O,V){super(e,i,r,o,u,h,_,b,D,M,O,V),this._tooltipComponent=n6}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vs),s.Y36(s.SBq),s.Y36(T0),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(Hi),s.Y36(sH),s.Y36(Ul),s.Y36(zN),s.Y36(ys,8),s.Y36(QG,8),s.Y36(ee))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),t6=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new We.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingHide(){clearTimeout(this._hideTimeoutId),this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),n6=(()=>{class n extends t6{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe(qx_Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(D0),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(qG,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},dependencies:[Qt,zl],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),i6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[KG],imports:[Jx,Vi,Jm,qt,qt,Xf]}),n})();function r6(n,t){if(1&n&&(s.TgZ(0,"mat-option",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function s6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field",16)(1,"mat-select",17),s.NdJ("selectionChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o._changePageSize(r.value))}),s.YNc(2,r6,2,2,"mat-option",18),s.qZA()()}if(2&n){const e=s.oxw(2);s.Q6J("appearance",e._formFieldAppearance)("color",e.color),s.xp6(1),s.Q6J("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),s.xp6(1),s.Q6J("ngForOf",e._displayedPageSizeOptions)}}function o6(n,t){if(1&n&&(s.TgZ(0,"div",20),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.pageSize)}}function a6(n,t){if(1&n&&(s.TgZ(0,"div",12)(1,"div",13),s._uU(2),s.qZA(),s.YNc(3,s6,3,8,"mat-form-field",14),s.YNc(4,o6,2,1,"div",15),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e._intl.itemsPerPageLabel," "),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length>1),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function l6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.firstPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",22),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),s.uIk("aria-label",e._intl.firstPageLabel)}}function c6(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"button",23),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.lastPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",24),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),s.uIk("aria-label",e._intl.lastPageLabel)}}let $I=(()=>{class n{constructor(){this.changes=new We.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const d6={provide:$I,deps:[[new s.FiY,new s.tp0,$I]],useFactory:function u6(n){return n||new $I}},f6=new s.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),p6=Py(WP(class{}));let m6=(()=>{class n extends p6{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new s.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:o,pageSizeOptions:u,hidePageSize:h,showFirstLastButtons:_}=r;null!=o&&(this._pageSize=o),null!=u&&(this._pageSizeOptions=u),null!=h&&(this._hidePageSize=h),null!=_&&(this._showFirstLastButtons=_)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(Ks(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=Ks(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(Ks(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>Ks(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=St(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=St(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[s.qOj]}),n})(),Uy=(()=>{class n extends m6{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($I),s.Y36(s.sBO),s.Y36(f6,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[s.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,a6,5,3,"div",2),s.TgZ(3,"div",3)(4,"div",4),s._uU(5),s.qZA(),s.YNc(6,l6,3,5,"button",5),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.previousPage()}),s.O4$(),s.TgZ(8,"svg",7),s._UZ(9,"path",8),s.qZA()(),s.kcU(),s.TgZ(10,"button",9),s.NdJ("click",function(){return i.nextPage()}),s.O4$(),s.TgZ(11,"svg",7),s._UZ(12,"path",10),s.qZA()(),s.YNc(13,c6,3,5,"button",11),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("ngIf",!i.hidePageSize),s.xp6(3),s.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),s.xp6(1),s.Q6J("ngIf",i.showFirstLastButtons),s.xp6(1),s.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),s.uIk("aria-label",i._intl.previousPageLabel),s.xp6(3),s.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),s.uIk("aria-label",i._intl.nextPageLabel),s.xp6(3),s.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[Br,cn,na,Ly,Rk,II,e6],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),$N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[d6],imports:[Vi,V0,Ok,i6,qt]}),n})();const g6=new s.OlP("MAT_SORT_DEFAULT_OPTIONS"),_6=WP(Py(class{}));let Pk=(()=>{class n extends _6{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new We.x,this.start="asc",this._direction="",this.sortChange=new s.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=St(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function y6(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(g6,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[s.qOj,s.TTD]}),n})();const w6=[[["caption"]],[["colgroup"],["col"]]],C6=["caption","colgroup, col"];function Nk(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=St(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Hy=new s.OlP("CDK_TABLE");let jy=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Gy=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),qI=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class I6{}const M6=Nk(I6);let nh=(()=>{class n extends M6{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=St(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,jy,5),s.Suo(r,Gy,5),s.Suo(r,qI,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class Lk{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let Vk=(()=>{class n extends Lk{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(nh),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),Bk=(()=>{class n extends Lk{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(nh),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class YN{constructor(){this.tasks=[],this.endTasks=[]}}const Uk=new s.OlP("_COALESCED_STYLE_SCHEDULER");let ZN=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new We.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new YN,this._getScheduleObservable().pipe(Bt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new YN;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,un.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(mn(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Hk=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Q0?e.headerCell.template:this instanceof X0?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class T6 extends Hk{}const A6=Nk(T6);let Q0=(()=>{class n extends A6{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Hy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class x6 extends Hk{}const k6=Nk(x6);let X0=(()=>{class n extends k6{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Hy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),YI=(()=>{class n extends Hk{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Hy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),ih=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),jk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ih],encapsulation:2}),n})(),zk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ih],encapsulation:2}),n})(),ZI=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const WN=["top","bottom","left","right"];class R6{constructor(t,e,i,r,o=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],u=o.children.length,h=this._getCellWidths(o,r),_=this._getStickyStartColumnPositions(h,e),b=this._getStickyEndColumnPositions(h,i),D=e.lastIndexOf(!0),M=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,V=O?"right":"left",U=O?"left":"right";for(const J of t)for(let le=0;le<u;le++){const je=J.children[le];e[le]&&this._addStickyStyle(je,V,_[le],le===D),i[le]&&this._addStickyStyle(je,U,b[le],le===M)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===D?[]:h.slice(0,D+1).map((J,le)=>e[le]?J:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===M?[]:h.slice(M).map((J,le)=>i[le+M]?J:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,u=[],h=[],_=[];for(let D=0,M=0;D<r.length;D++){if(!o[D])continue;u[D]=M;const O=r[D];_[D]=this._isNativeHtmlTable?Array.from(O.children):[O];const V=O.getBoundingClientRect().height;M+=V,h[D]=V}const b=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let D=0;D<r.length;D++){if(!o[D])continue;const M=u[D],O=D===b;for(const V of _[D])this._addStickyStyle(V,i,M,O)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:_}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:_})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);WN.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of WN)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const $k=new s.OlP("CDK_SPL");let WI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),KI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),QI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),XI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),JI=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D,M,O,V){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=D,this._viewportRuler=M,this._stickyPositioningListener=O,this._ngZone=V,this._onDestroy=new We.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new _s({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=St(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=St(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Bt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),hk(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe(mn(1),Bt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,u)=>{this._addStickyColumnStyles([o],this._headerRowDefs[u])}),this._rowDefs.forEach(o=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===o&&u.push(i[h]);this._addStickyColumnStyles(u,o)}),r.forEach((o,u)=>{this._addStickyColumnStyles([o],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const u=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let h=0;h<u.length;h++){let _=u[h];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),e.push(_)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const _=h.shift();return _.dataIndex=i,_}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),eM(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=eM(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=eM(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=eM(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],hk(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;hk(this.dataSource)?e=this.dataSource.connect(this):function b6(n){return!!n&&(n instanceof Si.y||(0,ta.m)(n.lift)&&(0,ta.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Le(this.dataSource)),this._renderChangeSubscription=e.pipe(Bt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),o=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const u=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))ih.mostRecentCellOutlet&&ih.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const u of r.outlets)o.appendChild(u.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new R6(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Le()).pipe(Bt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),u=o.rootNodes[0];1===o.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(ys,8),s.Y36(ee),s.Y36(Hi),s.Y36(U0),s.Y36(Uk),s.Y36(x0),s.Y36($k,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,ZI,5),s.Suo(r,nh,5),s.Suo(r,YI,5),s.Suo(r,Q0,5),s.Suo(r,X0,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(WI,7),s.Gf(KI,7),s.Gf(QI,7),s.Gf(XI,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:Hy,useExisting:n},{provide:U0,useClass:IF},{provide:Uk,useClass:ZN},{provide:$k,useValue:null}])],ngContentSelectors:C6,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(w6),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[WI,KI,QI,XI],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function eM(n,t){return n.concat(Array.from(t))}let P6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[nk]}),n})();const F6=[[["caption"]],[["colgroup"],["col"]]],N6=["caption","colgroup, col"];let tM=(()=>{class n extends JI{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:U0,useClass:IF},{provide:JI,useExisting:n},{provide:Hy,useExisting:n},{provide:Uk,useClass:ZN},{provide:$k,useValue:null}]),s.qOj],ngContentSelectors:N6,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(F6),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[WI,KI,QI,XI],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),J0=(()=>{class n extends jy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:jy,useExisting:n}]),s.qOj]}),n})(),eC=(()=>{class n extends Gy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:Gy,useExisting:n}]),s.qOj]}),n})(),tC=(()=>{class n extends nh{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:nh,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),nC=(()=>{class n extends Vk{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[s.qOj]}),n})(),iC=(()=>{class n extends Bk{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[s.qOj]}),n})(),nM=(()=>{class n extends Q0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:Q0,useExisting:n}]),s.qOj]}),n})(),iM=(()=>{class n extends YI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:YI,useExisting:n}]),s.qOj]}),n})(),rM=(()=>{class n extends jk{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:jk,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ih],encapsulation:2}),n})(),sM=(()=>{class n extends zk{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[s._Bn([{provide:zk,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ih],encapsulation:2}),n})(),oM=(()=>{class n extends ZI{constructor(){super(...arguments),this._contentClassName="mat-no-data-row"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[s._Bn([{provide:ZI,useExisting:n}]),s.qOj]}),n})(),QN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[P6,qt,qt]}),n})();class qk extends class q6 extends class xj{}{constructor(t=[]){super(),this._renderData=new _s([]),this._filter=new _s(""),this._internalPageChanges=new We.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(aP(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((u,h)=>{let _=this.sortingDataAccessor(u,r),b=this.sortingDataAccessor(h,r);const D=typeof _,M=typeof b;D!==M&&("number"===D&&(_+=""),"number"===M&&(b+=""));let O=0;return null!=_&&null!=b?_>b?O=1:_<b&&(O=-1):null!=_?O=1:null!=b&&(O=-1),O*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((u,h)=>u+e[h]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new _s(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,ir.T)(this._sort.sortChange,this._sort.initialized):Le(null),e=this._paginator?(0,ir.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Le(null),r=yy([this._data,this._filter]).pipe((0,Qe.U)(([h])=>this._filterData(h))),o=yy([r,t]).pipe((0,Qe.U)(([h])=>this._orderData(h))),u=yy([o,e]).pipe((0,Qe.U)(([h])=>this._pageData(h)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=u.subscribe(h=>this._renderData.next(h))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}let rC=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=St(e)}get inset(){return this._inset}set inset(e){this._inset=St(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),Y6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qt,qt]}),n})();const XN=["*"];class W6{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new K6(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class K6{constructor(t,e){this.row=t,this.col=e}}const JN=new s.OlP("MAT_GRID_LIST");let Yk=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Ks(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Ks(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(JN,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&s.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:XN,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const Q6=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Zk{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=eL(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":lg(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,r,o),this.setRowStyles(t,e,r,o)}setColStyles(t,e,i,r){let o=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",lg(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class X6 extends Zk{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=eL(this.fixedRowHeight),Q6.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",lg(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",lg(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class J6 extends Zk{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",lg(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",lg(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class ez extends Zk{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",lg(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function lg(n){return`calc(${n})`}function eL(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let tL=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Ks(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new ez:e&&e.indexOf(":")>-1?new J6(e):new X6(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new W6);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((o,u)=>{const h=e.positions[u];this._tileStyler.setStyle(o,h.row,h.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ys,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Yk,5),2&e){let o;s.iGM(o=s.CRH())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[s._Bn([{provide:JN,useExisting:n}])],ngContentSelectors:XN,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div"),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),nL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[SI,qt,SI,qt]}),n})();const iL=Ty({passive:!0});let nz=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return yu.E;const i=eh(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new We.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,iL),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,iL)}}),o}stopMonitoring(e){const i=eh(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hi),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const sL=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),iz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let rz=0;const sz=ZP(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new We.x}});let sC=(()=>{class n extends sz{constructor(e,i,r,o,u,h,_,b,D,M){super(h,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=M,this._uid="mat-input-"+rz++,this.focused=!1,this.stateChanges=new We.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>iP().has(U)),this._iOSKeyupListener=U=>{const J=U.target;!J.value&&0===J.selectionStart&&0===J.selectionEnd&&(J.setSelectionRange(1,1),J.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,V=O.nodeName.toLowerCase();this._inputValueAccessor=_||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&D.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=St(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ji.required)??!1}set required(e){this._required=St(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&iP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=St(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){iz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Hi),s.Y36(Eu,10),s.Y36(Y0,8),s.Y36(og,8),s.Y36(lk),s.Y36(sL,10),s.Y36(nz),s.Y36(s.R0b),s.Y36(RI,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:kI,useExisting:n}]),s.qOj,s.TTD]}),n})(),oL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[lk],imports:[rL,B0,qt,rL,B0]}),n})();const oz=["input"],az=function(n){return{enterDuration:n}},lz=["*"],cz=new s.OlP("mat-radio-default-options",{providedIn:"root",factory:function uz(){return{color:"accent"}}});let aL=0;const dz={provide:ia,useExisting:(0,s.Gpc)(()=>Wk),multi:!0};class lL{constructor(t,e){this.source=t,this.value=e}}const cL=new s.OlP("MatRadioGroup");let hz=(()=>{class n{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+aL++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new s.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=St(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=St(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new lL(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})(),Wk=(()=>{class n extends hz{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Kk,5),2&e){let o;s.iGM(o=s.CRH())&&(i._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[s._Bn([dz,{provide:cL,useExisting:n}]),s.qOj]}),n})();class fz{constructor(t){this._elementRef=t}}const pz=ep(YP(fz));let mz=(()=>{class n extends pz{constructor(e,i,r,o,u,h,_,b){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=u,this._providerOverride=_,this._uniqueId="mat-radio-"+ ++aL,this.id=this._uniqueId,this.change=new s.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===h,b&&(this.tabIndex=Ks(b,0)),this._removeUniqueSelectionListener=u.listen((D,M)=>{D!==this.id&&M===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const i=St(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(St(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=St(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new lL(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(oz,5),2&e){let r;s.iGM(r=s.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[s.qOj]}),n})(),Kk=(()=>{class n extends mz{constructor(e,i,r,o,u,h,_,b){super(e,i,r,o,u,h,_,b)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cL,8),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ul),s.Y36(kj),s.Y36(s.QbO,8),s.Y36(cz,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(s.uIk("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),s.ekj("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[s.qOj],ngContentSelectors:lz,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"label",0,1)(2,"span",2),s._UZ(3,"span",3)(4,"span",4),s.TgZ(5,"input",5,6),s.NdJ("change",function(o){return i._onInputInteraction(o)})("click",function(o){return i._onInputClick(o)}),s.qZA(),s.TgZ(7,"span",7),s._UZ(8,"span",8),s.qZA()(),s.TgZ(9,"span",9)(10,"span",10),s._uU(11,"\xa0"),s.qZA(),s.Hsn(12),s.qZA()()),2&e){const r=s.MAs(1);s.uIk("for",i.inputId),s.xp6(5),s.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),s.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),s.xp6(2),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",s.VKq(17,az,i._noopAnimations?0:150)),s.xp6(2),s.ekj("mat-radio-label-before","before"==i.labelPosition)}},dependencies:[tg],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),n})(),uL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[F0,qt,qt]}),n})();const gz=["mat-calendar-body",""];function _z(n,t){if(1&n&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function yz(n,t){if(1&n&&(s.TgZ(0,"td",3),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function vz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",7)(1,"button",8),s.NdJ("click",function(r){const u=s.CHM(e).$implicit,h=s.oxw(2);return s.KtG(h._cellClicked(u,r))})("focus",function(r){const u=s.CHM(e).$implicit,h=s.oxw(2);return s.KtG(h._emitActiveDateChange(u,r))}),s.TgZ(2,"div",9),s._uU(3),s.qZA(),s._UZ(4,"div",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.uIk("data-mat-row",r)("data-mat-col",i),s.xp6(1),s.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),s.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),s.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),s.xp6(1),s.hij(" ",e.displayValue," ")}}function bz(n,t){if(1&n&&(s.TgZ(0,"tr",4),s.YNc(1,yz,2,6,"td",5),s.YNc(2,vz,5,47,"td",6),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngIf",0===i&&r._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function wz(n,t){if(1&n&&(s.TgZ(0,"th",5)(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.long),s.xp6(2),s.Oqu(e.narrow)}}const Cz=["*"];function Dz(n,t){}function Ez(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("_userSelection",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._dateSelected(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function Sz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("monthSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._monthSelectedInYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"month"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Iz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("yearSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"year"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Mz(n,t){}const Tz=["button"];function Az(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"path",4),s.qZA())}const xz=[[["","matDatepickerToggleIcon",""]]],kz=["[matDatepickerToggleIcon]"];let oC=(()=>{class n{constructor(){this.changes=new We.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qk{constructor(t,e,i,r,o={},u=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=u,this.rawValue=h}}let zy=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this.activeDateChange=new s.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(mn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Xk(e,this.startValue,this.endValue)}_isRangeEnd(e){return Jk(e,this.startValue,this.endValue)}_isInRange(e){return eR(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Xk(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const u=this.rows[i-1];o=u&&u[u.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const u=this.rows[i+1];o=u&&u[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return Jk(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return eR(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Xk(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Jk(e,this.previewStart,this.previewEnd)}_isInPreview(e){return eR(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(dL(e)?i=e:dL(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:gz,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(s.YNc(0,_z,3,6,"tr",0),s.YNc(1,bz,3,2,"tr",1)),2&e&&(s.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",i.rows))},dependencies:[Qt,Br,cn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function dL(n){return"TD"===n.nodeName}function Xk(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function Jk(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function eR(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Io{constructor(t,e){this.start=t,this.end=e}}let rp=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new We.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Rz=(()=>{class n extends rp{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ts))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const hL={provide:rp,deps:[[new s.FiY,new s.tp0,rp],ts],useFactory:function Pz(n,t){return n||new Rz(t)}},aM=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let fL=(()=>{class n{constructor(e,i,r,o,u){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=u,this._rerenderSubscription=vi.w0.EMPTY,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Io?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Sn(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let o,u;this._selected instanceof Io?(o=this._getDateInCurrentMonth(this._selected.start),u=this._getDateInCurrentMonth(this._selected.end)):o=u=this._getDateInCurrentMonth(this._selected),(o!==i||u!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Ws(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((u,h)=>({long:u,narrow:i[h]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(u),_=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),b=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new Qk(r+1,i[r],_,h,b,this._getCellCompareValue(u),u))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Io?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(eg,8),s.Y36(ts,8),s.Y36(ys,8),s.Y36(aM,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(zy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,wz,5,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i._weekdays),s.xp6(3),s.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[Br,zy],encapsulation:2,changeDetection:0}),n})(),pL=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=vi.w0.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),mL(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Io?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Sn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-aC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<24;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(u=>this._createCellForYear(u))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-aC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-aC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return aC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Qk(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Io){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(ts,8),s.Y36(ys,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(zy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[zy],encapsulation:2,changeDetection:0}),n})();function mL(n,t,e,i,r){const o=n.getYear(t),u=n.getYear(e),h=gL(n,i,r);return Math.floor((o-h)/24)===Math.floor((u-h)/24)}function aC(n,t,e,i){return function Vz(n,t){return(n%t+t)%t}(n.getYear(t)-gL(n,e,i),24)}function gL(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let _L=(()=>{class n{constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=vi.w0.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Io?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Sn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new Qk(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),u)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Io?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(eg,8),s.Y36(ts,8),s.Y36(ys,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(zy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[zy],encapsulation:2,changeDetection:0}),n})(),Bz=0,Uz=(()=>{class n{constructor(e,i,r,o,u){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+Bz++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-aC(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(o,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):mL(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(oC),s.Y36((0,s.Gpc)(()=>iR)),s.Y36(ts,8),s.Y36(eg,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Cz,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.currentPeriodClicked()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.O4$(),s.TgZ(5,"svg",3),s._UZ(6,"polygon",4),s.qZA()(),s.kcU(),s._UZ(7,"div",5),s.Hsn(8),s.TgZ(9,"button",6),s.NdJ("click",function(){return i.previousClicked()}),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return i.nextClicked()}),s.qZA()()()),2&e&&(s.xp6(2),s.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),s.xp6(1),s.uIk("id",i._buttonDescriptionId),s.xp6(1),s.Oqu(i.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==i.calendar.currentView),s.xp6(4),s.Q6J("disabled",!i.previousEnabled()),s.uIk("aria-label",i.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!i.nextEnabled()),s.uIk("aria-label",i.nextButtonLabel))},dependencies:[na],encapsulation:2,changeDetection:0}),n})(),iR=(()=>{class n{constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this.stateChanges=new We.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Io?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Jf(this.headerComponent||Uz),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){const u=this._getCurrentViewComponent();u&&(this._changeDetectorRef.detectChanges(),u._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Io||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(oC),s.Y36(ts,8),s.Y36(eg,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(s.Gf(fL,5),s.Gf(_L,5),s.Gf(pL,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.monthView=r.first),s.iGM(r=s.CRH())&&(i.yearView=r.first),s.iGM(r=s.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s._Bn([hL]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(s.YNc(0,Dz,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,Ez,1,8,"mat-month-view",2),s.YNc(3,Sz,1,6,"mat-year-view",3),s.YNc(4,Iz,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",i.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},dependencies:[xo,ro,IH,Qm,fL,_L,pL],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const yL={transformPanel:ns("transformPanel",[Rn("void => enter-dropdown",qn("120ms cubic-bezier(0, 0, 0.2, 1)",ng([Et({opacity:0,transform:"scale(1, 0.8)"}),Et({opacity:1,transform:"scale(1, 1)"})]))),Rn("void => enter-dialog",qn("150ms cubic-bezier(0, 0, 0.2, 1)",ng([Et({opacity:0,transform:"scale(0.7)"}),Et({transform:"none",opacity:1})]))),Rn("* => void",qn("100ms linear",Et({opacity:0})))]),fadeInCalendar:ns("fadeInCalendar",[Ln("void",Et({opacity:0})),Ln("enter",Et({opacity:1})),Rn("void => *",qn("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Hz=0;const vL=new s.OlP("mat-datepicker-scroll-strategy"),Gz={provide:vL,deps:[vs],useFactory:function jz(n){return()=>n.scrollStrategies.reposition()}},zz=O0(class{constructor(n){this._elementRef=n}});let $z=(()=>{class n extends zz{constructor(e,i,r,o,u,h){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=u,this._subscriptions=new vi.w0,this._animationDone=new We.x,this._actionsPortal=null,this._closeButtonText=h.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,o=i instanceof Io;if(o&&this._rangeSelectionStrategy){const u=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(u,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(rp),s.Y36(ts),s.Y36(aM,8),s.Y36(oC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&s.Gf(iR,5),2&e){let r;s.iGM(r=s.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&s.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(s.d8E("@transformPanel",i._animationState),s.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[s.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-calendar",1),s.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)}),s.qZA(),s.YNc(2,Mz,0,0,"ng-template",2),s.TgZ(3,"button",3),s.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),s._uU(4),s.qZA()()),2&e){let r;s.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),s.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),s.xp6(1),s.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),s.xp6(1),s.Q6J("cdkPortalOutlet",i._actionsPortal),s.xp6(1),s.ekj("cdk-visually-hidden",!i._closeButtonFocused),s.Q6J("color",i.color||"primary"),s.xp6(1),s.Oqu(i._closeButtonText)}},dependencies:[Qt,na,yH,Qm,iR],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[yL.transformPanel,yL.fadeInCalendar]},changeDetection:0}),n})(),bL=(()=>{class n{constructor(e,i,r,o,u,h,_){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=u,this._dir=h,this._model=_,this._inputStateChanges=vi.w0.EMPTY,this._document=(0,s.f3M)(ee),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this.openedStream=new s.vpe,this.closedStream=new s.vpe,this._opened=!1,this.id="mat-datepicker-"+Hz++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new We.x,this._scrollStrategy=o}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=St(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=St(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=St(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function QU(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}(e)}get opened(){return this._opened}set opened(e){St(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof FP&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=C0(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:o}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(mn(1)).subscribe(()=>{const u=this._document.activeElement;e&&(!u||u===this._document.activeElement||o.nativeElement.contains(u))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Jf($z,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Oy({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const u=o.keyCode;(38===u||40===u||37===u||39===u||33===u||34===u)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(mn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",u="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:u,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:u},{originX:r,originY:u,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:u}])}_getCloseStream(e){return(0,ir.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Yt(i=>27===i.keyCode&&!Ws(i)||this.datepickerInput&&Ws(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vs),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(vL),s.Y36(ts,8),s.Y36(ys,8),s.Y36(rp))},n.\u0275dir=s.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[s.TTD]}),n})(),wL=(()=>{class n extends bL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[s._Bn([hL,{provide:bL,useExisting:n}]),s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class lM{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let qz=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new s.vpe,this.dateInput=new s.vpe,this.stateChanges=new We.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=vi.w0.EMPTY,this._localeSubscription=vi.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!u||this._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),h=this._getMinDate();return!h||!u||this._dateAdapter.compareDate(h,u)<=0?null:{matDatepickerMin:{min:h,actual:u}}},this._maxValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),h=this._getMaxDate();return!h||!u||this._dateAdapter.compareDate(h,u)>=0?null:{matDatepickerMax:{max:h,actual:u}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=St(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new lM(this,this._elementRef.nativeElement)),this.dateChange.emit(new lM(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function Yz(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:o}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new lM(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new lM(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ts,8),s.Y36(eg,8))},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s.TTD]}),n})();const Zz={provide:ia,useExisting:(0,s.Gpc)(()=>cM),multi:!0},Wz={provide:is,useExisting:(0,s.Gpc)(()=>cM),multi:!0};let cM=(()=>{class n extends qz{constructor(e,i,r,o){super(e,i,r),this._formField=o,this._closedSubscription=vi.w0.EMPTY,this._validator=ji.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ts,8),s.Y36(eg,8),s.Y36(RI,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[s._Bn([Zz,Wz,{provide:sL,useExisting:n}]),s.qOj]}),n})(),Kz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),CL=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=vi.w0.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=St(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Le(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Le(),r=this.datepicker?(0,ir.T)(this.datepicker.openedStream,this.datepicker.closedStream):Le();this._stateChanges.unsubscribe(),this._stateChanges=(0,ir.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(oC),s.Y36(s.sBO),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Kz,5),2&e){let o;s.iGM(o=s.CRH())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(Tz,5),2&e){let r;s.iGM(r=s.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._open(o)}),2&e&&(s.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),s.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[s.TTD],ngContentSelectors:kz,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(s.F$t(xz),s.TgZ(0,"button",0,1),s.YNc(2,Az,2,0,"svg",2),s.Hsn(3),s.qZA()),2&e&&(s.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),s.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),s.xp6(2),s.Q6J("ngIf",!i._customIcon))},dependencies:[cn,na],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[oC,Gz],imports:[Vi,V0,Jm,Jx,Ry,qt,Xf]}),n})();function Qz(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter full name"),s.qZA())}function Xz(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter valid mobile number"),s.qZA())}function Jz(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter valid email address "),s.qZA())}function e$(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter valid qualification "),s.qZA())}function t$(n,t){if(1&n&&(s.TgZ(0,"mat-option",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function n$(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Choose valid birthdate"),s.qZA())}let EL=(()=>{class n{constructor(e,i,r){this.fb=e,this.dialogRef=r,this.departments=["Orthopedics","Cardiology","Otorhinolaryngology","Ophthalmology","Psychiatry","Internal medicine","Radiology","Surgery","Pediatrics","Neurology","Urology","Anesthesiology","Nephrology","Neurosurgery","Gastroenterology","Pulmonology","General surgery","Intensive care medicine","Oncology","Pathology","Emergency medicine","Neonatology","Hematology","Pharmacy","Physical medicine and rehabilitation","Vascular surgery","Geriatrics","Gynaecology","Cardiac surgery","Outpatient department","Nuclear medicine","Infectious diseases","Clinical pathology","Intensive care unit","operating room","Casualty department"],this.title=i.title,this.id=i.id,this.name=i.name,this.mobile=i.mobile,this.email=i.email,this.gender=i.gender,this.department=i.department,this.birthdate=i.birthdate,this.qualification=i.qualification,this.buttonName=i.buttonName}ngOnInit(){this.form=this.fb.group({id:[this.id,[]],name:[this.name,[ji.required]],mobile:[this.mobile,[ji.required,ji.maxLength(10),ji.minLength(10)]],email:[this.email,[ji.required,ji.email]],gender:[this.gender,[ji.required]],department:[this.department,[ji.required]],birthdate:[this.birthdate,[ji.required]],qualification:[this.qualification,[ji.required]]})}cancelRegistration(){this.dialogRef.close()}registerDoctor(){this.dialogRef.close(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(LN),s.Y36(L0),s.Y36(ig))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-doctor"]],decls:57,vars:12,consts:[["mat-dialog-tile",""],[3,"formGroup"],["cols","2"],["matInput","","placeholder","Ex. Doctor Name","formControlName","name","required",""],[4,"ngIf"],["matInput","","placeholder","9865452152","formControlName","mobile","required",""],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],["matInput","","placeholder","ex. MBBS","formControlName","qualification","required",""],[1,"me-3"],["aria-label","Select a gender","color","primary","formControlName","gender"],["value","male"],["value","female"],[1,"mt-4"],["formControlName","department","name","department"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","birthdate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled","click"],[3,"value"]],template:function(e,i){if(1&e&&(s.TgZ(0,"h2",0),s._uU(1),s.qZA(),s._UZ(2,"mat-divider"),s.TgZ(3,"mat-dialog-content",1)(4,"mat-grid-list",2)(5,"mat-grid-tile")(6,"div")(7,"mat-form-field")(8,"mat-label"),s._uU(9,"Full name"),s.qZA(),s._UZ(10,"input",3),s.YNc(11,Qz,2,0,"mat-error",4),s.qZA(),s.TgZ(12,"mat-form-field")(13,"mat-label"),s._uU(14,"Mobile number : "),s.qZA(),s._UZ(15,"input",5),s.YNc(16,Xz,2,0,"mat-error",4),s.qZA(),s.TgZ(17,"mat-form-field")(18,"mat-label"),s._uU(19,"Email"),s.qZA(),s._UZ(20,"input",6),s.YNc(21,Jz,2,0,"mat-error",4),s.qZA(),s.TgZ(22,"mat-form-field")(23,"mat-label"),s._uU(24,"Qualification"),s.qZA(),s._UZ(25,"input",7),s.YNc(26,e$,2,0,"mat-error",4),s.qZA()()(),s.TgZ(27,"mat-grid-tile")(28,"div")(29,"mat-label",8),s._uU(30,"Gender : "),s.qZA(),s._UZ(31,"br"),s.TgZ(32,"mat-radio-group",9)(33,"mat-radio-button",10),s._uU(34,"Male"),s.qZA(),s.TgZ(35,"mat-radio-button",11),s._uU(36,"Female"),s.qZA()(),s.TgZ(37,"mat-form-field",12)(38,"mat-label"),s._uU(39,"Department"),s.qZA(),s.TgZ(40,"mat-select",13),s.YNc(41,t$,2,2,"mat-option",14),s.qZA()(),s.TgZ(42,"mat-form-field")(43,"mat-label"),s._uU(44,"Birthdate"),s.qZA(),s._UZ(45,"input",15),s.TgZ(46,"mat-hint"),s._uU(47,"MM/DD/YYYY"),s.qZA(),s._UZ(48,"mat-datepicker-toggle",16)(49,"mat-datepicker",null,17),s.YNc(51,n$,2,0,"mat-error",4),s.qZA()()()()(),s.TgZ(52,"div",18)(53,"button",19),s.NdJ("click",function(){return i.cancelRegistration()}),s._uU(54,"Cancel"),s.qZA(),s.TgZ(55,"button",20),s.NdJ("click",function(){return i.registerDoctor()}),s._uU(56),s.qZA()()),2&e){const r=s.MAs(50);let o,u,h,_,b;s.xp6(1),s.hij(" ",i.title," "),s.xp6(2),s.Q6J("formGroup",i.form),s.xp6(8),s.Q6J("ngIf",(null==(o=i.form.get("name"))?null:o.invalid)||(null==(o=i.form.get("name"))?null:o.dirty)||(null==(o=i.form.get("name"))?null:o.touched)),s.xp6(5),s.Q6J("ngIf",(null==(u=i.form.get("mobile"))?null:u.invalid)||(null==(u=i.form.get("mobile"))?null:u.dirty)||(null==(u=i.form.get("mobile"))?null:u.touched)),s.xp6(5),s.Q6J("ngIf",(null==(h=i.form.get("email"))?null:h.invalid)||(null==(h=i.form.get("email"))?null:h.dirty)||(null==(h=i.form.get("email"))?null:h.touched)),s.xp6(5),s.Q6J("ngIf",(null==(_=i.form.get("qualification"))?null:_.invalid)||(null==(_=i.form.get("qualification"))?null:_.dirty)||(null==(_=i.form.get("qualification"))?null:_.touched)),s.xp6(15),s.Q6J("ngForOf",i.departments),s.xp6(4),s.Q6J("matDatepicker",r),s.xp6(3),s.Q6J("for",r),s.xp6(3),s.Q6J("ngIf",(null==(b=i.form.get("birthdate"))?null:b.invalid)||(null==(b=i.form.get("birthdate"))?null:b.dirty)||(null==(b=i.form.get("birthdate"))?null:b.touched)),s.xp6(4),s.Q6J("disabled",i.form.invalid),s.xp6(1),s.hij(" ",i.buttonName," ")}},dependencies:[Br,cn,na,rC,pF,AI,xI,tL,Yk,vF,Ly,wF,rg,DF,sC,Wk,Kk,Rk,II,wL,cM,CL,H0,_k,yk,W0,og,GI],styles:[".mat-dialog-content[_ngcontent-%COMP%]{width:600px}.mat-grid-list[_ngcontent-%COMP%]{overflow:hidden}.mat-radio-button[_ngcontent-%COMP%]{margin-right:15px}"]}),n})(),i$=(()=>{class n{constructor(e,i){this.dialogRef=i,this.doctorName=e.doctorName,this.title=e.title}ngOnInit(){}close(){this.dialogRef.close()}delete(){this.dialogRef.close(!0)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(L0),s.Y36(ig))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-delete-doctor"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"h1",0),s._uU(1),s.qZA(),s.TgZ(2,"div",1)(3,"p"),s._uU(4),s.qZA()(),s.TgZ(5,"div",2)(6,"button",3),s.NdJ("click",function(){return i.close()}),s._uU(7,"No Thanks"),s.qZA(),s.TgZ(8,"button",4),s.NdJ("click",function(){return i.delete()}),s._uU(9,"Delete"),s.qZA()()),2&e&&(s.xp6(1),s.Oqu(i.title),s.xp6(3),s.hij("Are you sure you want to delete ",i.doctorName," ? "))},dependencies:[na,mF,AI,xI]}),n})(),lC=(()=>{class n{constructor(e){this.afs=e}addDoctor(e){return e.id=this.afs.createId(),this.afs.collection("Doctor/").add(e)}getAllDoctors(){return this.afs.collection("Doctor/").snapshotChanges()}updateDoctor(e){return this.afs.doc("Doctor/"+e.id).update(e)}deleteDoctor(e){return this.afs.doc("Doctor/"+e).delete()}getDoctorById(e){return this.afs.doc("Doctor/"+e).valueChanges()}addPatient(e){return e.patient_id=this.afs.createId(),this.afs.collection("Patient/").add(e)}getAllPatients(){return this.afs.collection("Patient/").snapshotChanges()}updatePatient(e){return this.afs.doc("Patient/"+e.patient_id).update(e)}deletePatient(e){return this.afs.doc("Patient/"+e).delete()}getPatientById(e){return this.afs.doc("Patient/"+e).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(G1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.action())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.data.action)}}function s$(n,t){}const SL=new s.OlP("MatSnackBarData");class uM{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const o$=Math.pow(2,31)-1;class rR{constructor(t,e){this._overlayRef=e,this._afterDismissed=new We.x,this._afterOpened=new We.x,this._onAction=new We.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,o$))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let a$=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(rR),s.Y36(SL))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,r$,3,1,"div",1)),2&e&&(s.xp6(1),s.Oqu(i.data.message),s.xp6(1),s.Q6J("ngIf",i.hasAction))},dependencies:[cn,na],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const l$={snackBarState:ns("state",[Ln("void, hidden",Et({transform:"scale(0.8)",opacity:0})),Ln("visible",Et({transform:"scale(1)",opacity:1})),Rn("* => visible",qn("150ms cubic-bezier(0, 0, 0.2, 1)")),Rn("* => void, * => hidden",qn("75ms cubic-bezier(0.4, 0.0, 1, 1)",Et({opacity:0})))])};let c$=(()=>{class n extends CI{constructor(e,i,r,o,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new We.x,this._onExit=new We.x,this._onEnter=new We.x,this._animationState="void",this.attachDomPortal=h=>{this._assertNotAttached();const _=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),_},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(mn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Hi),s.Y36(uM))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(Qm,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),u$=(()=>{class n extends c${_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,s$,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",i._live)("role",i._role))},dependencies:[Qm],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[l$.snackBarState]}}),n})(),sR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Jm,Ry,Vi,V0,qt,qt]}),n})();const IL=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function d$(){return new uM}});let h$=(()=>{class n{constructor(e,i,r,o,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:uM,useValue:i}]}),u=new Jf(this.snackBarContainerComponent,i.viewContainerRef,o),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r={...new uM,...this._defaultConfig,...i},o=this._createOverlay(r),u=this._attachSnackBarContainer(o,r),h=new rR(u,o);if(e instanceof s.Rgc){const _=new k0(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(_)}else{const _=this._createInjector(r,h),b=new Jf(e,void 0,_),D=u.attachComponentPortal(b);h.instance=D.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Bt(o.detachments())).subscribe(_=>{o.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Oy;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:rR,useValue:i},{provide:SL,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vs),s.LFG(Qx),s.LFG(s.zs3),s.LFG(D0),s.LFG(n,12),s.LFG(IL))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),oR=(()=>{class n extends h${constructor(e,i,r,o,u,h){super(e,i,r,o,u,h),this.simpleSnackBarComponent=a$,this.snackBarContainerComponent=u$,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vs),s.LFG(Qx),s.LFG(s.zs3),s.LFG(D0),s.LFG(n,12),s.LFG(IL))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:sR}),n})();const f$=["*",[["mat-card-footer"]]],p$=["*","mat-card-footer"];let dM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),ML=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),m$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),hM=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:p$,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(f$),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),TL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qt,qt]}),n})();class g${}class sp{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof sp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new sp;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof sp?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class _${encodeKey(t){return AL(t)}encodeValue(t){return AL(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const v$=/%(\d[a-f0-9])/gi,b$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function AL(n){return encodeURIComponent(n).replace(v$,(t,e)=>b$[e]??t)}function fM(n){return`${n}`}class op{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new _$,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function y$(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],_=e.get(u)||[];_.push(h),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(fM):[fM(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new op({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(fM(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(fM(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class w${constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function xL(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function kL(n){return typeof Blob<"u"&&n instanceof Blob}function RL(n){return typeof FormData<"u"&&n instanceof FormData}class cC{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function C$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new sp),this.context||(this.context=new w$),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new op,this.urlWithParams=e}serializeBody(){return null===this.body?null:xL(this.body)||kL(this.body)||RL(this.body)||function D$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof op?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||RL(this.body)?null:kL(this.body)?this.body.type||null:xL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof op?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,b=t.params||this.params;const D=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((M,O)=>M.set(O,t.setHeaders[O]),_)),t.setParams&&(b=Object.keys(t.setParams).reduce((M,O)=>M.set(O,t.setParams[O]),b)),new cC(e,i,o,{params:b,headers:_,context:D,reportProgress:h,responseType:r,withCredentials:u})}}var rs=(()=>((rs=rs||{})[rs.Sent=0]="Sent",rs[rs.UploadProgress=1]="UploadProgress",rs[rs.ResponseHeader=2]="ResponseHeader",rs[rs.DownloadProgress=3]="DownloadProgress",rs[rs.Response=4]="Response",rs[rs.User=5]="User",rs))();class aR extends class E${constructor(t,e=200,i="OK"){this.headers=t.headers||new sp,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=rs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new aR({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function lR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let PL=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof cC)o=e;else{let _,b;_=r.headers instanceof sp?r.headers:new sp(r.headers),r.params&&(b=r.params instanceof op?r.params:new op({fromObject:r.params})),o=new cC(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Le(o).pipe(Yf(_=>this.handler.handle(_)));if(e instanceof cC||"events"===r.observe)return u;const h=u.pipe(Yt(_=>_ instanceof aR));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,Qe.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,Qe.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,Qe.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,Qe.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new op).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,lR(r,i))}post(e,i,r={}){return this.request("POST",e,lR(r,i))}put(e,i,r={}){return this.request("PUT",e,lR(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(g$))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const I$=["*"];let pM;function uC(n){return function M$(){if(void 0===pM&&(pM=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(pM=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return pM}()?.createHTML(n)||n}function FL(n){return Error(`Unable to find icon with the name "${n}"`)}function NL(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function LL(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class cg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let mM=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new cg(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(s.q3G.HTML,r);if(!u)throw LL(r);const h=uC(u);return this._addSvgIconConfig(e,i,new cg("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new cg(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw LL(i);const u=uC(o);return this._addSvgIconSetConfig(e,new cg("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw NL(e);const r=this._cachedIconsByUrl.get(i);return r?Le(gM(r)):this._loadSvgIconFromConfig(new cg(e,null)).pipe((0,rr.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,Qe.U)(o=>gM(o)))}getNamedSvgIcon(e,i=""){const r=VL(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):vy(FL(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Le(gM(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Qe.U)(i=>gM(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Le(r):TF(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Kd(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),Le(null)})))).pipe((0,Qe.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw FL(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,rr.b)(i=>e.svgText=i),(0,Qe.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Le(null):this._fetchIcon(e).pipe((0,rr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(uC("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(uC("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function T$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!u)throw NL(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const _=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,Qe.U)(b=>uC(b)),HS(()=>this._inProgressUrlFetches.delete(u)),(0,UA.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(VL(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return x$(o)?new cg(o.url,null,o.options):new cg(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(PL,8),s.LFG(Da),s.LFG(ee,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gM(n){return n.cloneNode(!0)}function VL(n,t){return n+":"+t}function x$(n){return!(!n.url||!n.options)}const k$=O0(class{constructor(n){this._elementRef=n}}),R$=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),O$=new s.OlP("mat-icon-location",{providedIn:"root",factory:function P$(){const n=(0,s.f3M)(ee),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),BL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],F$=BL.map(n=>`[${n}]`).join(", "),N$=/^url\(['"]?#(.*?)['"]?\)$/;let _M=(()=>{class n extends k${constructor(e,i,r,o,u,h){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=vi.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=St(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(F$),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)BL.forEach(u=>{const h=i[o],_=h.getAttribute(u),b=_?_.match(N$):null;if(b){let D=r.get(h);D||(D=[],r.set(h,D)),D.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(mn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(mM),s.$8M("aria-hidden"),s.Y36(O$),s.Y36(s.qLn),s.Y36(R$,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:I$,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),UL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qt,qt]}),n})();function HL(n,t){return t?e=>po(t.pipe(mn(1),function L$(){return(0,pi.e)((n,t)=>{n.subscribe((0,In.x)(t,oP.Z))})}()),e.pipe(HL(n))):(0,Xr.z)((e,i)=>n(e,i).pipe(mn(1),US(e)))}function jL(n,t=ds.z){const e=TP(n,t);return HL(()=>e)}const V$=["mat-menu-item",""];function B$(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",2),s._UZ(1,"polygon",3),s.qZA())}const GL=["*"];function U$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationDone(r))}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),s.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const yM={transformMenu:ns("transformMenu",[Ln("void",Et({opacity:0,transform:"scale(0.8)"})),Rn("void => enter",qn("120ms cubic-bezier(0, 0, 0.2, 1)",Et({opacity:1,transform:"scale(1)"}))),Rn("* => void",qn("100ms 25ms linear",Et({opacity:0})))]),fadeInItems:ns("fadeInItems",[Ln("showing",Et({opacity:1})),Rn("void => *",[Et({opacity:0}),qn("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},H$=new s.OlP("MatMenuContent"),cR=new s.OlP("MAT_MENU_PANEL"),j$=ep(Py(class{}));let $y=(()=>{class n extends j${constructor(e,i,r,o,u){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new We.x,this._focused=new We.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ee),s.Y36(Ul),s.Y36(cR,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(s.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),s.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:V$,ngContentSelectors:GL,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(s.F$t(),s.Hsn(0),s._UZ(1,"div",0),s.YNc(2,B$,2,0,"svg",1)),2&e&&(s.xp6(1),s.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),s.xp6(1),s.Q6J("ngIf",i._triggersSubmenu))},dependencies:[cn,tg],encapsulation:2,changeDetection:0}),n})();const zL=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function G$(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let z$=0,dC=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._tabSubscription=vi.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new We.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+z$++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=St(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=St(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new _P(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Sn(this._directDescendantItems),ti(e=>(0,ir.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Sn(this._directDescendantItems),ti(i=>(0,ir.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Ws(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(mn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Sn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(zL),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,H$,5),s.Suo(r,$y,5),s.Suo(r,$y,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.lazyContent=o.first),s.iGM(o=s.CRH())&&(i._allItems=o),s.iGM(o=s.CRH())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),uR=(()=>{class n extends dC{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(zL),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:cR,useExisting:n}]),s.qOj],ngContentSelectors:GL,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,U$,3,6,"ng-template"))},dependencies:[Qt],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[yM.transformMenu,yM.fadeInItems]},changeDetection:0}),n})();const $L=new s.OlP("mat-menu-scroll-strategy"),q$={provide:$L,deps:[vs],useFactory:function $$(n){return()=>n.scrollStrategies.reposition()}},qL=Ty({passive:!0});let Y$=(()=>{class n{constructor(e,i,r,o,u,h,_,b,D){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=_,this._focusMonitor=b,this._ngZone=D,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=vi.w0.EMPTY,this._hoverSubscription=vi.w0.EMPTY,this._menuCloseSubscription=vi.w0.EMPTY,this._handleTouchStart=M=>{Kx(M)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof dC?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,qL),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,qL),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof dC&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Bt(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof dC?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Yt(r=>"void"===r.toState),mn(1),Bt(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Oy({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,u)):e.setPositionClasses(o,u)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[u,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[_,b]=[u,h],[D,M]=[r,o],O=0;if(this.triggersSubmenu()){if(M=r="before"===e.xPosition?"start":"end",o=D="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const V=this._parentMaterialMenu.items.first;this._parentInnerPadding=V?V._getHostElement().offsetTop:0}O="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(_="top"===u?"bottom":"top",b="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:_,overlayX:D,overlayY:u,offsetY:O},{originX:o,originY:_,overlayX:M,overlayY:u,offsetY:O},{originX:r,originY:b,overlayX:D,overlayY:h,offsetY:-O},{originX:o,originY:b,overlayX:M,overlayY:h,offsetY:-O}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Le(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Yt(u=>u!==this._menuItemInstance),Yt(()=>this._menuOpen)):Le();return(0,ir.T)(e,r,o,i)}_handleMousedown(e){Wx(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Yt(e=>e===this._menuItemInstance&&!e.disabled),jL(0,tk)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof dC&&this.menu._isAnimating?this.menu._animationDone.pipe(mn(1),jL(0,tk),Bt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new k0(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vs),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36($L),s.Y36(cR,8),s.Y36($y,10),s.Y36(ys,8),s.Y36(Ul),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&s.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),dR=(()=>{class n extends Y${}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[s.qOj]}),n})(),YL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[q$],imports:[Vi,qt,F0,Jm,Xf,qt]}),n})();function Z$(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1," Name "),s.qZA())}function W$(n,t){if(1&n&&(s.TgZ(0,"td",23),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.name," ")}}function K$(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1," Mobile "),s.qZA())}function Q$(n,t){if(1&n&&(s.TgZ(0,"td",23),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.mobile," ")}}function X$(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1," Email "),s.qZA())}function J$(n,t){if(1&n&&(s.TgZ(0,"td",23),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.email," ")}}function eq(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1," Department "),s.qZA())}function tq(n,t){if(1&n&&(s.TgZ(0,"td",23),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.department," ")}}function nq(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1," Gender "),s.qZA())}function iq(n,t){if(1&n&&(s.TgZ(0,"td",23),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.gender," ")}}function rq(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1," Action "),s.qZA())}function sq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",23)(1,"button",24)(2,"mat-icon"),s._uU(3,"more_vert"),s.qZA()(),s.TgZ(4,"mat-menu",null,25)(6,"button",26),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.viewDoctor(o))}),s.TgZ(7,"mat-icon"),s._uU(8,"open_in_new"),s.qZA(),s.TgZ(9,"span"),s._uU(10,"View"),s.qZA()(),s.TgZ(11,"button",26),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.editDoctor(o))}),s.TgZ(12,"mat-icon"),s._uU(13,"edit"),s.qZA(),s.TgZ(14,"span"),s._uU(15,"Edit"),s.qZA()(),s.TgZ(16,"button",26),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.deleteDoctor(o))}),s.TgZ(17,"mat-icon"),s._uU(18,"delete"),s.qZA(),s.TgZ(19,"span"),s._uU(20,"Delete"),s.qZA()()()()}if(2&n){const e=s.MAs(5);s.xp6(1),s.Q6J("matMenuTriggerFor",e)}}function oq(n,t){1&n&&s._UZ(0,"tr",27)}function aq(n,t){1&n&&s._UZ(0,"tr",28)}function lq(n,t){if(1&n&&(s.TgZ(0,"tr",29)(1,"td",30),s._uU(2),s.qZA()()),2&n){s.oxw();const e=s.MAs(15);s.xp6(2),s.hij('No data matching the filter "',e.value,'"')}}const cq=function(){return[5,10,25,100]};let uq=(()=>{class n{constructor(e,i,r){this.dialog=e,this.dataApi=i,this._snackBar=r,this.doctorsArr=[],this.displayedColumns=["name","mobile","email","department","gender","action"]}ngOnInit(){this.getAllDoctors()}addDoctor(){const e=new Hl;e.disableClose=!0,e.autoFocus=!0,e.data={title:"Register doctor",buttonName:"Register"},this.dialog.open(EL,e).afterClosed().subscribe(r=>{r&&(this.dataApi.addDoctor(r),this.openSnackBar("Registration of doctor is successful.","OK"))})}editDoctor(e){if(null==e.id||null==e.name)return;const i=new Hl;i.disableClose=!0,i.autoFocus=!0,i.data=e,i.data.title="Edit doctor",i.data.buttonName="Update",i.data.birthdate=e.birthdate.toDate(),this.dialog.open(EL,i).afterClosed().subscribe(o=>{o&&(this.dataApi.updateDoctor(o),this.openSnackBar("Doctor is updated successfully.","OK"))})}deleteDoctor(e){const i=new Hl;i.disableClose=!1,i.autoFocus=!0,i.data={title:"Delete doctor",doctorName:e.name},this.dialog.open(i$,i).afterClosed().subscribe(o=>{o&&(this.dataApi.deleteDoctor(e.id),this.openSnackBar("Doctor deleted successfully.","OK"))})}getAllDoctors(){this.dataApi.getAllDoctors().subscribe(e=>{this.doctorsArr=e.map(i=>{const r=i.payload.doc.data();return r.id=i.payload.doc.id,r}),this.dataSource=new qk(this.doctorsArr),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}viewDoctor(e){window.open("/dashboard/doctor/"+e.id,"_blank")}openSnackBar(e,i){this._snackBar.open(e,i)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ny),s.Y36(lC),s.Y36(oR))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-doctor"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Uy,5),s.Gf(Pk,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first)}},decls:40,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-sm-6","col-md-4","mt-3"],[1,"add-doc","text-center",3,"click"],["color","primary",1,"mt-4",2,"font-weight","700"],["appearance","standard"],["matInput","","placeholder","Ex. Doctor Name",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobile"],["matColumnDef","email"],["matColumnDef","department"],["matColumnDef","gender"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3),s.NdJ("click",function(){return i.addDoctor()}),s.TgZ(4,"mat-card-content"),s._uU(5," Add Doctor "),s._UZ(6,"br"),s.TgZ(7,"mat-icon"),s._uU(8,"group_add"),s.qZA()()()()(),s.TgZ(9,"h2",4),s._uU(10,"Doctors Information"),s.qZA(),s.TgZ(11,"mat-form-field",5)(12,"mat-label"),s._uU(13,"Filter"),s.qZA(),s.TgZ(14,"input",6,7),s.NdJ("keyup",function(o){return i.applyFilter(o)}),s.qZA()(),s.TgZ(16,"div",8)(17,"table",9),s.ynx(18,10),s.YNc(19,Z$,2,0,"th",11),s.YNc(20,W$,2,1,"td",12),s.BQk(),s.ynx(21,13),s.YNc(22,K$,2,0,"th",11),s.YNc(23,Q$,2,1,"td",12),s.BQk(),s.ynx(24,14),s.YNc(25,X$,2,0,"th",11),s.YNc(26,J$,2,1,"td",12),s.BQk(),s.ynx(27,15),s.YNc(28,eq,2,0,"th",11),s.YNc(29,tq,2,1,"td",12),s.BQk(),s.ynx(30,16),s.YNc(31,nq,2,0,"th",11),s.YNc(32,iq,2,1,"td",12),s.BQk(),s.ynx(33,17),s.YNc(34,rq,2,0,"th",11),s.YNc(35,sq,21,1,"td",12),s.BQk(),s.YNc(36,oq,1,0,"tr",18),s.YNc(37,aq,1,0,"tr",19),s.YNc(38,lq,3,1,"tr",20),s.qZA(),s._UZ(39,"mat-paginator",21),s.qZA()()),2&e&&(s.xp6(17),s.Q6J("dataSource",i.dataSource),s.xp6(19),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns),s.xp6(2),s.Q6J("pageSizeOptions",s.DdM(4,cq)))},dependencies:[hM,dM,na,_M,Ly,rg,sC,tM,eC,nM,tC,J0,iM,nC,iC,rM,sM,oM,Uy,uR,$y,dR],styles:[".mat-card-content[_ngcontent-%COMP%]{color:#3f51b5}.mat-card[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scale(1.03);cursor:pointer}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})();function dq(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter full name"),s.qZA())}function hq(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter valid mobile number"),s.qZA())}function fq(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Enter valid prescription "),s.qZA())}function pq(n,t){if(1&n&&(s.TgZ(0,"mat-option",20),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.doctor_id),s.xp6(1),s.hij(" ",e.doctor_name," ")}}function mq(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Choose valid admission date"),s.qZA())}let hR=(()=>{class n{constructor(e,i,r,o){this.fb=e,this.dialogRef=r,this.dataApi=o,this.allDoctors=[],this.title=i.title,this.patient_id=i.patient_id,this.patient_name=i.patient_name,this.mobile=i.mobile,this.gender=i.gender,this.admission_date=i.admission_date,this.prescription=i.prescription,this.buttonName=i.buttonName,this.doctor_id=i.doctor_id,this.doctor_name=i.doctor_name}ngOnInit(){this.getAllDoctors(),this.form=this.fb.group({patient_id:[this.patient_id,[]],patient_name:[this.patient_name,[ji.required]],mobile:[this.mobile,[ji.required,ji.maxLength(10),ji.minLength(10)]],gender:[this.gender,[ji.required]],doctor_id:[this.doctor_id,[ji.required]],doctor_name:[this.doctor_name,[]],admission_date:[this.admission_date,[ji.required]],prescription:[this.prescription,[ji.required]]})}getAllDoctors(){this.dataApi.getAllDoctors().subscribe(e=>{this.allDoctors=e.map(i=>({doctor_name:i.payload.doc.data().name,doctor_id:i.payload.doc.id}))})}cancelRegistration(){this.dialogRef.close()}registerPatient(){var e=this;return(0,ve.Z)(function*(){e.form.value.doctor_name=yield e.getDoctorName(e.form.value.id),e.dialogRef.close(e.form.value)})()}getDoctorName(e){for(let i=0;i<this.allDoctors.length;i++)if(this.allDoctors[i].doctor_id==e)return this.allDoctors[i].doctor_name;return""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(LN),s.Y36(L0),s.Y36(ig),s.Y36(lC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-patient"]],decls:52,vars:11,consts:[["mat-dialog-tile",""],[3,"formGroup"],["cols","2"],["matInput","","placeholder","Ex. Patient Name","formControlName","patient_name","required",""],[4,"ngIf"],["matInput","","placeholder","9865452152","formControlName","mobile","required",""],["matInput","","placeholder","ex. medicines","formControlName","prescription","required",""],[1,"me-3"],["aria-label","Select a gender","color","primary","formControlName","gender"],["value","male"],["value","female"],[1,"mt-4"],["formControlName","doctor_id","name","doctor_id"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","admission_date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled","click"],[3,"value"]],template:function(e,i){if(1&e&&(s.TgZ(0,"h2",0),s._uU(1),s.qZA(),s._UZ(2,"mat-divider"),s.TgZ(3,"mat-dialog-content",1)(4,"mat-grid-list",2)(5,"mat-grid-tile")(6,"div")(7,"mat-form-field")(8,"mat-label"),s._uU(9,"Full name"),s.qZA(),s._UZ(10,"input",3),s.YNc(11,dq,2,0,"mat-error",4),s.qZA(),s.TgZ(12,"mat-form-field")(13,"mat-label"),s._uU(14,"Mobile number : "),s.qZA(),s._UZ(15,"input",5),s.YNc(16,hq,2,0,"mat-error",4),s.qZA(),s.TgZ(17,"mat-form-field")(18,"mat-label"),s._uU(19,"Prescription"),s.qZA(),s._UZ(20,"input",6),s.YNc(21,fq,2,0,"mat-error",4),s.qZA()()(),s.TgZ(22,"mat-grid-tile")(23,"div")(24,"mat-label",7),s._uU(25,"Gender : "),s.qZA(),s._UZ(26,"br"),s.TgZ(27,"mat-radio-group",8)(28,"mat-radio-button",9),s._uU(29,"Male"),s.qZA(),s.TgZ(30,"mat-radio-button",10),s._uU(31,"Female"),s.qZA()(),s.TgZ(32,"mat-form-field",11)(33,"mat-label"),s._uU(34,"Doctor"),s.qZA(),s.TgZ(35,"mat-select",12),s.YNc(36,pq,2,2,"mat-option",13),s.qZA()(),s.TgZ(37,"mat-form-field")(38,"mat-label"),s._uU(39,"Admission Date"),s.qZA(),s._UZ(40,"input",14),s.TgZ(41,"mat-hint"),s._uU(42,"MM/DD/YYYY"),s.qZA(),s._UZ(43,"mat-datepicker-toggle",15)(44,"mat-datepicker",null,16),s.YNc(46,mq,2,0,"mat-error",4),s.qZA()()()()(),s.TgZ(47,"div",17)(48,"button",18),s.NdJ("click",function(){return i.cancelRegistration()}),s._uU(49,"Cancel"),s.qZA(),s.TgZ(50,"button",19),s.NdJ("click",function(){return i.registerPatient()}),s._uU(51),s.qZA()()),2&e){const r=s.MAs(45);let o,u,h,_;s.xp6(1),s.hij(" ",i.title," "),s.xp6(2),s.Q6J("formGroup",i.form),s.xp6(8),s.Q6J("ngIf",(null==(o=i.form.get("patient_name"))?null:o.invalid)||(null==(o=i.form.get("patient_name"))?null:o.dirty)||(null==(o=i.form.get("patient_name"))?null:o.touched)),s.xp6(5),s.Q6J("ngIf",(null==(u=i.form.get("mobile"))?null:u.invalid)||(null==(u=i.form.get("mobile"))?null:u.dirty)||(null==(u=i.form.get("mobile"))?null:u.touched)),s.xp6(5),s.Q6J("ngIf",(null==(h=i.form.get("prescription"))?null:h.invalid)||(null==(h=i.form.get("prescription"))?null:h.dirty)||(null==(h=i.form.get("prescription"))?null:h.touched)),s.xp6(15),s.Q6J("ngForOf",i.allDoctors),s.xp6(4),s.Q6J("matDatepicker",r),s.xp6(3),s.Q6J("for",r),s.xp6(3),s.Q6J("ngIf",(null==(_=i.form.get("admission_date"))?null:_.invalid)||(null==(_=i.form.get("admission_date"))?null:_.dirty)||(null==(_=i.form.get("admission_date"))?null:_.touched)),s.xp6(4),s.Q6J("disabled",i.form.invalid),s.xp6(1),s.hij(" ",i.buttonName," ")}},dependencies:[Br,cn,na,rC,pF,AI,xI,tL,Yk,vF,Ly,wF,rg,DF,sC,Wk,Kk,Rk,II,wL,cM,CL,H0,_k,yk,W0,og,GI],styles:[".mat-dialog-content[_ngcontent-%COMP%]{width:600px}.mat-grid-list[_ngcontent-%COMP%]{overflow:hidden}.mat-radio-button[_ngcontent-%COMP%]{margin-right:15px}"]}),n})();function gq(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Name "),s.qZA())}function _q(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.patient_name," ")}}function yq(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Mobile "),s.qZA())}function vq(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.mobile," ")}}function bq(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Gender "),s.qZA())}function wq(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.gender," ")}}function Cq(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Gender "),s.qZA())}function Dq(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.prescription," ")}}function Eq(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Action "),s.qZA())}function Sq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",22)(1,"button",23)(2,"mat-icon"),s._uU(3,"more_vert"),s.qZA()(),s.TgZ(4,"mat-menu",null,24)(6,"button",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.viewPatient(o))}),s.TgZ(7,"mat-icon"),s._uU(8,"open_in_new"),s.qZA(),s.TgZ(9,"span"),s._uU(10,"View"),s.qZA()(),s.TgZ(11,"button",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.editPatient(o))}),s.TgZ(12,"mat-icon"),s._uU(13,"edit"),s.qZA(),s.TgZ(14,"span"),s._uU(15,"Edit"),s.qZA()()()()}if(2&n){const e=s.MAs(5);s.xp6(1),s.Q6J("matMenuTriggerFor",e)}}function Iq(n,t){1&n&&s._UZ(0,"tr",26)}function Mq(n,t){1&n&&s._UZ(0,"tr",27)}function Tq(n,t){if(1&n&&(s.TgZ(0,"tr",28)(1,"td",29),s._uU(2),s.qZA()()),2&n){s.oxw();const e=s.MAs(35);s.xp6(2),s.hij('No data matching the filter "',e.value,'"')}}const Aq=function(){return[5,10,25,100]};let xq=(()=>{class n{constructor(e,i,r,o){this.route=e,this.dataApi=i,this.dialog=r,this._snackBar=o,this.allPatients=[],this.displayedColumns=["name","mobile","gender","prescription","action"],this.id=e.snapshot.paramMap.get("id")}ngOnInit(){this.getDoctorById(),this.getAllPatientsForDoctor()}getDoctorById(){this.dataApi.getDoctorById(this.id).subscribe(e=>{this.doctorObj=e})}getAllPatientsForDoctor(){this.dataApi.getAllPatients().subscribe(e=>{this.allPatients=e.map(i=>{const r=i.payload.doc.data();if(r.doctor_id==this.id)return r.patient_id=i.payload.doc.id,r}),this.allPatients=this.allPatients.filter(i=>null!=i),this.dataSource=new qk(this.allPatients),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}viewPatient(e){window.open("/dashboard/patient/"+e.patient_id,"_blank")}editPatient(e){if(null==e.patient_id||null==e.patient_name)return;const i=new Hl;i.disableClose=!0,i.autoFocus=!0,i.data=e,i.data.title="Edit patient",i.data.buttonName="Update",i.data.admission_date=e.admission_date.toDate(),console.log(i.data),this.dialog.open(hR,i).afterClosed().subscribe(o=>{o&&(this.dataApi.updatePatient(o),this.openSnackBar("Patient is updated successfully.","OK"))})}openSnackBar(e,i){this._snackBar.open(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Jd),s.Y36(lC),s.Y36(Ny),s.Y36(oR))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-view-doctor"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Uy,5),s.Gf(Pk,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first)}},decls:57,vars:11,consts:[["color","primary",1,"m-3",2,"font-weight","700"],[1,"m-3"],[1,"row","pt-3"],[1,"col-md-6"],["color","primary",1,"mt-4",2,"font-weight","700"],["appearance","standard"],["matInput","","placeholder","Ex. code logic",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobile"],["matColumnDef","gender"],["matColumnDef","prescription"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Doctor Information"),s.qZA(),s.TgZ(2,"mat-card",1)(3,"mat-card-title"),s._uU(4),s.qZA(),s.TgZ(5,"mat-card-subtitle"),s._uU(6),s.qZA(),s._UZ(7,"mat-divider"),s.TgZ(8,"div",2)(9,"div",3)(10,"mat-card-content")(11,"span"),s._uU(12," Email : "),s.qZA(),s._uU(13),s._UZ(14,"br"),s.TgZ(15,"span"),s._uU(16," Mobile : "),s.qZA(),s._uU(17),s._UZ(18,"br"),s.qZA()(),s.TgZ(19,"div",3)(20,"mat-card-content")(21,"span"),s._uU(22," Gender : "),s.qZA(),s._uU(23),s._UZ(24,"br"),s.TgZ(25,"span"),s._uU(26," Department : "),s.qZA(),s._uU(27),s.qZA()()()(),s.TgZ(28,"div",1)(29,"h2",4),s._uU(30,"Patient Information"),s.qZA(),s.TgZ(31,"mat-form-field",5)(32,"mat-label"),s._uU(33,"Filter"),s.qZA(),s.TgZ(34,"input",6,7),s.NdJ("keyup",function(o){return i.applyFilter(o)}),s.qZA()(),s.TgZ(36,"div",8)(37,"table",9),s.ynx(38,10),s.YNc(39,gq,2,0,"th",11),s.YNc(40,_q,2,1,"td",12),s.BQk(),s.ynx(41,13),s.YNc(42,yq,2,0,"th",11),s.YNc(43,vq,2,1,"td",12),s.BQk(),s.ynx(44,14),s.YNc(45,bq,2,0,"th",11),s.YNc(46,wq,2,1,"td",12),s.BQk(),s.ynx(47,15),s.YNc(48,Cq,2,0,"th",11),s.YNc(49,Dq,2,1,"td",12),s.BQk(),s.ynx(50,16),s.YNc(51,Eq,2,0,"th",11),s.YNc(52,Sq,16,1,"td",12),s.BQk(),s.YNc(53,Iq,1,0,"tr",17),s.YNc(54,Mq,1,0,"tr",18),s.YNc(55,Tq,3,1,"tr",19),s.qZA(),s._UZ(56,"mat-paginator",20),s.qZA()()),2&e&&(s.xp6(4),s.hij(" ",null==i.doctorObj?null:i.doctorObj.name," "),s.xp6(2),s.hij(" ",null==i.doctorObj?null:i.doctorObj.qualification," "),s.xp6(7),s.hij(" ",i.doctorObj.email," "),s.xp6(4),s.hij(" ",i.doctorObj.mobile," "),s.xp6(6),s.hij(" ",i.doctorObj.gender," "),s.xp6(4),s.hij(" ",i.doctorObj.department," "),s.xp6(10),s.Q6J("dataSource",i.dataSource),s.xp6(16),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns),s.xp6(2),s.Q6J("pageSizeOptions",s.DdM(10,Aq)))},dependencies:[hM,dM,ML,m$,na,_M,rC,Ly,rg,sC,tM,eC,nM,tC,J0,iM,nC,iC,rM,sM,oM,Uy,uR,$y,dR],styles:["span[_ngcontent-%COMP%]{font-size:larger;font-weight:300}.mat-card-title[_ngcontent-%COMP%]{font-weight:300!important;font-size:25px}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})(),kq=(()=>{class n{constructor(e,i){this.dialogRef=i,console.log(e),this.patientName=e.patientName,this.title=e.title}ngOnInit(){}close(){this.dialogRef.close()}delete(){this.dialogRef.close(!0)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(L0),s.Y36(ig))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-delete-patient"]],decls:13,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"h1",0),s._uU(1),s.qZA(),s.TgZ(2,"div",1)(3,"p"),s._uU(4,"Are you sure you want to delete "),s.TgZ(5,"b"),s._uU(6),s.qZA(),s._uU(7," ? "),s.qZA()(),s.TgZ(8,"div",2)(9,"button",3),s.NdJ("click",function(){return i.close()}),s._uU(10,"No Thanks"),s.qZA(),s.TgZ(11,"button",4),s.NdJ("click",function(){return i.delete()}),s._uU(12,"Delete"),s.qZA()()),2&e&&(s.xp6(1),s.Oqu(i.title),s.xp6(5),s.Oqu(i.patientName))},dependencies:[na,mF,AI,xI]}),n})();function Rq(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Name "),s.qZA())}function Oq(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.patient_name," ")}}function Pq(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Mobile "),s.qZA())}function Fq(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.mobile," ")}}function Nq(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Doctor "),s.qZA())}function Lq(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.xp6(1),s.hij(" ",i.getDoctorName(e.doctor_id)," ")}}function Vq(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Gender "),s.qZA())}function Bq(n,t){if(1&n&&(s.TgZ(0,"td",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.gender," ")}}function Uq(n,t){1&n&&(s.TgZ(0,"th",21),s._uU(1," Action "),s.qZA())}function Hq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",22)(1,"button",23)(2,"mat-icon"),s._uU(3,"more_vert"),s.qZA()(),s.TgZ(4,"mat-menu",null,24)(6,"button",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.viewPatient(o))}),s.TgZ(7,"mat-icon"),s._uU(8,"open_in_new"),s.qZA(),s.TgZ(9,"span"),s._uU(10,"View"),s.qZA()(),s.TgZ(11,"button",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.editPatient(o))}),s.TgZ(12,"mat-icon"),s._uU(13,"edit"),s.qZA(),s.TgZ(14,"span"),s._uU(15,"Edit"),s.qZA()(),s.TgZ(16,"button",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.deletePatient(o))}),s.TgZ(17,"mat-icon"),s._uU(18,"delete"),s.qZA(),s.TgZ(19,"span"),s._uU(20,"Delete"),s.qZA()()()()}if(2&n){const e=s.MAs(5);s.xp6(1),s.Q6J("matMenuTriggerFor",e)}}function jq(n,t){1&n&&s._UZ(0,"tr",26)}function Gq(n,t){1&n&&s._UZ(0,"tr",27)}function zq(n,t){if(1&n&&(s.TgZ(0,"tr",28)(1,"td",29),s._uU(2),s.qZA()()),2&n){s.oxw();const e=s.MAs(15);s.xp6(2),s.hij('No data matching the filter "',e.value,'"')}}const $q=function(){return[5,10,25,100]},qq=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"dashboard",children:[{path:"",redirectTo:"patient",pathMatch:"full"},{path:"patient",component:(()=>{class n{constructor(e,i,r){this.dialog=e,this.dataApi=i,this._snackBar=r,this.allPatients=[],this.allDoctors=[],this.displayedColumns=["name","mobile","doctor","gender","action"]}ngOnInit(){this.getAllPatients(),this.getAllDoctors()}addPatient(){const e=new Hl;e.disableClose=!0,e.autoFocus=!0,e.data={title:"Register Patient",buttonName:"Register"},this.dialog.open(hR,e).afterClosed().subscribe(r=>{r&&(this.dataApi.addPatient(r),this.openSnackBar("Registration of patient is successful.","OK"))})}getAllPatients(){this.dataApi.getAllPatients().subscribe(e=>{this.allPatients=e.map(i=>{const r=i.payload.doc.data();return r.patient_id=i.payload.doc.id,r}),this.dataSource=new qk(this.allPatients),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}getAllDoctors(){this.dataApi.getAllDoctors().subscribe(e=>{this.allDoctors=e.map(i=>{const r=i.payload.doc.data();return r.id=i.payload.doc.id,r})})}getDoctorName(e){let i="";return this.allDoctors.forEach(r=>{r.id==e&&(i=r.name)}),i}viewPatient(e){window.open("/dashboard/patient/"+e.patient_id,"_blank")}editPatient(e){if(null==e.patient_id||null==e.patient_name)return;const i=new Hl;i.disableClose=!0,i.autoFocus=!0,i.data=e,i.data.title="Edit patient",i.data.buttonName="Update",i.data.admission_date=e.admission_date.toDate(),console.log(i.data),this.dialog.open(hR,i).afterClosed().subscribe(o=>{o&&(this.dataApi.updatePatient(o),this.openSnackBar("Patient is updated successfully.","OK"))})}deletePatient(e){const i=new Hl;i.disableClose=!1,i.autoFocus=!0,i.data={title:"Delete patient",patientName:e.patient_name},this.dialog.open(kq,i).afterClosed().subscribe(o=>{o&&(console.log(e),this.dataApi.deletePatient(e.patient_id),this.openSnackBar("Patient deleted successfully.","OK"))})}openSnackBar(e,i){this._snackBar.open(e,i)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ny),s.Y36(lC),s.Y36(oR))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-patient"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Uy,5),s.Gf(Pk,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first)}},decls:37,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-sm-6","col-md-4","mt-3"],[1,"add-doc","text-center",3,"click"],["color","primary",1,"mt-4",2,"font-weight","700"],["appearance","standard"],["matInput","","placeholder","Ex. Patient Name",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobile"],["matColumnDef","doctor"],["matColumnDef","gender"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3),s.NdJ("click",function(){return i.addPatient()}),s.TgZ(4,"mat-card-content"),s._uU(5," Add Patient "),s._UZ(6,"br"),s.TgZ(7,"mat-icon"),s._uU(8,"group_add"),s.qZA()()()()(),s.TgZ(9,"h2",4),s._uU(10,"Patient Information"),s.qZA(),s.TgZ(11,"mat-form-field",5)(12,"mat-label"),s._uU(13,"Filter"),s.qZA(),s.TgZ(14,"input",6,7),s.NdJ("keyup",function(o){return i.applyFilter(o)}),s.qZA()(),s.TgZ(16,"div",8)(17,"table",9),s.ynx(18,10),s.YNc(19,Rq,2,0,"th",11),s.YNc(20,Oq,2,1,"td",12),s.BQk(),s.ynx(21,13),s.YNc(22,Pq,2,0,"th",11),s.YNc(23,Fq,2,1,"td",12),s.BQk(),s.ynx(24,14),s.YNc(25,Nq,2,0,"th",11),s.YNc(26,Lq,2,1,"td",12),s.BQk(),s.ynx(27,15),s.YNc(28,Vq,2,0,"th",11),s.YNc(29,Bq,2,1,"td",12),s.BQk(),s.ynx(30,16),s.YNc(31,Uq,2,0,"th",11),s.YNc(32,Hq,21,1,"td",12),s.BQk(),s.YNc(33,jq,1,0,"tr",17),s.YNc(34,Gq,1,0,"tr",18),s.YNc(35,zq,3,1,"tr",19),s.qZA(),s._UZ(36,"mat-paginator",20),s.qZA()()),2&e&&(s.xp6(17),s.Q6J("dataSource",i.dataSource),s.xp6(16),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns),s.xp6(2),s.Q6J("pageSizeOptions",s.DdM(4,$q)))},dependencies:[hM,dM,na,_M,Ly,rg,sC,tM,eC,nM,tC,J0,iM,nC,iC,rM,sM,oM,Uy,uR,$y,dR],styles:[".mat-card-content[_ngcontent-%COMP%]{color:#3f51b5}.mat-card[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scale(1.03);cursor:pointer}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})()},{path:"doctor",component:uq},{path:"doctor/:id",component:xq},{path:"patient/:id",component:(()=>{class n{constructor(e,i){this.route=e,this.dataApi=i,this.patient_id=e.snapshot.paramMap.get("id")}ngOnInit(){this.getPatientById()}getPatientById(){this.dataApi.getPatientById(this.patient_id).subscribe(e=>{this.patientObj=e,this.patientObj.admission_date=this.patientObj.admission_date.toDate(),console.log(e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Jd),s.Y36(lC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-view-patient"]],decls:32,vars:8,consts:[["color","primary",1,"mt-3",2,"font-weight","700"],[1,"m-3"],[1,"pb-2"],[1,"row","pt-3"],[1,"col-md-6"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Patient Information"),s.qZA(),s.TgZ(2,"mat-card",1)(3,"mat-card-title",2),s._uU(4," Patient Name : "),s.TgZ(5,"b"),s._uU(6),s.qZA()(),s._UZ(7,"mat-divider"),s.TgZ(8,"div",3)(9,"div",4)(10,"mat-card-content")(11,"span"),s._uU(12," Doctor Name : "),s.qZA(),s._uU(13),s._UZ(14,"br"),s.TgZ(15,"span"),s._uU(16," Mobile : "),s.qZA(),s._uU(17),s._UZ(18,"br"),s.TgZ(19,"span"),s._uU(20," Prescription : "),s.qZA(),s._uU(21),s.qZA()(),s.TgZ(22,"div",4)(23,"mat-card-content")(24,"span"),s._uU(25," Gender : "),s.qZA(),s._uU(26),s._UZ(27,"br"),s.TgZ(28,"span"),s._uU(29," Adminssion Date : "),s.qZA(),s._uU(30),s.ALo(31,"date"),s.qZA()()()()),2&e&&(s.xp6(6),s.Oqu(null==i.patientObj?null:i.patientObj.patient_name),s.xp6(7),s.hij(" ",i.patientObj.doctor_name," "),s.xp6(4),s.hij(" ",i.patientObj.mobile," "),s.xp6(4),s.hij(" ",i.patientObj.prescription," "),s.xp6(5),s.hij(" ",i.patientObj.gender," "),s.xp6(4),s.hij(" ",s.lcZ(31,6,i.patientObj.admission_date)," "))},dependencies:[hM,dM,ML,rC,hp],styles:["span[_ngcontent-%COMP%]{font-size:larger;font-weight:300;margin-right:15px}.mat-card-title[_ngcontent-%COMP%]{font-weight:300!important;font-size:25px}"]}),n})()}]}];let Yq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[eP.forRoot(qq),eP]}),n})();const Zq=["*",[["mat-toolbar-row"]]],Wq=["*","mat-toolbar-row"],Kq=O0(class{constructor(n){this._elementRef=n}});let Qq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Xq=(()=>{class n extends Kq{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Hi),s.Y36(ee))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Qq,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:Wq,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(Zq),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),ZL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qt,qt]}),n})();const vM=["*"],Jq=["content"];function e4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function t4(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const n4=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],r4=["mat-drawer","mat-drawer-content","*"];function s4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function o4(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content"),s.Hsn(1,2),s.qZA())}const a4=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],l4=["mat-sidenav","mat-sidenav-content","*"],WL={transformDrawer:ns("transform",[Ln("open, open-instant",Et({transform:"none",visibility:"visible"})),Ln("void",Et({"box-shadow":"none",visibility:"hidden"})),Rn("void => open-instant",qn("0ms")),Rn("void <=> open, open-instant => void",qn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},u4=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function d4(){return!1}}),fR=new s.OlP("MAT_DRAWER_CONTAINER");let bM=(()=>{class n extends A0{constructor(e,i,r,o,u){super(r,o,u),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>QL)),s.Y36(s.SBq),s.Y36(T0),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:A0,useExisting:n}]),s.qOj],ngContentSelectors:vM,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),KL=(()=>{class n{constructor(e,i,r,o,u,h,_,b){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=u,this._interactivityChecker=h,this._doc=_,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new We.x,this._animationEnd=new We.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(Yt(D=>D),(0,Qe.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Yt(D=>D.fromState!==D.toState&&0===D.toState.indexOf("open")),US(void 0)),this._closedStream=this.openedChange.pipe(Yt(D=>!D),(0,Qe.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Yt(D=>D.fromState!==D.toState&&"void"===D.toState),US(void 0)),this._destroyed=new We.x,this.onPositionChanged=new s.vpe,this._modeChanged=new We.x,this.openedChange.subscribe(D=>{D?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{ky(this._elementRef.nativeElement,"keydown").pipe(Yt(D=>27===D.keyCode&&!this.disableClose&&!Ws(D)),Bt(this._destroyed)).subscribe(D=>this._ngZone.run(()=>{this.close(),D.stopPropagation(),D.preventDefault()}))}),this._animationEnd.pipe(Go((D,M)=>D.fromState===M.fromState&&D.toState===M.toState)).subscribe(D=>{const{fromState:M,toState:O}=D;(0===O.indexOf("open")&&"void"===M||"void"===O&&0===M.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=St(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=St(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(St(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(mn(1)).subscribe(u=>o(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(S0),s.Y36(Ul),s.Y36(Hi),s.Y36(s.R0b),s.Y36(E0),s.Y36(ee,8),s.Y36(fR,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(Jq,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:vM,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[A0],encapsulation:2,data:{animation:[WL.transformDrawer]},changeDetection:0}),n})(),QL=(()=>{class n{constructor(e,i,r,o,u,h=!1,_){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=_,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new We.x,this._doCheckSubject=new We.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new We.x,e&&e.change.pipe(Bt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(Bt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=St(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:St(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Sn(this._allDrawers),Bt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Sn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(mI(10),Bt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Yt(i=>i.fromState!==i.toState),Bt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Bt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Bt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(mn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Bt((0,ir.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ys,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(x0),s.Y36(u4),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,bM,5),s.Suo(r,KL,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(bM,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:fR,useExisting:n}])],ngContentSelectors:r4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(n4),s.YNc(0,e4,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,t4,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[cn,bM],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),pR=(()=>{class n extends bM{constructor(e,i,r,o,u){super(e,i,r,o,u)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>JL)),s.Y36(s.SBq),s.Y36(T0),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:A0,useExisting:n}]),s.qOj],ngContentSelectors:vM,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),XL=(()=>{class n extends KL{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=St(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Ks(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Ks(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(s.uIk("align",null),s.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:vM,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[A0],encapsulation:2,data:{animation:[WL.transformDrawer]},changeDetection:0}),n})(),JL=(()=>{class n extends QL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,pR,5),s.Suo(r,XL,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:fR,useExisting:n}]),s.qOj],ngContentSelectors:l4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(a4),s.YNc(0,s4,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,o4,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[cn,pR],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),eV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Vi,qt,Xf,Xf,qt]}),n})();const tV=["*"],f4=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],p4=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],v4=Py(ep(class{})),b4=ep(class{}),w4=new s.OlP("MatList"),nV=new s.OlP("MatNavList");let C4=(()=>{class n extends v4{constructor(){super(...arguments),this._stateChanges=new We.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[s._Bn([{provide:nV,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:tV,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),iV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),rV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),D4=(()=>{class n extends b4{constructor(e,i,r,o){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new We.x,this._disabled=!1,this._isInteractiveList=!!(r||o&&"action-list"===o._getListType()),this._list=r||o;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Bt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=St(e)}ngAfterContentInit(){!function XP(n,t,e="mat"){n.changes.pipe(Sn(n)).subscribe(({length:i})=>{P0(t,`${e}-2-line`,!1),P0(t,`${e}-3-line`,!1),P0(t,`${e}-multi-line`,!1),2===i||3===i?P0(t,`${e}-${i}-line`,!0):i>3&&P0(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(nV,8),s.Y36(w4,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,iV,5),s.Suo(r,rV,5),s.Suo(r,QP,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._avatar=o.first),s.iGM(o=s.CRH())&&(i._icon=o.first),s.iGM(o=s.CRH())&&(i._lines=o)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[s.qOj],ngContentSelectors:p4,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(s.F$t(f4),s.TgZ(0,"span",0),s._UZ(1,"span",1),s.Hsn(2),s.TgZ(3,"span",2),s.Hsn(4,1),s.qZA(),s.Hsn(5,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[tg],encapsulation:2,changeDetection:0}),n})(),oV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[SI,F0,qt,uk,Vi,SI,qt,uk,Y6]}),n})();function A4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){s.CHM(e),s.oxw();const r=s.MAs(2);return s.KtG(r.toggle())}),s.TgZ(1,"mat-icon",8),s._uU(2,"menu"),s.qZA()()}}let x4=(()=>{class n{constructor(e){this.breakpointObserver=e,this.isHandset$=this.breakpointObserver.observe(qx_Handset).pipe((0,Qe.U)(i=>i.matches),zw())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(D0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sidebar"]],decls:25,vars:12,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLinkActive","active","routerLink","dashboard/patient"],["mat-list-item","","routerLinkActive","active","routerLink","dashboard/doctor"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),s.ALo(3,"async"),s.ALo(4,"async"),s.ALo(5,"async"),s.TgZ(6,"mat-toolbar"),s._uU(7,"Menu"),s.qZA(),s._UZ(8,"mat-divider"),s.TgZ(9,"mat-nav-list")(10,"a",3)(11,"mat-icon"),s._uU(12,"personal_injury"),s.qZA(),s._uU(13," Patient"),s.qZA(),s.TgZ(14,"a",4)(15,"mat-icon"),s._uU(16,"diversity_1"),s.qZA(),s._uU(17," Doctor"),s.qZA()()(),s.TgZ(18,"mat-sidenav-content")(19,"mat-toolbar",5),s.YNc(20,A4,3,0,"button",6),s.ALo(21,"async"),s.TgZ(22,"span"),s._uU(23,"Hospital Management System"),s.qZA()(),s._UZ(24,"router-outlet"),s.qZA()()),2&e&&(s.xp6(1),s.Q6J("mode",s.lcZ(4,6,i.isHandset$)?"over":"side")("opened",!1===s.lcZ(5,8,i.isHandset$)),s.uIk("role",s.lcZ(3,4,i.isHandset$)?"dialog":"navigation"),s.xp6(19),s.Q6J("ngIf",s.lcZ(21,10,i.isHandset$)))},dependencies:[cn,QS,aI,qO,Xq,na,XL,JL,pR,_M,C4,D4,rC,zl],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.mat-icon[_ngcontent-%COMP%]{margin-right:15px}.mat-list-item[_ngcontent-%COMP%]{color:#3f51b5}.active[_ngcontent-%COMP%]{background-color:#3f51b5!important;color:#fff!important;border-radius:5px}"]}),n})(),k4=(()=>{class n{constructor(){this.title="hospital-management"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-sidebar")(1,"router-outlet")},dependencies:[QS,x4]}),n})();function aV(n){return new s.vHH(3e3,!1)}function hY(){return typeof window<"u"&&typeof window.document<"u"}function mR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ap(n){switch(n.length){case 0:return new N0;case 1:return n[0];default:return new dF(n)}}function lV(n,t,e,i,r=new Map,o=new Map){const u=[],h=[];let _=-1,b=null;if(i.forEach(D=>{const M=D.get("offset"),O=M==_,V=O&&b||new Map;D.forEach((U,J)=>{let le=J,je=U;if("offset"!==J)switch(le=t.normalizePropertyName(le,u),je){case"!":je=r.get(J);break;case th:je=o.get(J);break;default:je=t.normalizeStyleValue(J,le,je,u)}V.set(le,je)}),O||h.push(V),b=V,_=M}),u.length)throw function eY(n){return new s.vHH(3502,!1)}();return h}function gR(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&_R(e,"start",n)));break;case"done":n.onDone(()=>i(e&&_R(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&_R(e,"destroy",n)))}}function _R(n,t,e){const o=yR(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function yR(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function sa(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function cV(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let vR=(n,t)=>!1,uV=(n,t,e)=>[],dV=null;function bR(n){const t=n.parentNode||n.host;return t===dV?null:t}(mR()||typeof Element<"u")&&(hY()?(dV=(()=>document.documentElement)(),vR=(n,t)=>{for(;t;){if(t===n)return!0;t=bR(t)}return!1}):vR=(n,t)=>n.contains(t),uV=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let ug=null,hV=!1;const fV=vR,pV=uV;let mV=(()=>{class n{validateStyleProperty(e){return function pY(n){ug||(ug=function mY(){return typeof document<"u"?document.body:null}()||{},hV=!!ug.style&&"WebkitAppearance"in ug.style);let t=!0;return ug.style&&!function fY(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ug.style,!t&&hV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ug.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return fV(e,i)}getParentElement(e){return bR(e)}query(e,i,r){return pV(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],_){return new N0(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),wR=(()=>{class n{}return n.NOOP=new mV,n})();const CR="ng-enter",wM="ng-leave",CM="ng-trigger",DM=".ng-trigger",_V="ng-animating",DR=".ng-animating";function rh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ER(parseFloat(t[1]),t[2])}function ER(n,t){return"s"===t?1e3*n:n}function EM(n,t,e){return n.hasOwnProperty("duration")?n:function yY(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(aV()),{duration:0,delay:0,easing:""};r=ER(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(o=ER(parseFloat(_),h[4]));const b=h[5];b&&(u=b)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push(function R4(){return new s.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function O4(){return new s.vHH(3101,!1)}()),h=!0),h&&t.splice(_,0,aV())}return{duration:r,delay:o,easing:u}}(n,t,e)}function hC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function yV(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function lp(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function bV(n,t,e){return e?t+":"+e+";":""}function wV(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=bV(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=bV(0,CY(e),n.style[e]));n.setAttribute("style",t)}function Su(n,t,e){n.style&&(t.forEach((i,r)=>{const o=IR(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),mR()&&wV(n))}function dg(n,t){n.style&&(t.forEach((e,i)=>{const r=IR(i);n.style[r]=""}),mR()&&wV(n))}function fC(n){return Array.isArray(n)?1==n.length?n[0]:cF(n):n}const SR=new RegExp("{{\\s*(.+?)\\s*}}","g");function CV(n){let t=[];if("string"==typeof n){let e;for(;e=SR.exec(n);)t.push(e[1]);SR.lastIndex=0}return t}function pC(n,t,e){const i=n.toString(),r=i.replace(SR,(o,u)=>{let h=t[u];return null==h&&(e.push(function F4(n){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function SM(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const wY=/-+([a-z0-9])/g;function IR(n){return n.replace(wY,(...t)=>t[1].toUpperCase())}function CY(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oa(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function N4(n){return new s.vHH(3004,!1)}()}}function DV(n,t){return window.getComputedStyle(n)[t]}function TY(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function AY(n,t,e){if(":"==n[0]){const _=function xY(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function K4(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function W4(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],u=i[3];t.push(EV(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(EV(u,r))}(i,e,t)):e.push(n),e}const AM=new Set(["true","1"]),xM=new Set(["false","0"]);function EV(n,t){const e=AM.has(n)||xM.has(n),i=AM.has(t)||xM.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?AM.has(n):xM.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?AM.has(t):xM.has(t)),u&&h}}const kY=new RegExp("s*:selfs*,?","g");function MR(n,t,e,i){return new RY(n).build(t,e,i)}class RY{constructor(t){this._driver=t}build(t,e,i){const r=new FY(e);return this._resetContextStyleTimingState(r),oa(this,fC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function V4(){return new s.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,b=_.name;b.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,o.push(this.visitState(_,e))}),_.name=b}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function B4(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{CV(_).forEach(b=>{u.hasOwnProperty(b)||o.add(b)})})}),o.size&&(SM(o.values()),e.errors.push(function U4(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=oa(this,fC(t.animation),e);return{type:1,matchers:TY(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:hg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>oa(this,i,e)),options:hg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=oa(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:hg(t.options)}}visitAnimate(t,e){const i=function LY(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return TR(EM(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=TR(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=EM(e,t);return TR(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Et({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const b={};i.easing&&(b.easing=i.easing),u=Et(b)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===th?i.push(h):e.errors.push(new s.vHH(3002,!1)):i.push(yV(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,_)=>{const b=e.collectedStyles.get(e.currentQuerySelector),D=b.get(_);let M=!0;D&&(o!=r&&o>=D.startTime&&r<=D.endTime&&(e.errors.push(function j4(n,t,e,i,r){return new s.vHH(3010,!1)}()),M=!1),o=D.startTime),M&&b.set(_,{startTime:o,endTime:r}),e.options&&function bY(n,t,e){const i=t.params||{},r=CV(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function P4(n){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function G4(){return new s.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,_=!1,b=0;const D=t.steps.map(je=>{const tt=this._makeStyleAst(je,e);let bt=null!=tt.offset?tt.offset:function NY(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(tt.styles),lt=0;return null!=bt&&(o++,lt=tt.offset=bt),_=_||lt<0||lt>1,h=h||lt<b,b=lt,u.push(lt),tt});_&&e.errors.push(function z4(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function $4(){return new s.vHH(3200,!1)}());const M=t.steps.length;let O=0;o>0&&o<M?e.errors.push(function q4(){return new s.vHH(3202,!1)}()):0==o&&(O=1/(M-1));const V=M-1,U=e.currentTime,J=e.currentAnimateTimings,le=J.duration;return D.forEach((je,tt)=>{const bt=O>0?tt==V?1:O*tt:u[tt],lt=bt*le;e.currentTime=U+J.delay+lt,J.duration=lt,this._validateStyleAst(je,e),je.offset=bt,i.styles.push(je)}),i}visitReference(t,e){return{type:8,animation:oa(this,fC(t.animation),e),options:hg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:hg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:hg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function OY(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(kY,"")),n=n.replace(/@\*/g,DM).replace(/@\w+/g,e=>DM+"-"+e.slice(1)).replace(/:animating/g,DR),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,sa(e.collectedStyles,e.currentQuerySelector,new Map);const h=oa(this,fC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:hg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Y4(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:EM(t.timings,e.errors,!0);return{type:12,animation:oa(this,fC(t.animation),e),timings:i,options:null}}}class FY{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hg(n){return n?(n=hC(n)).params&&(n.params=function PY(n){return n?hC(n):null}(n.params)):n={},n}function TR(n,t,e){return{duration:n,delay:t,easing:e}}function AR(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class kM{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const UY=new RegExp(":enter","g"),jY=new RegExp(":leave","g");function xR(n,t,e,i,r,o=new Map,u=new Map,h,_,b=[]){return(new GY).buildKeyframes(n,t,e,i,r,o,u,h,_,b)}class GY{buildKeyframes(t,e,i,r,o,u,h,_,b,D=[]){b=b||new kM;const M=new kR(t,e,b,r,o,D,[]);M.options=_;const O=_.delay?rh(_.delay):0;M.currentTimeline.delayNextStep(O),M.currentTimeline.setStyles([u],null,M.errors,_),oa(this,i,M);const V=M.timelines.filter(U=>U.containsAnimation());if(V.length&&h.size){let U;for(let J=V.length-1;J>=0;J--){const le=V[J];if(le.element===e){U=le;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,M.errors,_)}return V.length?V.map(U=>U.buildKeyframes()):[AR(e,[],[],[],0,O,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const u="number"==typeof o?o:rh(pC(o,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?rh(i.duration):null,h=null!=i.delay?rh(i.delay):null;return 0!==u&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,u,h);o=Math.max(o,b.duration+b.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),oa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=RM);const u=rh(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>oa(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?rh(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),oa(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return EM(e.params?pC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*o),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?rh(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=RM);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((b,D)=>{e.currentQueryIndex=D;const M=e.createSubContext(t.options,b);o&&M.delayNextStep(o),b===e.element&&(_=M.currentTimeline),oa(this,t.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const D=e.currentTimeline;_&&D.delayNextStep(_);const M=D.currentTime;oa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const RM={};class kR{constructor(t,e,i,r,o,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=RM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new OM(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=rh(i.duration)),null!=i.delay&&(r.delay=rh(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=pC(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new kR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=RM,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new zY(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(UY,"."+this._enterClassName)).replace(jY,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),h.push(...b)}return!o&&0==h.length&&u.push(function Z4(n){return new s.vHH(3014,!1)}()),h}}class OM{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new OM(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||th),this._currentKeyframe.set(e,th);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},u=function $Y(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,th)}else lp(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,_]of u){const b=pC(_,o,i);this._pendingStyles.set(h,b),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??th),this._updateStyle(h,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const b=lp(h,new Map,this._backFill);b.forEach((D,M)=>{"!"===D?t.add(M):D===th&&e.add(M)}),i||b.set("offset",_/this.duration),r.push(b)});const o=t.size?SM(t.values()):[],u=e.size?SM(e.values()):[];if(i){const h=r[0],_=new Map(h);h.set("offset",0),_.set("offset",1),r=[h,_]}return AR(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class zY extends OM{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,_=lp(t[0]);_.set("offset",0),o.push(_);const b=lp(t[0]);b.set("offset",MV(h)),o.push(b);const D=t.length-1;for(let M=1;M<=D;M++){let O=lp(t[M]);const V=O.get("offset");O.set("offset",MV((e+V*i)/u)),o.push(O)}i=u,e=0,r="",t=o}return AR(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function MV(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class RR{}const qY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class YY extends RR{normalizePropertyName(t,e){return IR(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(qY.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function L4(n,t){return new s.vHH(3005,!1)}())}return u+o}}function TV(n,t,e,i,r,o,u,h,_,b,D,M,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:b,postStyleProps:D,totalTime:M,errors:O}}const OR={};class AV{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function ZY(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,u,h,_,b,D){const M=[],O=this.ast.options&&this.ast.options.params||OR,U=this.buildStyles(i,h&&h.params||OR,M),J=_&&_.params||OR,le=this.buildStyles(r,J,M),je=new Set,tt=new Map,bt=new Map,lt="void"===r,Rt={params:WY(J,O),delay:this.ast.options?.delay},Ot=D?[]:xR(t,e,this.ast.animation,o,u,U,le,Rt,b,M);let dn=0;if(Ot.forEach(sh=>{dn=Math.max(sh.duration+sh.delay,dn)}),M.length)return TV(e,this._triggerName,i,r,lt,U,le,[],[],tt,bt,dn,M);Ot.forEach(sh=>{const oh=sh.element,$V=sa(tt,oh,new Set);sh.preStyleProps.forEach(fg=>$V.add(fg));const gC=sa(bt,oh,new Set);sh.postStyleProps.forEach(fg=>gC.add(fg)),oh!==e&&je.add(oh)});const Xs=SM(je.values());return TV(e,this._triggerName,i,r,lt,U,le,Ot,Xs,tt,bt,dn)}}function WY(n,t){const e=hC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class KY{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=hC(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=pC(u,r,e));const _=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,_,u,e),i.set(_,u)})}),i}}class XY{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new KY(r.style,r.options&&r.options.params||{},i))}),xV(this.states,"true","1"),xV(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new AV(t,r,this.states))}),this.fallbackTransition=function JY(n,t,e){return new AV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function xV(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const eZ=new kM;class tZ{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=MR(this._driver,e,i,[]);if(i.length)throw function tY(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=lV(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=xR(this._driver,e,o,CR,wM,new Map,new Map,i,eZ,r),u.forEach(D=>{const M=sa(h,D.element,new Map);D.postStyleProps.forEach(O=>M.set(O,null))})):(r.push(function nY(){return new s.vHH(3300,!1)}()),u=[]),r.length)throw function iY(n){return new s.vHH(3504,!1)}();h.forEach((D,M)=>{D.forEach((O,V)=>{D.set(V,this._driver.computeStyle(M,V,th))})});const b=ap(u.map(D=>{const M=h.get(D.element);return this._buildPlayer(D,new Map,M)}));return this._playersById.set(t,b),b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function rY(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=yR(e,"","","");return gR(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const kV="ng-animate-queued",PR="ng-animate-disabled",oZ=[],RV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ya="__ng_removed";class FR{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function dZ(n){return n??null}(i?t.value:t),i){const o=hC(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const mC="void",NR=new FR(mC);class lZ{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Za(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function sY(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function oY(n){return new s.vHH(3303,!1)}();if(!function hZ(n){return"start"==n||"done"==n}(i))throw function aY(n,t){return new s.vHH(3400,!1)}();const o=sa(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=sa(this._engine.statesByElement,t,new Map);return h.has(e)||(Za(t,CM),Za(t,CM+"-"+e),h.set(e,NR)),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(u);_>=0&&o.splice(_,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function lY(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new LR(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Za(t,CM),Za(t,CM+"-"+e),this._engine.statesByElement.set(t,h=new Map));let _=h.get(e);const b=new FR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),h.set(e,b),_||(_=NR),b.value!==mC&&_.value===b.value){if(!function mZ(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(_.params,b.params)){const J=[],le=o.matchStyles(_.value,_.params,J),je=o.matchStyles(b.value,b.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{dg(t,le),Su(t,je)})}return}const O=sa(this._engine.playersByElement,t,[]);O.forEach(J=>{J.namespaceId==this.id&&J.triggerName==e&&J.queued&&J.destroy()});let V=o.matchTransition(_.value,b.value,t,b.params),U=!1;if(!V){if(!r)return;V=o.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:V,fromState:_,toState:b,player:u,isFallbackTransition:U}),U||(Za(t,kV),u.onStart(()=>{qy(t,kV)})),u.onDone(()=>{let J=this.players.indexOf(u);J>=0&&this.players.splice(J,1);const le=this._engine.playersByElement.get(t);if(le){let je=le.indexOf(u);je>=0&&le.splice(je,1)}}),this.players.push(u),O.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,DM,!0);i.forEach(r=>{if(r[Ya])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((_,b)=>{if(u.set(b,_.value),this._triggers.has(b)){const D=this.trigger(t,b,mC,r);D&&h.push(D)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&ap(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,b=i.get(u)||NR,D=new FR(mC),M=new LR(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:b,toState:D,player:M,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ya];(!o||o===RV)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Za(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=yR(o,i.triggerName,i.fromState.value,i.toState.value);_._data=t,gR(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class cZ{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new lZ(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const _=r.get(h);if(_){const b=i.indexOf(_);i.splice(b+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(PM(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!PM(e))return;const o=e[Ya];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Za(t,PR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),qy(t,PR))}removeNode(t,e,i,r){if(PM(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Ya]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return PM(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,DM,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,DR,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ap(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ya];if(e&&e.setForRemoval){if(t[Ya]=RV,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(PR)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Za(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ap(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function cY(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new kM,r=[],o=new Map,u=[],h=new Map,_=new Map,b=new Map,D=new Set;this.disabledNodes.forEach(pt=>{D.add(pt);const It=this.driver.query(pt,".ng-animate-queued",!0);for(let Pt=0;Pt<It.length;Pt++)D.add(It[Pt])});const M=this.bodyNode,O=Array.from(this.statesByElement.keys()),V=FV(O,this.collectedEnterElements),U=new Map;let J=0;V.forEach((pt,It)=>{const Pt=CR+J++;U.set(It,Pt),pt.forEach(gn=>Za(gn,Pt))});const le=[],je=new Set,tt=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const It=this.collectedLeaveElements[pt],Pt=It[Ya];Pt&&Pt.setForRemoval&&(le.push(It),je.add(It),Pt.hasAnimation?this.driver.query(It,".ng-star-inserted",!0).forEach(gn=>je.add(gn)):tt.add(It))}const bt=new Map,lt=FV(O,Array.from(je));lt.forEach((pt,It)=>{const Pt=wM+J++;bt.set(It,Pt),pt.forEach(gn=>Za(gn,Pt))}),t.push(()=>{V.forEach((pt,It)=>{const Pt=U.get(It);pt.forEach(gn=>qy(gn,Pt))}),lt.forEach((pt,It)=>{const Pt=bt.get(It);pt.forEach(gn=>qy(gn,Pt))}),le.forEach(pt=>{this.processLeaveNode(pt)})});const Rt=[],Ot=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(e).forEach(Pt=>{const gn=Pt.player,Pr=Pt.element;if(Rt.push(gn),this.collectedEnterElements.length){const bs=Pr[Ya];if(bs&&bs.setForMove){if(bs.previousTriggersValues&&bs.previousTriggersValues.has(Pt.triggerName)){const pg=bs.previousTriggersValues.get(Pt.triggerName),Wa=this.statesByElement.get(Pt.element);if(Wa&&Wa.has(Pt.triggerName)){const LM=Wa.get(Pt.triggerName);LM.value=pg,Wa.set(Pt.triggerName,LM)}}return void gn.destroy()}}const Iu=!M||!this.driver.containsElement(M,Pr),aa=bt.get(Pr),cp=U.get(Pr),xi=this._buildInstruction(Pt,i,cp,aa,Iu);if(xi.errors&&xi.errors.length)return void Ot.push(xi);if(Iu)return gn.onStart(()=>dg(Pr,xi.fromStyles)),gn.onDestroy(()=>Su(Pr,xi.toStyles)),void r.push(gn);if(Pt.isFallbackTransition)return gn.onStart(()=>dg(Pr,xi.fromStyles)),gn.onDestroy(()=>Su(Pr,xi.toStyles)),void r.push(gn);const ZV=[];xi.timelines.forEach(bs=>{bs.stretchStartingKeyframe=!0,this.disabledNodes.has(bs.element)||ZV.push(bs)}),xi.timelines=ZV,i.append(Pr,xi.timelines),u.push({instruction:xi,player:gn,element:Pr}),xi.queriedElements.forEach(bs=>sa(h,bs,[]).push(gn)),xi.preStyleProps.forEach((bs,pg)=>{if(bs.size){let Wa=_.get(pg);Wa||_.set(pg,Wa=new Set),bs.forEach((LM,UR)=>Wa.add(UR))}}),xi.postStyleProps.forEach((bs,pg)=>{let Wa=b.get(pg);Wa||b.set(pg,Wa=new Set),bs.forEach((LM,UR)=>Wa.add(UR))})});if(Ot.length){const pt=[];Ot.forEach(It=>{pt.push(function uY(n,t){return new s.vHH(3505,!1)}())}),Rt.forEach(It=>It.destroy()),this.reportError(pt)}const dn=new Map,Xs=new Map;u.forEach(pt=>{const It=pt.element;i.has(It)&&(Xs.set(It,It),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,dn))}),r.forEach(pt=>{const It=pt.element;this._getPreviousPlayers(It,!1,pt.namespaceId,pt.triggerName,null).forEach(gn=>{sa(dn,It,[]).push(gn),gn.destroy()})});const sh=le.filter(pt=>LV(pt,_,b)),oh=new Map;PV(oh,this.driver,tt,b,th).forEach(pt=>{LV(pt,_,b)&&sh.push(pt)});const gC=new Map;V.forEach((pt,It)=>{PV(gC,this.driver,new Set(pt),_,"!")}),sh.forEach(pt=>{const It=oh.get(pt),Pt=gC.get(pt);oh.set(pt,new Map([...Array.from(It?.entries()??[]),...Array.from(Pt?.entries()??[])]))});const fg=[],qV=[],YV={};u.forEach(pt=>{const{element:It,player:Pt,instruction:gn}=pt;if(i.has(It)){if(D.has(It))return Pt.onDestroy(()=>Su(It,gn.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(gn.totalTime),void r.push(Pt);let Pr=YV;if(Xs.size>1){let aa=It;const cp=[];for(;aa=aa.parentNode;){const xi=Xs.get(aa);if(xi){Pr=xi;break}cp.push(aa)}cp.forEach(xi=>Xs.set(xi,Pr))}const Iu=this._buildAnimation(Pt.namespaceId,gn,dn,o,gC,oh);if(Pt.setRealPlayer(Iu),Pr===YV)fg.push(Pt);else{const aa=this.playersByElement.get(Pr);aa&&aa.length&&(Pt.parentPlayer=ap(aa)),r.push(Pt)}}else dg(It,gn.fromStyles),Pt.onDestroy(()=>Su(It,gn.toStyles)),qV.push(Pt),D.has(It)&&r.push(Pt)}),qV.forEach(pt=>{const It=o.get(pt.element);if(It&&It.length){const Pt=ap(It);pt.setRealPlayer(Pt)}}),r.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<le.length;pt++){const It=le[pt],Pt=It[Ya];if(qy(It,wM),Pt&&Pt.hasAnimation)continue;let gn=[];if(h.size){let Iu=h.get(It);Iu&&Iu.length&&gn.push(...Iu);let aa=this.driver.query(It,DR,!0);for(let cp=0;cp<aa.length;cp++){let xi=h.get(aa[cp]);xi&&xi.length&&gn.push(...xi)}}const Pr=gn.filter(Iu=>!Iu.destroyed);Pr.length?fZ(this,It,Pr):this.processLeaveNode(It)}return le.length=0,fg.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const It=this.players.indexOf(pt);this.players.splice(It,1)}),pt.play()}),fg}elementContainsData(t,e){let i=!1;const r=e[Ya];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!o||o==mC;h.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,D=b!==o,M=sa(i,b,[]);this._getPreviousPlayers(b,D,u,h,e.toState).forEach(V=>{const U=V.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),V.destroy(),M.push(V)})}dg(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,_=e.element,b=[],D=new Set,M=new Set,O=e.timelines.map(U=>{const J=U.element;D.add(J);const le=J[Ya];if(le&&le.removedBeforeQueried)return new N0(U.duration,U.delay);const je=J!==_,tt=function pZ(n){const t=[];return NV(n,t),t}((i.get(J)||oZ).map(dn=>dn.getRealPlayer())).filter(dn=>!!dn.element&&dn.element===J),bt=o.get(J),lt=u.get(J),Rt=lV(0,this._normalizer,0,U.keyframes,bt,lt),Ot=this._buildPlayer(U,Rt,tt);if(U.subTimeline&&r&&M.add(J),je){const dn=new LR(t,h,J);dn.setRealPlayer(Ot),b.push(dn)}return Ot});b.forEach(U=>{sa(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function uZ(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,U.element,U))}),D.forEach(U=>Za(U,_V));const V=ap(O);return V.onDestroy(()=>{D.forEach(U=>qy(U,_V)),Su(_,e.toStyles)}),M.forEach(U=>{sa(r,U,[]).push(V)}),V}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new N0(t.duration,t.delay)}}class LR{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new N0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>gR(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){sa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function PM(n){return n&&1===n.nodeType}function OV(n,t){const e=n.style.display;return n.style.display=t??"none",e}function PV(n,t,e,i,r){const o=[];e.forEach(_=>o.push(OV(_)));const u=[];i.forEach((_,b)=>{const D=new Map;_.forEach(M=>{const O=t.computeStyle(b,M,r);D.set(M,O),(!O||0==O.length)&&(b[Ya]=aZ,u.push(b))}),n.set(b,D)});let h=0;return e.forEach(_=>OV(_,o[h++])),u}function FV(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let _=o.get(h);if(_)return _;const b=h.parentNode;return _=e.has(b)?b:r.has(b)?1:u(b),o.set(h,_),_}return t.forEach(h=>{const _=u(h);1!==_&&e.get(_).push(h)}),e}function Za(n,t){n.classList?.add(t)}function qy(n,t){n.classList?.remove(t)}function fZ(n,t,e){ap(e).onDone(()=>n.processLeaveNode(t))}function NV(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof dF?NV(i.players,t):t.push(i)}}function LV(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class FM{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new cZ(t,e,i),this._timelineEngine=new tZ(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],D=MR(this._driver,o,_,[]);if(_.length)throw function J4(n,t){return new s.vHH(3404,!1)}();h=function QY(n,t,e){return new XY(n,t,e)}(r,D,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=cV(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=cV(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _Z=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Su(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Su(this._element,this._initialStyles),this._endStyles&&(Su(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(dg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dg(this._element,this._endStyles),this._endStyles=null),Su(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function VR(n){let t=null;return n.forEach((e,i)=>{(function yZ(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class VV{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:DV(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class vZ{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return fV(t,e)}getParentElement(t){return bR(t)}query(t,e,i){return pV(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(_.easing=o);const b=new Map,D=u.filter(V=>V instanceof VV);(function DY(n,t){return 0===n||0===t})(i,r)&&D.forEach(V=>{V.currentSnapshot.forEach((U,J)=>b.set(J,U))});let M=function vY(n){return n.length?n[0]instanceof Map?n:n.map(t=>yV(t)):[]}(e).map(V=>lp(V));M=function EY(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<t.length;o++){let u=t[o];r.forEach(h=>u.set(h,DV(n,h)))}}return t}(t,M,b);const O=function gZ(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=VR(t[0]),t.length>1&&(i=VR(t[t.length-1]))):t instanceof Map&&(e=VR(t)),e||i?new _Z(n,e,i):null}(t,M);return new VV(t,M,_,O)}}let bZ=(()=>{class n extends aF{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?cF(e):e;return BV(this._renderer,null,i,"register",[r]),new wZ(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class wZ extends class z3{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new CZ(this._id,t,e||{},this._renderer)}}class CZ{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return BV(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function BV(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const UV="@.disabled";let DZ=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(o);return D||(D=new HV("",o,this.engine),this._rendererCache.set(o,D)),D}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(u,h,e,D.name,D)};return i.data.animation.forEach(_),new EZ(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(FM),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class HV{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==UV?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class EZ extends HV{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==UV?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function SZ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function IZ(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let MZ=(()=>{class n extends FM{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ee),s.LFG(wR),s.LFG(RR),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const jV=[{provide:aF,useClass:bZ},{provide:RR,useFactory:function TZ(){return new YY}},{provide:FM,useClass:MZ},{provide:s.FYo,useFactory:function AZ(n,t,e){return new DZ(n,t,e)},deps:[Lo,FM,s.R0b]}],BR=[{provide:wR,useFactory:()=>new vZ},{provide:s.QbO,useValue:"BrowserAnimations"},...jV],GV=[{provide:wR,useClass:mV},{provide:s.QbO,useValue:"NoopAnimations"},...jV];let xZ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?GV:BR}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:BR,imports:[gc]}),n})();const zV_firebaseConfig={apiKey:"AIzaSyC9nE4RNdMiAc8uP--zrec9mJFUVf5vA5g",authDomain:"hospital-management-779ee.firebaseapp.com",databaseURL:"https://hospital-management-779ee-default-rtdb.firebaseio.com",projectId:"hospital-management-779ee",storageBucket:"hospital-management-779ee.appspot.com",messagingSenderId:"398156482053",appId:"1:398156482053:web:06407632f178267c747e6c"};let kZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[TL,uP,ZL,V0,eV,UL,oV,_F,nL,B0,oL,uL,Ok,DL,KP,sR,QN,$N,YL,TL,uP,ZL,V0,eV,UL,oV,_F,nL,B0,oL,uL,Ok,DL,KP,sR,QN,$N,YL]}),n})(),RZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[k4]}),n.\u0275inj=s.cJS({imports:[gc,Yq,xZ,fr.hO.initializeApp(zV_firebaseConfig),f2,kZ,PN,MG]}),n})();(0,s.G48)(),mc().bootstrapModule(RZ).catch(n=>console.error(n))},5867:(ct,Ee,P)=>{P.d(Ee,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=P(9681);(0,s.registerVersion)("firebase","9.10.0","app")},127:(ct,Ee,P)=>{P.d(Ee,{Z:()=>s.Z});var s=P(3942);s.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(ct,Ee,P)=>{P.r(Ee);var s=P(5861),te=P(3942),F=P(2090),ce=P(9681),se=P(655),pe=P(1877),ee=P(4859);const Ce=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new pe.Yd("@firebase/auth");function at(y,...p){Je.logLevel<=pe.in.ERROR&&Je.error(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}function Te(y,...p){throw Ge(y,...p)}function we(y,...p){return Ge(y,...p)}function De(y,p,g){const w=Object.assign(Object.assign({},nt()),{[p]:g});return new F.LL("auth","Firebase",w).create(p,{appName:y.name})}function Ue(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Te(y,"argument-error"),De(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return ye.create(y,...p)}function H(y,p,...g){if(!y)throw Ge(p,...g)}function _e(y){const p="INTERNAL ASSERTION FAILED: "+y;throw at(p),new Error(p)}function K(y,p){y||_e(p)}const ne=new Map;function oe(y){K(y instanceof Function,"Expected a class definition");let p=ne.get(y);return p?(K(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ne.set(y,p),p)}function Re(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function _t(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class pn{constructor(p,g){this.shortDelay=p,this.longDelay=g,K(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function $t(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_t()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yn(y,p){K(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class nn{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Gi=new pn(3e4,6e4);function Ut(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function hn(y,p,g,w){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,s.Z)(function*(y,p,g,w,A={}){return or(y,A,(0,s.Z)(function*(){let R={},Z={};w&&("GET"===p?Z=w:R={body:JSON.stringify(w)});const de=(0,F.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),Ne=yield y._getAdditionalHeaders();return Ne["Content-Type"]="application/json",y.languageCode&&(Ne["X-Firebase-Locale"]=y.languageCode),nn.fetch()(ss(y,y.config.apiHost,g,de),Object.assign({method:p,headers:Ne,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function or(y,p,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},rn),p);try{const A=new lr(y),R=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const Z=yield R.json();if("needConfirmation"in Z)throw Fr(y,"account-exists-with-different-credential",Z);if(R.ok&&!("errorMessage"in Z))return Z;{const de=R.ok?Z.errorMessage:Z.error.message,[Ne,Xe]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw Fr(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Ne)throw Fr(y,"email-already-in-use",Z);if("USER_DISABLED"===Ne)throw Fr(y,"user-disabled",Z);const wt=w[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw De(y,wt,Xe);Te(y,wt)}}catch(A){if(A instanceof F.ZR)throw A;Te(y,"network-request-failed")}})).apply(this,arguments)}function ar(y,p,g,w){return Js.apply(this,arguments)}function Js(){return(Js=(0,s.Z)(function*(y,p,g,w,A={}){const R=yield hn(y,p,g,w,A);return"mfaPendingCredential"in R&&Te(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function ss(y,p,g,w){const A=`${p}${g}?${w}`;return y.config.emulator?Yn(y.config,A):`${y.config.apiScheme}://${A}`}class lr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),Gi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fr(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const A=we(y,p,w);return A.customData._tokenResponse=g,A}function Ke(){return(Ke=(0,s.Z)(function*(y,p){return hn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function cr(y,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,s.Z)(function*(y,p){return hn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Zn(y,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,s.Z)(function*(y,p){return hn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function wr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Cn(){return(Cn=(0,s.Z)(function*(y,p=!1){const g=(0,F.m9)(y),w=yield g.getIdToken(p),A=ht(w);H(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,Z=R?.sign_in_provider;return{claims:A,token:w,authTime:wr(yt(A.auth_time)),issuedAtTime:wr(yt(A.iat)),expirationTime:wr(yt(A.exp)),signInProvider:Z||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function yt(y){return 1e3*Number(y)}function ht(y){var p;const[g,w,A]=y.split(".");if(void 0===g||void 0===w||void 0===A)return at("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,F.tV)(w);return R?JSON.parse(R):(at("Failed to decode base64 JWT payload"),null)}catch(R){return at("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function bi(y,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof F.ZR&&zi(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function zi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Mt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,s.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(g=w)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class Cs{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=wr(this.lastLoginAt),this.creationTime=wr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sn(y){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,s.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),A=yield bi(y,Zn(g,{idToken:w}));H(A?.users.length,g,"internal-error");const R=A.users[0];y._notifyReloadListener(R);const Z=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?B(R.providerUserInfo):[],de=z(y.providerData,Z),wt=!!y.isAnonymous&&!(y.email&&R.passwordHash||de?.length),dt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:de,metadata:new Cs(R.createdAt,R.lastLoginAt),isAnonymous:wt};Object.assign(y,dt)})).apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(y){const p=(0,F.m9)(y);yield sn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function z(y,p){return[...y.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}function B(y){return y.map(p=>{var{providerId:g}=p,w=(0,se._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Y(){return(Y=(0,s.Z)(function*(y,p){const g=yield or(y,{},(0,s.Z)(function*(){const w=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:R}=y.config,Z=ss(y,A,"/v1/token",`key=${R}`),de=yield y._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",nn.fetch()(Z,{method:"POST",headers:de,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){H(p.idToken,"internal-error"),H(typeof p.idToken<"u","internal-error"),H(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function _n(y){const p=ht(y);return H(p,"internal-error"),H(typeof p.exp<"u","internal-error"),H(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,s.Z)(function*(){return H(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,s.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:Z}=yield function $(y,p){return Y.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(A,R,Number(Z))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:A,expirationTime:R}=g,Z=new Se;return w&&(H("string"==typeof w,"internal-error",{appName:p}),Z.refreshToken=w),A&&(H("string"==typeof A,"internal-error",{appName:p}),Z.accessToken=A),R&&(H("number"==typeof R,"internal-error",{appName:p}),Z.expirationTime=R),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Se,this.toJSON())}_performRefresh(){return _e("not implemented")}}function Be(y,p){H("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class ut{constructor(p){var{uid:g,auth:w,stsTokenManager:A}=p,R=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Cs(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,s.Z)(function*(){const w=yield bi(g,g.stsTokenManager.getToken(g.auth,p));return H(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function ai(y){return Cn.apply(this,arguments)}(this,p)}reload(){return function en(y){return W.apply(this,arguments)}(this)}_assign(p){this!==p&&(H(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ut(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,s.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),g&&(yield sn(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,s.Z)(function*(){const g=yield p.getIdToken();return yield bi(p,function la(y,p){return Ke.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,A,R,Z,de,Ne,Xe,wt;const dt=null!==(w=g.displayName)&&void 0!==w?w:void 0,_i=null!==(A=g.email)&&void 0!==A?A:void 0,ps=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Dl=null!==(Z=g.photoURL)&&void 0!==Z?Z:void 0,Hg=null!==(de=g.tenantId)&&void 0!==de?de:void 0,zh=null!==(Ne=g._redirectEventId)&&void 0!==Ne?Ne:void 0,dd=null!==(Xe=g.createdAt)&&void 0!==Xe?Xe:void 0,Up=null!==(wt=g.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:$h,emailVerified:hd,isAnonymous:jg,providerData:qh,stsTokenManager:sv}=g;H($h&&sv,p,"internal-error");const bC=Se.fromJSON(this.name,sv);H("string"==typeof $h,p,"internal-error"),Be(dt,p.name),Be(_i,p.name),H("boolean"==typeof hd,p,"internal-error"),H("boolean"==typeof jg,p,"internal-error"),Be(ps,p.name),Be(Dl,p.name),Be(Hg,p.name),Be(zh,p.name),Be(dd,p.name),Be(Up,p.name);const Gg=new ut({uid:$h,auth:p,email:_i,emailVerified:hd,displayName:dt,isAnonymous:jg,photoURL:Dl,phoneNumber:ps,tenantId:Hg,stsTokenManager:bC,createdAt:dd,lastLoginAt:Up});return qh&&Array.isArray(qh)&&(Gg.providerData=qh.map(Yh=>Object.assign({},Yh))),zh&&(Gg._redirectEventId=zh),Gg}static _fromIdTokenResponse(p,g,w=!1){return(0,s.Z)(function*(){const A=new Se;A.updateFromServerResponse(g);const R=new ut({uid:g.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield sn(R),R})()}}const on=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(g,w){var A=this;return(0,s.Z)(function*(){A.storage[g]=w})()}_get(g){var w=this;return(0,s.Z)(function*(){const A=w.storage[g];return void 0===A?null:A})()}_remove(g){var w=this;return(0,s.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function li(y,p,g){return`firebase:${y}:${p}:${g}`}class Gt{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:A,name:R}=this.auth;this.fullUserKey=li(this.userKey,A.apiKey,R),this.fullPersistenceKey=li("persistence",A.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?ut._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,s.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,s.Z)(function*(){if(!g.length)return new Gt(oe(on),p,w);const A=(yield Promise.all(g.map(function(){var Xe=(0,s.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let R=A[0]||oe(on);const Z=li(w,p.config.apiKey,p.name);let de=null;for(const Xe of g)try{const wt=yield Xe._get(Z);if(wt){const dt=ut._fromJSON(p,wt);Xe!==R&&(de=dt),R=Xe;break}}catch{}const Ne=A.filter(Xe=>Xe._shouldAllowMigration);return R._shouldAllowMigration&&Ne.length?(R=Ne[0],de&&(yield R._set(Z,de.toJSON())),yield Promise.all(g.map(function(){var Xe=(0,s.Z)(function*(wt){if(wt!==R)try{yield wt._remove(Z)}catch{}});return function(wt){return Xe.apply(this,arguments)}}())),new Gt(R,p,w)):new Gt(R,p,w)})()}}function Lt(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if($i(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Mn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ze(p))return"Blackberry";if(Dt(p))return"Webos";if(ni(p))return"Safari";if((p.includes("chrome/")||os(p))&&!p.includes("edge/"))return"Chrome";if(ii(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Mn(y=(0,F.z$)()){return/firefox\//i.test(y)}function ni(y=(0,F.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function os(y=(0,F.z$)()){return/crios\//i.test(y)}function $i(y=(0,F.z$)()){return/iemobile/i.test(y)}function ii(y=(0,F.z$)()){return/android/i.test(y)}function ze(y=(0,F.z$)()){return/blackberry/i.test(y)}function Dt(y=(0,F.z$)()){return/webos/i.test(y)}function ln(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Mo(y=(0,F.z$)()){return ln(y)||ii(y)||Dt(y)||ze(y)||/windows phone/i.test(y)||$i(y)}function eo(y,p=[]){let g;switch(y){case"Browser":g=Lt((0,F.z$)());break;case"Worker":g=`${Lt((0,F.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${w}`}class ca{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=R=>new Promise((Z,de)=>{try{Z(p(R))}catch(Ne){de(Ne)}});w.onAbort=g,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,s.Z)(function*(){var w;if(g.auth.currentUser===p)return;const A=[];try{for(const R of g.queue)yield R(p),R.onAbort&&A.push(R.onAbort)}catch(R){A.reverse();for(const Z of A)try{Z()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class Vt{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new To(this),this.idTokenSubscription=new To(this),this.beforeStateQueue=new ca(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,s.Z)(function*(){var A,R;if(!w._deleted&&(w.persistenceManager=yield Gt.create(w,p),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,s.Z)(function*(){var w;const A=yield g.assertedPersistence.getCurrentUser();let R=A,Z=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const de=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ne=R?._redirectEventId,Xe=yield g.tryRedirectSignIn(p);(!de||de===Ne)&&Xe?.user&&(R=Xe.user,Z=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(Z)try{yield g.beforeStateQueue.runMiddleware(R)}catch(de){R=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(de))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return H(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var g=this;return(0,s.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,s.Z)(function*(){var w;try{yield sn(p)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ye(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,s.Z)(function*(){const w=p?(0,F.m9)(p):null;return w&&H(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return p&&H(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,s.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,s.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(g);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,s.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&oe(p)||g._popupRedirectResolver;H(w,g,"argument-error"),g.redirectPersistenceManager=yield Gt.create(g,[oe(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,s.Z)(function*(){var w,A;return g._isInitialized&&(yield g.queue((0,s.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,s.Z)(function*(){if(p===g.currentUser)return g.queue((0,s.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,A){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return H(Z,this,"internal-error"),Z.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,w,A):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,s.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=eo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function Tn(y){return(0,F.m9)(y)}class To{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function as(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function to(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class ki{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return _e("not implemented")}_getIdTokenResponse(p){return _e("not implemented")}_linkToIdToken(p,g){return _e("not implemented")}_getReauthenticationResolver(p){return _e("not implemented")}}function si(y,p){return jl.apply(this,arguments)}function jl(){return(jl=(0,s.Z)(function*(y,p){return hn(y,"POST","/v1/accounts:resetPassword",Ut(y,p))})).apply(this,arguments)}function Qt(y,p){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,s.Z)(function*(y,p){return hn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Au(y,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,s.Z)(function*(y,p){return hn(y,"POST","/v1/accounts:update",Ut(y,p))})).apply(this,arguments)}function Br(){return(Br=(0,s.Z)(function*(y,p){return ar(y,"POST","/v1/accounts:signInWithPassword",Ut(y,p))})).apply(this,arguments)}function io(y,p){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,s.Z)(function*(y,p){return hn(y,"POST","/v1/accounts:sendOobCode",Ut(y,p))})).apply(this,arguments)}function cn(y,p){return xu.apply(this,arguments)}function xu(){return(xu=(0,s.Z)(function*(y,p){return io(y,p)})).apply(this,arguments)}function Ci(y,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,s.Z)(function*(y,p){return io(y,p)})).apply(this,arguments)}function xo(y,p){return ro.apply(this,arguments)}function ro(){return(ro=(0,s.Z)(function*(y,p){return io(y,p)})).apply(this,arguments)}function Gl(y,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,s.Z)(function*(y,p){return io(y,p)})).apply(this,arguments)}function ah(){return(ah=(0,s.Z)(function*(y,p){return ar(y,"POST","/v1/accounts:signInWithEmailLink",Ut(y,p))})).apply(this,arguments)}function ku(){return(ku=(0,s.Z)(function*(y,p){return ar(y,"POST","/v1/accounts:signInWithEmailLink",Ut(y,p))})).apply(this,arguments)}class Ru extends ki{constructor(p,g,w,A=null){super("password",w),this._email=p,this._password=g,this._tenantId=A}static _fromEmailAndPassword(p,g){return new Ru(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Ru(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,s.Z)(function*(){switch(g.signInMethod){case"password":return function Qa(y,p){return Br.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function up(y,p){return ah.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Te(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return Qt(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function dp(y,p){return ku.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ui(y,p){return lh.apply(this,arguments)}function lh(){return(lh=(0,s.Z)(function*(y,p){return ar(y,"POST","/v1/accounts:signInWithIdp",Ut(y,p))})).apply(this,arguments)}class Ds extends ki{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Ds(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=g,R=(0,se._T)(g,["providerId","signInMethod"]);if(!w||!A)return null;const Z=new Ds(w,A);return Z.idToken=R.idToken||void 0,Z.accessToken=R.accessToken||void 0,Z.secret=R.secret,Z.nonce=R.nonce,Z.pendingToken=R.pendingToken||null,Z}_getIdTokenResponse(p){return ui(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,ui(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ui(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,F.xO)(g)}return p}}function gg(y,p){return zl.apply(this,arguments)}function zl(){return(zl=(0,s.Z)(function*(y,p){return hn(y,"POST","/v1/accounts:sendVerificationCode",Ut(y,p))})).apply(this,arguments)}function so(){return(so=(0,s.Z)(function*(y,p){return ar(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,p))})).apply(this,arguments)}function ch(){return(ch=(0,s.Z)(function*(y,p){const g=yield ar(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,p));if(g.temporaryProof)throw Fr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const yg={USER_NOT_FOUND:"user-not-found"};function uh(){return(uh=(0,s.Z)(function*(y,p){return ar(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),yg)})).apply(this,arguments)}class oo extends ki{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new oo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new oo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Ou(y,p){return so.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function _g(y,p){return ch.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function hp(y,p){return uh.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:A}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:R}=p;return w||g||A||R?new oo({verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:R}):null}}class $l{constructor(p){var g,w,A,R,Z,de;const Ne=(0,F.zd)((0,F.pd)(p)),Xe=null!==(g=Ne.apiKey)&&void 0!==g?g:null,wt=null!==(w=Ne.oobCode)&&void 0!==w?w:null,dt=function dh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ne.mode)&&void 0!==A?A:null);H(Xe&&wt&&dt,"argument-error"),this.apiKey=Xe,this.operation=dt,this.code=wt,this.continueUrl=null!==(R=Ne.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(Z=Ne.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(de=Ne.tenantId)&&void 0!==de?de:null}static parseLink(p){const g=function hh(y){const p=(0,F.zd)((0,F.pd)(y)).link,g=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,w=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(w?(0,F.zd)((0,F.pd)(w)).link:null)||w||g||p||y}(p);try{return new $l(g)}catch{return null}}}let ls=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return Ru._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const A=$l.parseLink(w);return H(A,"argument-error"),Ru._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Es{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ss extends Es{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ko extends Ss{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return H("providerId"in g&&"signInMethod"in g,"argument-error"),Ds._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return H(p.idToken||p.accessToken,"argument-error"),Ds._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ko.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ko.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:R,nonce:Z,providerId:de}=p;if(!w&&!A&&!g&&!R||!de)return null;try{return new ko(de)._credential({idToken:g,accessToken:w,nonce:Z,pendingToken:R})}catch{return null}}}let Xa=(()=>{class y extends Ss{constructor(){super("facebook.com")}static credential(g){return Ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ql=(()=>{class y extends Ss{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:A}=g;if(!w&&!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Pu=(()=>{class y extends Ss{constructor(){super("github.com")}static credential(g){return Ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Vi extends ki{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return ui(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,ui(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ui(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:R}=g;return w&&A&&R&&w===A?new Vi(w,R):null}static _create(p,g){return new Vi(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Dr extends Es{constructor(p){H(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Dr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Dr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Vi.fromJSON(p);return H(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return Vi._create(w,g)}catch{return null}}}let ur=(()=>{class y extends Ss{constructor(){super("twitter.com")}static credential(g,w){return Ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=g;if(!w||!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ua(y,p){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,s.Z)(function*(y,p){return ar(y,"POST","/v1/accounts:signUp",Ut(y,p))})).apply(this,arguments)}class Ri{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,A=!1){return(0,s.Z)(function*(){const R=yield ut._fromIdTokenResponse(p,w,A),Z=mp(w);return new Ri({user:R,providerId:Z,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=mp(w);return new Ri({user:p,providerId:A,_tokenResponse:w,operationType:g})})()}}function mp(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Vn(){return(Vn=(0,s.Z)(function*(y){var p;const g=Tn(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Ri({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield ua(g,{returnSecureToken:!0}),A=yield Ri._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Yl extends F.ZR{constructor(p,g,w,A){var R;super(g.code,g.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,Yl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,A){return new Yl(p,g,w,A)}}function _p(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Yl._fromErrorAndOperation(y,R,p,w):R})}function Er(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Zl(){return(Zl=(0,s.Z)(function*(y,p){const g=(0,F.m9)(y);yield Zt(!0,g,p);const{providerUserInfo:w}=yield cr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),A=Er(w||[]);return g.providerData=g.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function da(y,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,s.Z)(function*(y,p,g=!1){const w=yield bi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Ri._forOperation(y,"link",w)})).apply(this,arguments)}function Zt(y,p,g){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,s.Z)(function*(y,p,g){yield sn(p);const A=!1===y?"provider-already-linked":"no-such-provider";H(Er(p.providerData).has(g)===y,p.auth,A)})).apply(this,arguments)}function Ro(y,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,s.Z)(function*(y,p,g=!1){var w;const{auth:A}=y,R="reauthenticate";try{const Z=yield bi(y,_p(A,R,p,y),g);H(Z.idToken,A,"internal-error");const de=ht(Z.idToken);H(de,A,"internal-error");const{sub:Ne}=de;return H(y.uid===Ne,A,"user-mismatch"),Ri._forOperation(y,R,Z)}catch(Z){throw"auth/user-not-found"===(null===(w=Z)||void 0===w?void 0:w.code)&&Te(A,"user-mismatch"),Z}})).apply(this,arguments)}function Hr(y,p){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,s.Z)(function*(y,p,g=!1){const w="signIn",A=yield _p(y,w,p),R=yield Ri._fromIdTokenResponse(y,w,A);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function On(y,p){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,s.Z)(function*(y,p){return Hr(Tn(y),p)})).apply(this,arguments)}function Xl(y,p){return yp.apply(this,arguments)}function yp(){return(yp=(0,s.Z)(function*(y,p){const g=(0,F.m9)(y);return yield Zt(!1,g,p.providerId),da(g,p)})).apply(this,arguments)}function Jl(y,p){return ec.apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(y,p){return Ro((0,F.m9)(y),p)})).apply(this,arguments)}function Nu(y,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,s.Z)(function*(y,p){return ar(y,"POST","/v1/accounts:signInWithCustomToken",Ut(y,p))})).apply(this,arguments)}function Ja(){return(Ja=(0,s.Z)(function*(y,p){const g=Tn(y),w=yield Nu(g,{token:p,returnSecureToken:!0}),A=yield Ri._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Me{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?zt._fromServerResponse(p,g):Te(p,"internal-error")}}class zt extends Me{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new zt(g)}}function tc(y,p,g){var w;H((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),H(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(H(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(H(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Bn(){return(Bn=(0,s.Z)(function*(y,p,g){const w=(0,F.m9)(y),A={requestType:"PASSWORD_RESET",email:p};g&&tc(w,A,g),yield Ci(w,A)})).apply(this,arguments)}function ha(){return(ha=(0,s.Z)(function*(y,p,g){yield si((0,F.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function el(){return(el=(0,s.Z)(function*(y,p){yield Au((0,F.m9)(y),{oobCode:p})})).apply(this,arguments)}function tl(y,p){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,s.Z)(function*(y,p){const g=(0,F.m9)(y),w=yield si(g,{oobCode:p}),A=w.requestType;switch(H(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(w.mfaInfo,g,"internal-error");default:H(w.email,g,"internal-error")}let R=null;return w.mfaInfo&&(R=Me._fromServerResponse(Tn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function fh(){return(fh=(0,s.Z)(function*(y,p){const{data:g}=yield tl((0,F.m9)(y),p);return g.email})).apply(this,arguments)}function Un(){return(Un=(0,s.Z)(function*(y,p,g){const w=Tn(y),A=yield ua(w,{returnSecureToken:!0,email:p,password:g}),R=yield Ri._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Oo(){return(Oo=(0,s.Z)(function*(y,p,g){const w=(0,F.m9)(y),A={requestType:"EMAIL_SIGNIN",email:p};H(g.handleCodeInApp,w,"argument-error"),g&&tc(w,A,g),yield xo(w,A)})).apply(this,arguments)}function il(){return(il=(0,s.Z)(function*(y,p,g){const w=(0,F.m9)(y),A=ls.credentialWithLink(p,g||Re());return H(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),On(w,A)})).apply(this,arguments)}function bg(y,p){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,s.Z)(function*(y,p){return hn(y,"POST","/v1/accounts:createAuthUri",Ut(y,p))})).apply(this,arguments)}function rl(){return(rl=(0,s.Z)(function*(y,p){const w={identifier:p,continueUri:_t()?Re():"http://localhost"},{signinMethods:A}=yield bg((0,F.m9)(y),w);return A||[]})).apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(y,p){const g=(0,F.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&tc(g.auth,A,p);const{email:R}=yield cn(g.auth,A);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function sc(){return(sc=(0,s.Z)(function*(y,p,g){const w=(0,F.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&tc(w.auth,R,g);const{email:Z}=yield Gl(w.auth,R);Z!==y.email&&(yield y.reload())})).apply(this,arguments)}function oc(y,p){return zu.apply(this,arguments)}function zu(){return(zu=(0,s.Z)(function*(y,p){return hn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function qu(){return(qu=(0,s.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,F.m9)(y),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Z=yield bi(w,oc(w.auth,R));w.displayName=Z.displayName||null,w.photoURL=Z.photoUrl||null;const de=w.providerData.find(({providerId:Ne})=>"password"===Ne);de&&(de.displayName=w.displayName,de.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Fo(y,p,g){return ac.apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(y,p,g){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const Z=yield bi(y,Qt(w,R));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class dr{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class En extends dr{constructor(p,g,w,A){super(p,g,w),this.username=A}}class Yu extends dr{constructor(p,g){super(p,"facebook.com",g)}}class Zu extends En{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class mh extends dr{constructor(p,g){super(p,"google.com",g)}}class Wu extends En{constructor(p,g,w){super(p,"twitter.com",g,w)}}function lc(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function di(y){var p,g;if(!y)return null;const{providerId:w}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const Z=null===(g=null===(p=ht(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Z)return new dr(R,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!w)return null;switch(w){case"facebook.com":return new Yu(R,A);case"github.com":return new Zu(R,A);case"google.com":return new mh(R,A);case"twitter.com":return new Wu(R,A,y.screenName||null);case"custom":case"anonymous":return new dr(R,null);default:return new dr(R,w,A)}}(g)}class No{constructor(p,g,w){this.type=p,this.credential=g,this.auth=w}static _fromIdtoken(p,g){return new No("enroll",p,g)}static _fromMfaPendingCredential(p){return new No("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return No._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return No._fromIdtoken(p.multiFactorSession.idToken)}return null}}class cc{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=Tn(p),A=g.customData._serverResponse,R=(A.mfaInfo||[]).map(de=>Me._fromServerResponse(w,de));H(A.mfaPendingCredential,w,"internal-error");const Z=No._fromMfaPendingCredential(A.mfaPendingCredential);return new cc(Z,R,function(){var de=(0,s.Z)(function*(Ne){const Xe=yield Ne._process(w,Z);delete A.mfaInfo,delete A.mfaPendingCredential;const wt=Object.assign(Object.assign({},A),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(g.operationType){case"signIn":const dt=yield Ri._fromIdTokenResponse(w,g.operationType,wt);return yield w._updateCurrentUser(dt.user),dt;case"reauthenticate":return H(g.user,w,"internal-error"),Ri._forOperation(g.user,g.operationType,wt);default:Te(w,"internal-error")}});return function(Ne){return de.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,s.Z)(function*(){return g.signInResolver(p)})()}}function uc(y,p){return hn(y,"POST","/v2/accounts/mfaEnrollment:start",Ut(y,p))}class vp{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Me._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new vp(p)}getSession(){var p=this;return(0,s.Z)(function*(){return No._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var w=this;return(0,s.Z)(function*(){const A=p,R=yield w.getSession(),Z=yield bi(w.user,A._process(w.user.auth,R,g));return yield w.user._updateTokensIfNecessary(Z),w.user.reload()})()}unenroll(p){var g=this;return(0,s.Z)(function*(){var w;const A="string"==typeof p?p:p.uid,R=yield g.user.getIdToken(),Z=yield bi(g.user,function vh(y,p){return hn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(y,p))}(g.user.auth,{idToken:R,mfaEnrollmentId:A}));g.enrolledFactors=g.enrolledFactors.filter(({uid:de})=>de!==A),yield g.user._updateTokensIfNecessary(Z);try{yield g.user.reload()}catch(de){if("auth/user-token-expired"!==(null===(w=de)||void 0===w?void 0:w.code))throw de}})()}}const Lo=new WeakMap,Vo="__sak";class hc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Vo,"1"),this.storage.removeItem(Vo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const al=(()=>{class y extends hc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ol(){const y=(0,F.z$)();return ni(y)||ln(y)}()&&function Dn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mo(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),R=this.localCache[w];A!==R&&g(w,R,A)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((de,Ne,Xe)=>{this.notifyListeners(de,Xe)});const A=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(A);if(g.newValue!==de)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!w)return}const R=()=>{const de=this.storage.getItem(A);!w&&this.localCache[A]===de||this.notifyListeners(A,de)},Z=this.storage.getItem(A);!function ci(){return(0,F.w1)()&&10===document.documentMode}()||Z===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var A=()=>super._set,R=this;return(0,s.Z)(function*(){yield A().call(R,g,w),R.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,A=this;return(0,s.Z)(function*(){const R=yield w().call(A,g);return A.localCache[g]=JSON.stringify(R),R})()}_remove(g){var w=()=>super._remove,A=this;return(0,s.Z)(function*(){yield w().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),us=(()=>{class y extends hc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Ch=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(R=>R.isListeningto(g));if(w)return w;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,s.Z)(function*(){const A=g,{eventId:R,eventType:Z,data:de}=A.data,Ne=w.handlersMap[Z];if(!Ne?.size)return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:Z});const Xe=Array.from(Ne).map(function(){var dt=(0,s.Z)(function*(_i){return _i(A.origin,de)});return function(_i){return dt.apply(this,arguments)}}()),wt=yield function cl(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(Xe);A.ports[0].postMessage({status:"done",eventId:R,eventType:Z,response:wt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ul(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class Qu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var A=this;return(0,s.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let Z,de;return new Promise((Ne,Xe)=>{const wt=ul("",20);R.port1.start();const dt=setTimeout(()=>{Xe(new Error("unsupported_event"))},w);de={messageChannel:R,onMessage(_i){const ps=_i;if(ps.data.eventId===wt)switch(ps.data.status){case"ack":clearTimeout(dt),Z=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Ne(ps.data.response);break;default:clearTimeout(dt),clearTimeout(Z),Xe(new Error("invalid_response"))}}},A.handlers.add(de),R.port1.addEventListener("message",de.onMessage),A.target.postMessage({eventType:p,eventId:wt,data:g},[R.port2])}).finally(()=>{de&&A.removeMessageHandler(de)})})()}}function Kn(){return window}function fc(){return typeof Kn().WorkerGlobalScope<"u"&&"function"==typeof Kn().importScripts}function dl(){return(dl=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const co="firebaseLocalStorageDb",uo="firebaseLocalStorage",gc="fbase_key";class Uo{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function hl(y,p){return y.transaction([uo],p?"readwrite":"readonly").objectStore(uo)}function _a(){const y=indexedDB.open(co,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(uo,{keyPath:gc})}catch(A){g(A)}}),y.addEventListener("success",(0,s.Z)(function*(){const w=y.result;w.objectStoreNames.contains(uo)?p(w):(w.close(),yield function Eh(){const y=indexedDB.deleteDatabase(co);return new Uo(y).toPromise()}(),p(yield _a()))}))})}function xs(y,p,g){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,s.Z)(function*(y,p,g){const w=hl(y,!0).put({[gc]:p,value:g});return new Uo(w).toPromise()})).apply(this,arguments)}function fl(){return(fl=(0,s.Z)(function*(y,p){const g=hl(y,!1).get(p),w=yield new Uo(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ho(y,p){const g=hl(y,!0).delete(p);return new Uo(g).toPromise()}const ya=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,s.Z)(function*(){return g.db||(g.db=yield _a()),g.db})()}_withRetries(g){var w=this;return(0,s.Z)(function*(){let A=0;for(;;)try{const R=yield w._openDb();return yield g(R)}catch(R){if(A++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,s.Z)(function*(){return fc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,s.Z)(function*(){g.receiver=Ch._getInstance(function mc(){return fc()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(A,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(A,R){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,s.Z)(function*(){var w,A;if(g.activeServiceWorker=yield function Bo(){return dl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Qu(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function pc(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const g=yield _a();return yield xs(g,Vo,"1"),yield Ho(g,Vo),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var A=this;return(0,s.Z)(function*(){return A._withPendingWrite((0,s.Z)(function*(){return yield A._withRetries(R=>xs(R,g,w)),A.localCache[g]=w,A.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,s.Z)(function*(){const A=yield w._withRetries(R=>function _c(y,p){return fl.apply(this,arguments)}(R,g));return w.localCache[g]=A,A})()}_remove(g){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(A=>Ho(A,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,s.Z)(function*(){const w=yield g._withRetries(Z=>{const de=hl(Z,!1).getAll();return new Uo(de).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:Z,value:de}of w)R.add(Z),JSON.stringify(g.localCache[Z])!==JSON.stringify(de)&&(g.notifyListeners(Z,de),A.push(Z));for(const Z of Object.keys(g.localCache))g.localCache[Z]&&!R.has(Z)&&(g.notifyListeners(Z,null),A.push(Z));return A})()}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function va(y,p){return hn(y,"POST","/v2/accounts/mfaSignIn:start",Ut(y,p))}function ho(){return(ho=(0,s.Z)(function*(y){return(yield hn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wa(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=A=>{const R=we("internal-error");R.customData=A,g(R)},w.type="text/javascript",w.charset="UTF-8",function ba(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function bc(y){return`__${y}${Math.floor(1e6*Math.random())}`}const pl=1e12;class vn{constructor(p){this.auth=p,this.counter=pl,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new wg(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||pl;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||pl))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,s.Z)(function*(){var w;return null===(w=g._widgets.get(p||pl))||void 0===w||w.execute(),""})()}}class wg{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;H(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Yy(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cg=bc("rcb"),Zy=new pn(3e4,6e4);class bp{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Kn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return H(function _C(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Kn().grecaptcha):new Promise((w,A)=>{const R=Kn().setTimeout(()=>{A(we(p,"network-request-failed"))},Zy.get());Kn()[Cg]=()=>{Kn().clearTimeout(R),delete Kn()[Cg];const de=Kn().grecaptcha;if(!de)return void A(we(p,"internal-error"));const Ne=de.render;de.render=(Xe,wt)=>{const dt=Ne(Xe,wt);return this.counter++,dt},this.hostLanguage=g,w(de)},wa(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Cg,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),A(we(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Kn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Da{load(p){return(0,s.Z)(function*(){return new vn(p)})()}clearedOneInstance(){}}const Dg="recaptcha",Eg={theme:"light",type:"image"};class Ei{constructor(p,g=Object.assign({},Eg),w){this.parameters=g,this.type=Dg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(w),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;H(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Da:new bp,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(R=>{const Z=de=>{!de||(p.tokenChangeListeners.delete(Z),R(de))};p.tokenChangeListeners.add(Z),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Kn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){H(_t()&&!fc(),p.auth,"internal-error"),yield function fr(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function hr(y){return ho.apply(this,arguments)}(p.auth);H(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ds{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=oo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function un(){return(un=(0,s.Z)(function*(y,p,g){const w=Tn(y),A=yield fo(w,p,(0,F.m9)(g));return new ds(A,R=>On(w,R))})).apply(this,arguments)}function Le(){return(Le=(0,s.Z)(function*(y,p,g){const w=(0,F.m9)(y);yield Zt(!1,w,"phone");const A=yield fo(w.auth,p,(0,F.m9)(g));return new ds(A,R=>Xl(w,R))})).apply(this,arguments)}function hs(){return(hs=(0,s.Z)(function*(y,p,g){const w=(0,F.m9)(y),A=yield fo(w.auth,p,(0,F.m9)(g));return new ds(A,R=>Jl(w,R))})).apply(this,arguments)}function fo(y,p,g){return po.apply(this,arguments)}function po(){return(po=(0,s.Z)(function*(y,p,g){var w;const A=yield g.verify();try{let R;if(H("string"==typeof A,y,"argument-error"),H(g.type===Dg,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const Z=R.session;if("phoneNumber"in R)return H("enroll"===Z.type,y,"internal-error"),(yield uc(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{H("signin"===Z.type,y,"internal-error");const de=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return H(de,y,"missing-multi-factor-info"),(yield va(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield gg(y,{phoneNumber:R.phoneNumber,recaptchaToken:A});return Z}}finally{g._reset()}})).apply(this,arguments)}function Sn(){return(Sn=(0,s.Z)(function*(y,p){yield da((0,F.m9)(y),p)})).apply(this,arguments)}let In=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Tn(g)}verifyPhoneNumber(g,w){return fo(this.auth,g,(0,F.m9)(w))}static credential(g,w){return oo._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:A}=g;return w&&A?oo._fromTokenResponse(w,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function mo(y,p){return p?oe(p):(H(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Qe extends ki{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ui(p,this._buildIdpRequest())}_linkToIdToken(p,g){return ui(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return ui(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function pr(y){return Hr(y.auth,new Qe(y),y.bypassAuthState)}function Rs(y){const{auth:p,user:g}=y;return H(g,p,"internal-error"),Ro(g,new Qe(y),y.bypassAuthState)}function Ir(y){return Go.apply(this,arguments)}function Go(){return(Go=(0,s.Z)(function*(y){const{auth:p,user:g}=y;return H(g,p,"internal-error"),da(g,new Qe(y),y.bypassAuthState)})).apply(this,arguments)}class ml{constructor(p,g,w,A,R=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,s.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,A){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:R,tenantId:Z,error:de,type:Ne}=p;if(de)return void g.reject(de);const Xe={auth:g.auth,requestUri:w,sessionId:A,tenantId:Z||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ne)(Xe))}catch(wt){g.reject(wt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return pr;case"linkViaPopup":case"linkViaRedirect":return Ir;case"reauthViaPopup":case"reauthViaRedirect":return Rs;default:Te(this.auth,"internal-error")}}resolve(p){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yt=new pn(2e3,1e4);function gl(){return(gl=(0,s.Z)(function*(y,p,g){const w=Tn(y);Ue(y,p,Es);const A=mo(w,g);return new jt(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function go(){return(go=(0,s.Z)(function*(y,p,g){const w=(0,F.m9)(y);Ue(w.auth,p,Es);const A=mo(w.auth,g);return new jt(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(y,p,g){const w=(0,F.m9)(y);Ue(w.auth,p,Es);const A=mo(w.auth,g);return new jt(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let jt=(()=>{class y extends ml{constructor(g,w,A,R,Z){super(g,w,R,Z),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,s.Z)(function*(){const w=yield g.execute();return H(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,s.Z)(function*(){K(1===g.filter.length,"Popup operations only handle one event");const w=ul();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(we(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Yt.get())};g()}}return y.currentPopupAction=null,y})();const mi=new Map;class rt extends ml{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,s.Z)(function*(){let w=mi.get(g.auth._key());if(!w){try{const R=(yield function Ea(y,p){return vt.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(R)}catch(A){w=()=>Promise.reject(A)}mi.set(g.auth._key(),w)}return g.bypassAuthState||mi.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function vt(){return(vt=(0,s.Z)(function*(y,p){const g=Ih(p),w=fs(y);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(g));return yield w._remove(g),A})).apply(this,arguments)}function Sa(y,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,s.Z)(function*(y,p){return fs(y)._set(Ih(p),"true")})).apply(this,arguments)}function Ia(y,p){mi.set(y._key(),p)}function fs(y){return oe(y._redirectPersistence)}function Ih(y){return li("pendingRedirect",y.config.apiKey,y.name)}function S(){return(S=(0,s.Z)(function*(y,p,g){const w=Tn(y);Ue(y,p,Es);const A=mo(w,g);return yield Sa(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,s.Z)(function*(y,p,g){const w=(0,F.m9)(y);Ue(w.auth,p,Es);const A=mo(w.auth,g);yield Sa(A,w.auth);const R=yield ft(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)(function*(y,p,g){const w=(0,F.m9)(y);Ue(w.auth,p,Es);const A=mo(w.auth,g);yield Zt(!1,w,p.providerId),yield Sa(A,w.auth);const R=yield ft(w);return A._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(y,p){return yield Tn(y)._initializationPromise,et(y,p,!1)})).apply(this,arguments)}function et(y,p){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(y,p,g=!1){const w=Tn(y),A=mo(w,p),Z=yield new rt(w,A,g).execute();return Z&&!g&&(delete Z.user._redirectEventId,yield w._persistUserIfCurrent(Z.user),yield w._setRedirectUser(null,p)),Z})).apply(this,arguments)}function ft(y){return An.apply(this,arguments)}function An(){return(An=(0,s.Z)(function*(y){const p=ul(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Os{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ma(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ps(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Ps(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(we(this.auth,A))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bi(p))}saveEventToCache(p){this.cachedEventUids.add(Bi(p)),this.lastProcessedEventTime=Date.now()}}function Bi(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Ps({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function _o(y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,s.Z)(function*(y,p={}){return hn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const zo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fs=/^https?/;function Sg(){return(Sg=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield _o(y);for(const g of p)try{if(Ig(g))return}catch{}Te(y,"unauthorized-domain")})).apply(this,arguments)}function Ig(y){const p=Re(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Z.hostname===w}if(!Fs.test(g))return!1;if(zo.test(y))return w===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const Mh=new pn(3e4,6e4);function Th(){const y=Kn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let vl=null;function Ky(y){return vl=vl||function wc(y){return new Promise((p,g)=>{var w,A,R;function Z(){Th(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Th(),g(we(y,"network-request-failed"))},timeout:Mh.get()})}if(null!==(A=null===(w=Kn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Kn().gapi)||void 0===R||!R.load){const de=bc("iframefcb");return Kn()[de]=()=>{gapi.load?Z():g(we(y,"network-request-failed"))},wa(`https://apis.google.com/js/api.js?onload=${de}`).catch(Ne=>g(Ne))}Z()}}).catch(p=>{throw vl=null,p})}(y),vl}const Mg=new pn(5e3,15e3),yC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qy(y){const p=y.config;H(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Yn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ce.SDK_VERSION},A=bl.get(y.config.apiHost);A&&(w.eid=A);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${g}?${(0,F.xO)(w).slice(1)}`}function Dc(){return Dc=(0,s.Z)(function*(y){const p=yield Ky(y),g=Kn().gapi;return H(g,y,"internal-error"),p.open({where:document.body,url:Qy(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yC,dontclear:!0},w=>new Promise(function(){var A=(0,s.Z)(function*(R,Z){yield w.restyle({setHideOnLeave:!1});const de=we(y,"network-request-failed"),Ne=Kn().setTimeout(()=>{Z(de)},Mg.get());function Xe(){Kn().clearTimeout(Ne),R(w)}w.ping(Xe).then(Xe,()=>{Z(de)})});return function(R,Z){return A.apply(this,arguments)}}()))}),Dc.apply(this,arguments)}const Dp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ec{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ns(y,p,g,w,A,R){H(y.config.authDomain,y,"auth-domain-config-required"),H(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:ce.SDK_VERSION,eventId:A};if(p instanceof Es){p.setDefaultLanguage(y.languageCode),Z.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ne,Xe]of Object.entries(R||{}))Z[Ne]=Xe}if(p instanceof Ss){const Ne=p.getScopes().filter(Xe=>""!==Xe);Ne.length>0&&(Z.scopes=Ne.join(","))}y.tenantId&&(Z.tid=y.tenantId);const de=Z;for(const Ne of Object.keys(de))void 0===de[Ne]&&delete de[Ne];return`${function xg({config:y}){return y.emulator?Yn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(de).slice(1)}`}const Rh="webStorageSupport";class Gr extends class kg{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Gr(p)}_finalizeEnroll(p,g,w){return function dc(y,p){return hn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function vc(y,p){return hn(y,"POST","/v2/accounts/mfaSignIn:finalize",Ut(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wl=(()=>{class y{constructor(){}static assertion(g){return Gr._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Rg="@firebase/auth";class Ip{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,s.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var A;p((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ls(){return window}function Ap(){return(Ap=(0,s.Z)(function*(y,p,g){var w;const{BuildInfo:A}=Ls();K(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Ph(p.sessionId),Z={};return ln()?Z.ibi=A.packageName:ii()?Z.apn=A.packageName:Te(y,"operation-not-supported-in-this-environment"),A.displayName&&(Z.appDisplayName=A.displayName),Z.sessionId=R,Ns(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,Z)})).apply(this,arguments)}function Ic(){return(Ic=(0,s.Z)(function*(y){const{BuildInfo:p}=Ls(),g={};ln()?g.iosBundleId=p.packageName:ii()?g.androidPackageName=p.packageName:Te(y,"operation-not-supported-in-this-environment"),yield _o(y,g)})).apply(this,arguments)}function Tc(){return(Tc=(0,s.Z)(function*(y,p,g){const{cordova:w}=Ls();let A=()=>{};try{yield new Promise((R,Z)=>{let de=null;function Ne(){var dt;R();const _i=null===(dt=w.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof _i&&_i(),"function"==typeof g?.close&&g.close()}function Xe(){de||(de=window.setTimeout(()=>{Z(we(y,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===document?.visibilityState&&Xe()}p.addPassiveListener(Ne),document.addEventListener("resume",Xe,!1),ii()&&document.addEventListener("visibilitychange",wt,!1),A=()=>{p.removePassiveListener(Ne),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",wt,!1),de&&window.clearTimeout(de)}})}finally{A()}})).apply(this,arguments)}function Ph(y){return xp.apply(this,arguments)}function xp(){return(xp=(0,s.Z)(function*(y){const p=vC(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vC(y){if(K(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}!function Oi(y){(0,ce._registerComponent)(new ee.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:R,authDomain:Z}=w.options;return((de,Ne)=>{H(R&&!R.includes(":"),"invalid-api-key",{appName:de.name}),H(!Z?.includes(":"),"argument-error",{appName:de.name});const Xe={apiKey:R,authDomain:Z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eo(y)},wt=new Vt(de,Ne,Xe);return function Pe(y,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map(oe);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(wt,g),wt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new ee.wA("auth-internal",p=>{const g=Tn(p.getProvider("auth").getImmediate());return new Ip(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Rg,"0.20.7",function Mp(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)(Rg,"0.20.7","esm2017")}("Browser");class nd extends Os{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function nv(y){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,s.Z)(function*(y){const p=yield Fh()._get(Ac(y));return p&&(yield Fh()._remove(Ac(y))),p})).apply(this,arguments)}function Ng(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Fh(){return oe(al)}function Ac(y){return li("authEvent",y.config.apiKey,y.name)}function yo(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,F.zd)(g.join("?"))}function Op(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function Ii(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function kc(y=(0,F.z$)()){return!("file:"!==Ii()&&"ionic:"!==Ii()&&"capacitor:"!==Ii()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function rd(){try{const y=self.localStorage,p=ul();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Rc(y=(0,F.z$)()){return function rv(){return(0,F.w1)()&&11===document?.documentMode}()||function Ug(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch{return Aa()&&(0,F.hl)()}return!1}function Aa(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Oc(){return(function Bg(){return"http:"===Ii()||"https:"===Ii()}()||(0,F.ru)()||kc())&&!function Bh(){return(0,F.b$)()||(0,F.UG)()}()&&rd()&&!Aa()}function sd(){return kc()&&typeof document<"u"}function Cl(){return(Cl=(0,s.Z)(function*(){return!!sd()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Wi={LOCAL:"local",NONE:"none",SESSION:"session"},Uh=H,Hh="persistence";function Nc(y){return od.apply(this,arguments)}function od(){return(od=(0,s.Z)(function*(y){yield y._initializationPromise;const p=Fp(),g=li(Hh,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Fp(){var y;try{return(null===(y=function Pc(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Np=H;class mr{constructor(){this.browserResolver=oe(class Jy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=et,this._overrideRedirectResult=Ia}_openPopup(p,g,w,A){var R=this;return(0,s.Z)(function*(){var Z;K(null===(Z=R.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const de=Ns(p,g,w,Re(),A);return function Sc(y,p,g,w=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),Z=Math.max((window.screen.availWidth-w)/2,0).toString();let de="";const Ne=Object.assign(Object.assign({},Dp),{width:w.toString(),height:A.toString(),top:R,left:Z}),Xe=(0,F.z$)().toLowerCase();g&&(de=os(Xe)?"_blank":g),Mn(Xe)&&(p=p||"http://localhost",Ne.scrollbars="yes");const wt=Object.entries(Ne).reduce((_i,[ps,Dl])=>`${_i}${ps}=${Dl},`,"");if(function Vr(y=(0,F.z$)()){var p;return ln(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Xe)&&"_self"!==de)return function Ah(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",de),new Ec(null);const dt=window.open(p||"",de,wt);H(dt,y,"popup-blocked");try{dt.focus()}catch{}return new Ec(dt)}(p,de,ul())})()}_openRedirect(p,g,w,A){var R=this;return(0,s.Z)(function*(){return yield R._originValidation(p),function jr(y){Kn().location.href=y}(Ns(p,g,w,Re(),A)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:A,promise:R}=this.eventManagers[g];return A?Promise.resolve(A):(K(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,s.Z)(function*(){const w=yield function Cc(y){return Dc.apply(this,arguments)}(p),A=new Os(p);return w.register("authEvent",R=>(H(R?.authEvent,p,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:A},g.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Rh,{type:Rh},A=>{var R;const Z=null===(R=A?.[0])||void 0===R?void 0:R[Rh];void 0!==Z&&g(!!Z),Te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function td(y){return Sg.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Mo()||ni()||ln()}}),this.cordovaResolver=oe(class iv{constructor(){this._redirectPersistence=us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=et,this._overrideRedirectResult=Ia}_initialize(p){var g=this;return(0,s.Z)(function*(){const w=p._key();let A=g.eventManagers.get(w);return A||(A=new nd(p),g.eventManagers.set(w,A),g.attachCallbackListeners(p,A)),A})()}_openPopup(p){Te(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,A){var R=this;return(0,s.Z)(function*(){!function Pg(y){var p,g,w,A,R,Z,de,Ne,Xe,wt;const dt=Ls();H("function"==typeof(null===(p=dt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(g=dt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(R=null===(A=null===(w=dt?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Ne=null===(de=null===(Z=dt?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===de?void 0:de.browsertab)||void 0===Ne?void 0:Ne.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(wt=null===(Xe=dt?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===wt?void 0:wt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Z=yield R._initialize(p);yield Z.initialized(),Z.resetRedirect(),function yl(){mi.clear()}(),yield R._originValidation(p);const de=function id(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Ng(),postBody:null,tenantId:y.tenantId,error:we(y,"no-auth-event")}}(p,w,A);yield function tv(y,p){return Fh()._set(Ac(y),p)}(p,de);const Ne=yield function ev(y,p,g){return Ap.apply(this,arguments)}(p,de,g),Xe=yield function qo(y){const{cordova:p}=Ls();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let A=null;w?p.plugins.browsertab.openUrl(y):A=p.InAppBrowser.open(y,function Cr(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(Ne);return function Mc(y,p,g){return Tc.apply(this,arguments)}(p,Z,Xe)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Og(y){return Ic.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:A,BuildInfo:R}=Ls(),Z=setTimeout((0,s.Z)(function*(){yield nv(p),g.onEvent(Op())}),500),de=function(){var wt=(0,s.Z)(function*(dt){clearTimeout(Z);const _i=yield nv(p);let ps=null;_i&&dt?.url&&(ps=function Fg(y,p){var g,w;const A=function Nh(y){const p=yo(y),g=p.link?decodeURIComponent(p.link):void 0,w=yo(g).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return yo(A).link||A||w||g||y}(p);if(A.includes("/__/auth/callback")){const R=yo(A),Z=R.firebaseError?function Lg(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,de=null===(w=null===(g=Z?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ne=de?we(de):null;return Ne?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(_i,dt.url)),g.onEvent(ps||Op())});return function(_i){return wt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,de);const Ne=A,Xe=`${R.packageName.toLowerCase()}://`;Ls().handleOpenURL=function(){var wt=(0,s.Z)(function*(dt){if(dt.toLowerCase().startsWith(Xe)&&de({url:dt}),"function"==typeof Ne)try{Ne(dt)}catch(_i){console.error(_i)}});return function(dt){return wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=us,this._completeRedirectFn=et,this._overrideRedirectResult=Ia}_initialize(p){var g=this;return(0,s.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,A){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,w,A)})()}_openRedirect(p,g,w,A){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,w,A)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return sd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Np(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Pp(){return Cl.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Lp(y){return y.unwrap()}function ka(y){return ad(y)}function ad(y){const{_tokenResponse:p}=y instanceof F.ZR?y.customData:y;if(!p)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return In.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=ql;break;case"facebook.com":w=Xa;break;case"github.com":w=Pu;break;case"twitter.com":w=ur;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:Z,pendingToken:de,nonce:Ne}=p;return R||Z||A||de?de?g.startsWith("saml.")?Vi._create(g,de):Ds._fromParams({providerId:g,signInMethod:g,pendingToken:de,idToken:A,accessToken:R}):new ko(g).credential({idToken:A,accessToken:R,rawNonce:Ne}):null}return y instanceof F.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Ki(y,p){return p.catch(g=>{throw g instanceof F.ZR&&function zr(y,p){var g,w;const A=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new Bp(y,function Hn(y,p){var g;const w=(0,F.m9)(y),A=p;return H(p.customData.operationType,w,"argument-error"),H(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),cc._fromError(w,A)}(y,p));else if(A){const R=ad(p),Z=p;R&&(Z.credential=R,Z.tenantId=A.tenantId||void 0,Z.email=A.email||void 0,Z.phoneNumber=A.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:ka(g),additionalUserInfo:lc(g),user:xr.getOrCreate(A)}})}function Vp(y,p){return jh.apply(this,arguments)}function jh(){return(jh=(0,s.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Ki(y,g.confirm(w))}})).apply(this,arguments)}class Bp{constructor(p,g){this.resolver=g,this.auth=function Lc(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ki(Lp(this.auth),this.resolver.resolveSignIn(p))}}class xr{constructor(p){this._delegate=p,this.multiFactor=function ga(y){const p=(0,F.m9)(y);return Lo.has(p)||Lo.set(p,vp._fromUser(p)),Lo.get(p)}(p)}static getOrCreate(p){return xr.USER_MAP.has(p)||xr.USER_MAP.set(p,new xr(p)),xr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,s.Z)(function*(){return Ki(g.auth,Xl(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,s.Z)(function*(){return Vp(w.auth,function hi(y,p,g){return Le.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,s.Z)(function*(){return Ki(g.auth,function ed(y,p,g){return Mr.apply(this,arguments)}(g._delegate,p,mr))})()}linkWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield Nc(Tn(g.auth)),function X(y,p,g){return function ue(y,p,g){return Ie.apply(this,arguments)}(y,p,g)}(g._delegate,p,mr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,s.Z)(function*(){return Ki(g.auth,Jl(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Vp(this.auth,function fi(y,p,g){return hs.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Ki(this.auth,function ve(y,p,g){return go.apply(this,arguments)}(this._delegate,p,mr))}reauthenticateWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield Nc(Tn(g.auth)),function I(y,p,g){return function x(y,p,g){return L.apply(this,arguments)}(y,p,g)}(g._delegate,p,mr)})()}sendEmailVerification(p){return function ju(y,p){return sl.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,s.Z)(function*(){return yield function Yi(y,p){return Zl.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function ph(y,p){return Fo((0,F.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Po(y,p){return Fo((0,F.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function pi(y,p){return Sn.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function $u(y,p){return qu.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function Gu(y,p,g){return sc.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xr.USER_MAP=new WeakMap;const Vs=H;let vo=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Vs(A,"invalid-api-key",{appName:g.name}),Vs(A,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?mr:void 0;this._delegate=w.initialize({options:{persistence:Gh(A,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Mu(y,p,g){const w=Tn(y);H(w._canInitEmulator,w,"emulator-config-failed"),H(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!g?.disableWarnings,R=as(p),{host:Z,port:de}=function ri(y){const p=as(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const R=A[1];return{host:R,port:to(w.substr(R.length+1))}}{const[R,Z]=w.split(":");return{host:R,port:to(Z)}}}(p);w.config.emulator={url:`${R}//${Z}${null===de?"":`:${de}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Z,port:de,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function no(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function Sr(y,p){return el.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return tl(this._delegate,g)}confirmPasswordReset(g,w){return function ic(y,p,g){return ha.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var A=this;return(0,s.Z)(function*(){return Ki(A._delegate,function nl(y,p,g){return Un.apply(this,arguments)}(A._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function rc(y,p){return rl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function As(y,p){return"EMAIL_SIGNIN"===$l.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,s.Z)(function*(){Vs(Oc(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function He(y,p){return mt.apply(this,arguments)}(g._delegate,mr);return w?Ki(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Lh(y,p){Tn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,A){const{next:R,error:Z,complete:de}=ld(g,w,A);return this._delegate.onAuthStateChanged(R,Z,de)}onIdTokenChanged(g,w,A){const{next:R,error:Z,complete:de}=ld(g,w,A);return this._delegate.onIdTokenChanged(R,Z,de)}sendSignInLinkToEmail(g,w){return function Uu(y,p,g){return Oo.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function nc(y,p,g){return Bn.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,s.Z)(function*(){let A;switch(function Fc(y,p){Uh(Object.values(Wi).includes(p),y,"invalid-persistence-type"),(0,F.b$)()?Uh(p!==Wi.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?Uh(p===Wi.NONE,y,"unsupported-persistence-type"):Aa()?Uh(p===Wi.NONE||p===Wi.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):Uh(p===Wi.NONE||rd(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Wi.SESSION:A=us;break;case Wi.LOCAL:A=(yield oe(ya)._isAvailable())?ya:al;break;case Wi.NONE:A=on;break;default:return Te("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ki(this._delegate,function gp(y){return Vn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ki(this._delegate,On(this._delegate,g))}signInWithCustomToken(g){return Ki(this._delegate,function Lu(y,p){return Ja.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Ki(this._delegate,function cs(y,p,g){return On((0,F.m9)(y),ls.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Ki(this._delegate,function vg(y,p,g){return il.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Vp(this._delegate,function Si(y,p,g){return un.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,s.Z)(function*(){return Vs(Oc(),w._delegate,"operation-not-supported-in-this-environment"),Ki(w._delegate,function Sh(y,p,g){return gl.apply(this,arguments)}(w._delegate,g,mr))})()}signInWithRedirect(g){var w=this;return(0,s.Z)(function*(){return Vs(Oc(),w._delegate,"operation-not-supported-in-this-environment"),yield Nc(w._delegate),function Qn(y,p,g){return function wp(y,p,g){return S.apply(this,arguments)}(y,p,g)}(w._delegate,g,mr)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Bu(y,p){return fh.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Wi,y})();function ld(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const A=w;return{next:Z=>A(Z&&xr.getOrCreate(Z)),error:p,complete:g}}function Gh(y,p){const g=function xa(y,p){const g=Fp();if(!g)return[];const w=li(Hh,y,p);switch(g.getItem(w)){case Wi.NONE:return[on];case Wi.LOCAL:return[ya,us];case Wi.SESSION:return[us];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(ya)&&g.push(ya),typeof window<"u")for(const w of[al,us])g.includes(w)||g.push(w);return g.includes(on)||g.push(on),g}class Vc{constructor(){this.providerId="phone",this._delegate=new In(Lp(te.Z.auth()))}static credential(p,g){return In.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Vc.PHONE_SIGN_IN_METHOD=In.PHONE_SIGN_IN_METHOD,Vc.PROVIDER_ID=In.PROVIDER_ID;const Pn=H;class cd{constructor(p,g,w=te.Z.app()){var A;Pn(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Ei(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Bc(y){y.INTERNAL.registerComponent(new ee.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new vo(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ls,FacebookAuthProvider:Xa,GithubAuthProvider:Pu,GoogleAuthProvider:ql,OAuthProvider:ko,SAMLAuthProvider:Dr,PhoneAuthProvider:Vc,PhoneMultiFactorGenerator:wl,RecaptchaVerifier:cd,TwitterAuthProvider:ur,Auth:vo,AuthCredential:ki,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.20")}(te.Z)},9751:(ct,Ee,P)=>{P.d(Ee,{y:()=>fe});var s=P(930),te=P(727),F=P(8822),ce=P(9635),se=P(2416),pe=P(576),ee=P(2806);let fe=(()=>{class Q{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Ce=new Q;return Ce.source=this,Ce.operator=xe,Ce}subscribe(xe,Ce,nt){const ye=function G(Q){return Q&&Q instanceof s.Lv||function j(Q){return Q&&(0,pe.m)(Q.next)&&(0,pe.m)(Q.error)&&(0,pe.m)(Q.complete)}(Q)&&(0,te.Nn)(Q)}(xe)?xe:new s.Hp(xe,Ce,nt);return(0,ee.x)(()=>{const{operator:ge,source:Je}=this;ye.add(ge?ge.call(ye,Je):Je?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ce){xe.error(Ce)}}forEach(xe,Ce){return new(Ce=me(Ce))((nt,ye)=>{const ge=new s.Hp({next:Je=>{try{xe(Je)}catch(at){ye(at),ge.unsubscribe()}},error:ye,complete:nt});this.subscribe(ge)})}_subscribe(xe){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(xe)}[F.L](){return this}pipe(...xe){return(0,ce.U)(xe)(this)}toPromise(xe){return new(xe=me(xe))((Ce,nt)=>{let ye;this.subscribe(ge=>ye=ge,ge=>nt(ge),()=>Ce(ye))})}}return Q.create=Ve=>new Q(Ve),Q})();function me(Q){var Ve;return null!==(Ve=Q??se.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(ct,Ee,P)=>{P.d(Ee,{x:()=>ee});var s=P(9751),te=P(727);const ce=(0,P(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=P(8737),pe=P(2806);let ee=(()=>{class me extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Q=new fe(this,this);return Q.operator=G,Q}_throwIfClosed(){if(this.closed)throw new ce}next(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(G)}})}error(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Q}=this;for(;Q.length;)Q.shift().error(G)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Q,isStopped:Ve,observers:xe}=this;return Q||Ve?te.Lc:(this.currentObservers=null,xe.push(G),new te.w0(()=>{this.currentObservers=null,(0,se.P)(xe,G)}))}_checkFinalizedStatuses(G){const{hasError:Q,thrownError:Ve,isStopped:xe}=this;Q?G.error(Ve):xe&&G.complete()}asObservable(){const G=new s.y;return G.source=this,G}}return me.create=(j,G)=>new fe(j,G),me})();class fe extends ee{constructor(j,G){super(),this.destination=j,this.source=G}next(j){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Q||Q.call(G,j)}error(j){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Q||Q.call(G,j)}complete(){var j,G;null===(G=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===G||G.call(j)}_subscribe(j){var G,Q;return null!==(Q=null===(G=this.source)||void 0===G?void 0:G.subscribe(j))&&void 0!==Q?Q:te.Lc}}},930:(ct,Ee,P)=>{P.d(Ee,{Hp:()=>nt,Lv:()=>Q});var s=P(576),te=P(727),F=P(2416),ce=P(7849),se=P(5032);const pe=me("C",void 0,void 0);function me(Te,we,De){return{kind:Te,value:we,error:De}}var j=P(3410),G=P(2806);class Q extends te.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,te.Nn)(we)&&we.add(this)):this.destination=at}static create(we,De,Ue){return new nt(we,De,Ue)}next(we){this.isStopped?Je(function fe(Te){return me("N",Te,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Je(function ee(Te){return me("E",void 0,Te)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Je(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function xe(Te,we){return Ve.call(Te,we)}class Ce{constructor(we){this.partialObserver=we}next(we){const{partialObserver:De}=this;if(De.next)try{De.next(we)}catch(Ue){ye(Ue)}}error(we){const{partialObserver:De}=this;if(De.error)try{De.error(we)}catch(Ue){ye(Ue)}else ye(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(De){ye(De)}}}class nt extends Q{constructor(we,De,Ue){let Ge;if(super(),(0,s.m)(we)||!we)Ge={next:we??void 0,error:De??void 0,complete:Ue??void 0};else{let H;this&&F.v.useDeprecatedNextContext?(H=Object.create(we),H.unsubscribe=()=>this.unsubscribe(),Ge={next:we.next&&xe(we.next,H),error:we.error&&xe(we.error,H),complete:we.complete&&xe(we.complete,H)}):Ge=we}this.destination=new Ce(Ge)}}function ye(Te){F.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Te):(0,ce.h)(Te)}function Je(Te,we){const{onStoppedNotification:De}=F.v;De&&j.z.setTimeout(()=>De(Te,we))}const at={closed:!0,next:se.Z,error:function ge(Te){throw Te},complete:se.Z}},727:(ct,Ee,P)=>{P.d(Ee,{Lc:()=>pe,w0:()=>se,Nn:()=>ee});var s=P(576);const F=(0,P(3888).d)(me=>function(G){me(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Q,Ve)=>`${Ve+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ce=P(8737);class se{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const xe of G)xe.remove(this);else G.remove(this);const{initialTeardown:Q}=this;if((0,s.m)(Q))try{Q()}catch(xe){j=xe instanceof F?xe.errors:[xe]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const xe of Ve)try{fe(xe)}catch(Ce){j=j??[],Ce instanceof F?j=[...j,...Ce.errors]:j.push(Ce)}}if(j)throw new F(j)}}add(j){var G;if(j&&j!==this)if(this.closed)fe(j);else{if(j instanceof se){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(j)}}_hasParent(j){const{_parentage:G}=this;return G===j||Array.isArray(G)&&G.includes(j)}_addParent(j){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(j),G):G?[G,j]:j}_removeParent(j){const{_parentage:G}=this;G===j?this._parentage=null:Array.isArray(G)&&(0,ce.P)(G,j)}remove(j){const{_finalizers:G}=this;G&&(0,ce.P)(G,j),j instanceof se&&j._removeParent(this)}}se.EMPTY=(()=>{const me=new se;return me.closed=!0,me})();const pe=se.EMPTY;function ee(me){return me instanceof se||me&&"closed"in me&&(0,s.m)(me.remove)&&(0,s.m)(me.add)&&(0,s.m)(me.unsubscribe)}function fe(me){(0,s.m)(me)?me():me.unsubscribe()}},2416:(ct,Ee,P)=>{P.d(Ee,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Ee,P)=>{P.d(Ee,{E:()=>te});const te=new(P(9751).y)(se=>se.complete())},8996:(ct,Ee,P)=>{P.d(Ee,{D:()=>we});var s=P(8421),te=P(5363),F=P(9468),pe=P(9751),fe=P(2202),me=P(576),j=P(9672);function Q(De,Ue){if(!De)throw new Error("Iterable cannot be null");return new pe.y(Ge=>{(0,j.f)(Ge,Ue,()=>{const H=De[Symbol.asyncIterator]();(0,j.f)(Ge,Ue,()=>{H.next().then(_e=>{_e.done?Ge.complete():Ge.next(_e.value)})},0,!0)})})}var Ve=P(3670),xe=P(8239),Ce=P(1144),nt=P(6495),ye=P(2206),ge=P(4532),Je=P(3260);function we(De,Ue){return Ue?function Te(De,Ue){if(null!=De){if((0,Ve.c)(De))return function ce(De,Ue){return(0,s.Xf)(De).pipe((0,F.R)(Ue),(0,te.Q)(Ue))}(De,Ue);if((0,Ce.z)(De))return function ee(De,Ue){return new pe.y(Ge=>{let H=0;return Ue.schedule(function(){H===De.length?Ge.complete():(Ge.next(De[H++]),Ge.closed||this.schedule())})})}(De,Ue);if((0,xe.t)(De))return function se(De,Ue){return(0,s.Xf)(De).pipe((0,F.R)(Ue),(0,te.Q)(Ue))}(De,Ue);if((0,ye.D)(De))return Q(De,Ue);if((0,nt.T)(De))return function G(De,Ue){return new pe.y(Ge=>{let H;return(0,j.f)(Ge,Ue,()=>{H=De[fe.h](),(0,j.f)(Ge,Ue,()=>{let _e,K;try{({value:_e,done:K}=H.next())}catch(ne){return void Ge.error(ne)}K?Ge.complete():Ge.next(_e)},0,!0)}),()=>(0,me.m)(H?.return)&&H.return()})}(De,Ue);if((0,Je.L)(De))return function at(De,Ue){return Q((0,Je.Q)(De),Ue)}(De,Ue)}throw(0,ge.z)(De)}(De,Ue):(0,s.Xf)(De)}},8421:(ct,Ee,P)=>{P.d(Ee,{Xf:()=>Ve});var s=P(655),te=P(1144),F=P(8239),ce=P(9751),se=P(3670),pe=P(2206),ee=P(4532),fe=P(6495),me=P(3260),j=P(576),G=P(7849),Q=P(8822);function Ve(Te){if(Te instanceof ce.y)return Te;if(null!=Te){if((0,se.c)(Te))return function xe(Te){return new ce.y(we=>{const De=Te[Q.L]();if((0,j.m)(De.subscribe))return De.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,te.z)(Te))return function Ce(Te){return new ce.y(we=>{for(let De=0;De<Te.length&&!we.closed;De++)we.next(Te[De]);we.complete()})}(Te);if((0,F.t)(Te))return function nt(Te){return new ce.y(we=>{Te.then(De=>{we.closed||(we.next(De),we.complete())},De=>we.error(De)).then(null,G.h)})}(Te);if((0,pe.D)(Te))return ge(Te);if((0,fe.T)(Te))return function ye(Te){return new ce.y(we=>{for(const De of Te)if(we.next(De),we.closed)return;we.complete()})}(Te);if((0,me.L)(Te))return function Je(Te){return ge((0,me.Q)(Te))}(Te)}throw(0,ee.z)(Te)}function ge(Te){return new ce.y(we=>{(function at(Te,we){var De,Ue,Ge,H;return(0,s.mG)(this,void 0,void 0,function*(){try{for(De=(0,s.KL)(Te);!(Ue=yield De.next()).done;)if(we.next(Ue.value),we.closed)return}catch(_e){Ge={error:_e}}finally{try{Ue&&!Ue.done&&(H=De.return)&&(yield H.call(De))}finally{if(Ge)throw Ge.error}}we.complete()})})(Te,we).catch(De=>we.error(De))})}},6451:(ct,Ee,P)=>{P.d(Ee,{T:()=>pe});var s=P(8189),te=P(8421),F=P(515),ce=P(3269),se=P(8996);function pe(...ee){const fe=(0,ce.yG)(ee),me=(0,ce._6)(ee,1/0),j=ee;return j.length?1===j.length?(0,te.Xf)(j[0]):(0,s.J)(me)((0,se.D)(j,fe)):F.E}},5403:(ct,Ee,P)=>{P.d(Ee,{x:()=>te});var s=P(930);function te(ce,se,pe,ee,fe){return new F(ce,se,pe,ee,fe)}class F extends s.Lv{constructor(se,pe,ee,fe,me,j){super(se),this.onFinalize=me,this.shouldUnsubscribe=j,this._next=pe?function(G){try{pe(G)}catch(Q){se.error(Q)}}:super._next,this._error=fe?function(G){try{fe(G)}catch(Q){se.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(G){se.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(ct,Ee,P)=>{P.d(Ee,{U:()=>F});var s=P(4482),te=P(5403);function F(ce,se){return(0,s.e)((pe,ee)=>{let fe=0;pe.subscribe((0,te.x)(ee,me=>{ee.next(ce.call(se,me,fe++))}))})}},8189:(ct,Ee,P)=>{P.d(Ee,{J:()=>F});var s=P(5577),te=P(4671);function F(ce=1/0){return(0,s.z)(te.y,ce)}},5577:(ct,Ee,P)=>{P.d(Ee,{z:()=>fe});var s=P(4004),te=P(8421),F=P(4482),ce=P(9672),se=P(5403),ee=P(576);function fe(me,j,G=1/0){return(0,ee.m)(j)?fe((Q,Ve)=>(0,s.U)((xe,Ce)=>j(Q,xe,Ve,Ce))((0,te.Xf)(me(Q,Ve))),G):("number"==typeof j&&(G=j),(0,F.e)((Q,Ve)=>function pe(me,j,G,Q,Ve,xe,Ce,nt){const ye=[];let ge=0,Je=0,at=!1;const Te=()=>{at&&!ye.length&&!ge&&j.complete()},we=Ue=>ge<Q?De(Ue):ye.push(Ue),De=Ue=>{xe&&j.next(Ue),ge++;let Ge=!1;(0,te.Xf)(G(Ue,Je++)).subscribe((0,se.x)(j,H=>{Ve?.(H),xe?we(H):j.next(H)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(ge--;ye.length&&ge<Q;){const H=ye.shift();Ce?(0,ce.f)(j,Ce,()=>De(H)):De(H)}Te()}catch(H){j.error(H)}}))};return me.subscribe((0,se.x)(j,we,()=>{at=!0,Te()})),()=>{nt?.()}}(Q,Ve,me,G)))}},5363:(ct,Ee,P)=>{P.d(Ee,{Q:()=>ce});var s=P(9672),te=P(4482),F=P(5403);function ce(se,pe=0){return(0,te.e)((ee,fe)=>{ee.subscribe((0,F.x)(fe,me=>(0,s.f)(fe,se,()=>fe.next(me),pe),()=>(0,s.f)(fe,se,()=>fe.complete(),pe),me=>(0,s.f)(fe,se,()=>fe.error(me),pe)))})}},3099:(ct,Ee,P)=>{P.d(Ee,{B:()=>se});var s=P(8421),te=P(7579),F=P(930),ce=P(4482);function se(ee={}){const{connector:fe=(()=>new te.x),resetOnError:me=!0,resetOnComplete:j=!0,resetOnRefCountZero:G=!0}=ee;return Q=>{let Ve,xe,Ce,nt=0,ye=!1,ge=!1;const Je=()=>{xe?.unsubscribe(),xe=void 0},at=()=>{Je(),Ve=Ce=void 0,ye=ge=!1},Te=()=>{const we=Ve;at(),we?.unsubscribe()};return(0,ce.e)((we,De)=>{nt++,!ge&&!ye&&Je();const Ue=Ce=Ce??fe();De.add(()=>{nt--,0===nt&&!ge&&!ye&&(xe=pe(Te,G))}),Ue.subscribe(De),!Ve&&nt>0&&(Ve=new F.Hp({next:Ge=>Ue.next(Ge),error:Ge=>{ge=!0,Je(),xe=pe(at,me,Ge),Ue.error(Ge)},complete:()=>{ye=!0,Je(),xe=pe(at,j),Ue.complete()}}),(0,s.Xf)(we).subscribe(Ve))})(Q)}}function pe(ee,fe,...me){if(!0===fe)return void ee();if(!1===fe)return;const j=new F.Hp({next:()=>{j.unsubscribe(),ee()}});return fe(...me).subscribe(j)}},9468:(ct,Ee,P)=>{P.d(Ee,{R:()=>te});var s=P(4482);function te(F,ce=0){return(0,s.e)((se,pe)=>{pe.add(F.schedule(()=>se.subscribe(pe),ce))})}},8505:(ct,Ee,P)=>{P.d(Ee,{b:()=>se});var s=P(576),te=P(4482),F=P(5403),ce=P(4671);function se(pe,ee,fe){const me=(0,s.m)(pe)||ee||fe?{next:pe,error:ee,complete:fe}:pe;return me?(0,te.e)((j,G)=>{var Q;null===(Q=me.subscribe)||void 0===Q||Q.call(me);let Ve=!0;j.subscribe((0,F.x)(G,xe=>{var Ce;null===(Ce=me.next)||void 0===Ce||Ce.call(me,xe),G.next(xe)},()=>{var xe;Ve=!1,null===(xe=me.complete)||void 0===xe||xe.call(me),G.complete()},xe=>{var Ce;Ve=!1,null===(Ce=me.error)||void 0===Ce||Ce.call(me,xe),G.error(xe)},()=>{var xe,Ce;Ve&&(null===(xe=me.unsubscribe)||void 0===xe||xe.call(me)),null===(Ce=me.finalize)||void 0===Ce||Ce.call(me)}))}):ce.y}},4408:(ct,Ee,P)=>{P.d(Ee,{o:()=>se});var s=P(727);class te extends s.w0{constructor(ee,fe){super()}schedule(ee,fe=0){return this}}const F={setInterval(pe,ee,...fe){const{delegate:me}=F;return me?.setInterval?me.setInterval(pe,ee,...fe):setInterval(pe,ee,...fe)},clearInterval(pe){const{delegate:ee}=F;return(ee?.clearInterval||clearInterval)(pe)},delegate:void 0};var ce=P(8737);class se extends te{constructor(ee,fe){super(ee,fe),this.scheduler=ee,this.work=fe,this.pending=!1}schedule(ee,fe=0){var me;if(this.closed)return this;this.state=ee;const j=this.id,G=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(G,j,fe)),this.pending=!0,this.delay=fe,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(G,this.id,fe),this}requestAsyncId(ee,fe,me=0){return F.setInterval(ee.flush.bind(ee,this),me)}recycleAsyncId(ee,fe,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return fe;null!=fe&&F.clearInterval(fe)}execute(ee,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ee,fe);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,fe){let j,me=!1;try{this.work(ee)}catch(G){me=!0,j=G||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ee,scheduler:fe}=this,{actions:me}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(me,this),null!=ee&&(this.id=this.recycleAsyncId(fe,ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Ee,P)=>{P.d(Ee,{v:()=>F});var s=P(6063);class te{constructor(se,pe=te.now){this.schedulerActionCtor=se,this.now=pe}schedule(se,pe=0,ee){return new this.schedulerActionCtor(this,se).schedule(ee,pe)}}te.now=s.l.now;class F extends te{constructor(se,pe=te.now){super(se,pe),this.actions=[],this._active=!1}flush(se){const{actions:pe}=this;if(this._active)return void pe.push(se);let ee;this._active=!0;do{if(ee=se.execute(se.state,se.delay))break}while(se=pe.shift());if(this._active=!1,ee){for(;se=pe.shift();)se.unsubscribe();throw ee}}}},4986:(ct,Ee,P)=>{P.d(Ee,{P:()=>ce,z:()=>F});var s=P(4408);const F=new(P(7565).v)(s.o),ce=F},6063:(ct,Ee,P)=>{P.d(Ee,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(ct,Ee,P)=>{P.d(Ee,{z:()=>s});const s={setTimeout(te,F,...ce){const{delegate:se}=s;return se?.setTimeout?se.setTimeout(te,F,...ce):setTimeout(te,F,...ce)},clearTimeout(te){const{delegate:F}=s;return(F?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(ct,Ee,P)=>{P.d(Ee,{h:()=>te});const te=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Ee,P)=>{P.d(Ee,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ct,Ee,P)=>{P.d(Ee,{_6:()=>pe,jO:()=>ce,yG:()=>se});var s=P(576),te=P(3532);function F(ee){return ee[ee.length-1]}function ce(ee){return(0,s.m)(F(ee))?ee.pop():void 0}function se(ee){return(0,te.K)(F(ee))?ee.pop():void 0}function pe(ee,fe){return"number"==typeof F(ee)?ee.pop():fe}},8737:(ct,Ee,P)=>{function s(te,F){if(te){const ce=te.indexOf(F);0<=ce&&te.splice(ce,1)}}P.d(Ee,{P:()=>s})},3888:(ct,Ee,P)=>{function s(te){const ce=te(se=>{Error.call(se),se.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}P.d(Ee,{d:()=>s})},2806:(ct,Ee,P)=>{P.d(Ee,{O:()=>ce,x:()=>F});var s=P(2416);let te=null;function F(se){if(s.v.useDeprecatedSynchronousErrorHandling){const pe=!te;if(pe&&(te={errorThrown:!1,error:null}),se(),pe){const{errorThrown:ee,error:fe}=te;if(te=null,ee)throw fe}}else se()}function ce(se){s.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=se)}},9672:(ct,Ee,P)=>{function s(te,F,ce,se=0,pe=!1){const ee=F.schedule(function(){ce(),pe?te.add(this.schedule(null,se)):this.unsubscribe()},se);if(te.add(ee),!pe)return ee}P.d(Ee,{f:()=>s})},4671:(ct,Ee,P)=>{function s(te){return te}P.d(Ee,{y:()=>s})},1144:(ct,Ee,P)=>{P.d(Ee,{z:()=>s});const s=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(ct,Ee,P)=>{P.d(Ee,{D:()=>te});var s=P(576);function te(F){return Symbol.asyncIterator&&(0,s.m)(F?.[Symbol.asyncIterator])}},576:(ct,Ee,P)=>{function s(te){return"function"==typeof te}P.d(Ee,{m:()=>s})},3670:(ct,Ee,P)=>{P.d(Ee,{c:()=>F});var s=P(8822),te=P(576);function F(ce){return(0,te.m)(ce[s.L])}},6495:(ct,Ee,P)=>{P.d(Ee,{T:()=>F});var s=P(2202),te=P(576);function F(ce){return(0,te.m)(ce?.[s.h])}},8239:(ct,Ee,P)=>{P.d(Ee,{t:()=>te});var s=P(576);function te(F){return(0,s.m)(F?.then)}},3260:(ct,Ee,P)=>{P.d(Ee,{L:()=>ce,Q:()=>F});var s=P(655),te=P(576);function F(se){return(0,s.FC)(this,arguments,function*(){const ee=se.getReader();try{for(;;){const{value:fe,done:me}=yield(0,s.qq)(ee.read());if(me)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(fe)}}finally{ee.releaseLock()}})}function ce(se){return(0,te.m)(se?.getReader)}},3532:(ct,Ee,P)=>{P.d(Ee,{K:()=>te});var s=P(576);function te(F){return F&&(0,s.m)(F.schedule)}},4482:(ct,Ee,P)=>{P.d(Ee,{A:()=>te,e:()=>F});var s=P(576);function te(ce){return(0,s.m)(ce?.lift)}function F(ce){return se=>{if(te(se))return se.lift(function(pe){try{return ce(pe,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ct,Ee,P)=>{function s(){}P.d(Ee,{Z:()=>s})},9635:(ct,Ee,P)=>{P.d(Ee,{U:()=>F,z:()=>te});var s=P(4671);function te(...ce){return F(ce)}function F(ce){return 0===ce.length?s.y:1===ce.length?ce[0]:function(pe){return ce.reduce((ee,fe)=>fe(ee),pe)}}},7849:(ct,Ee,P)=>{P.d(Ee,{h:()=>F});var s=P(2416),te=P(3410);function F(ce){te.z.setTimeout(()=>{const{onUnhandledError:se}=s.v;if(!se)throw ce;se(ce)})}},4532:(ct,Ee,P)=>{function s(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ee,{z:()=>s})},655:(ct,Ee,P)=>{function ce(K,ne){var oe={};for(var re in K)Object.prototype.hasOwnProperty.call(K,re)&&ne.indexOf(re)<0&&(oe[re]=K[re]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(re=Object.getOwnPropertySymbols(K);Pe<re.length;Pe++)ne.indexOf(re[Pe])<0&&Object.prototype.propertyIsEnumerable.call(K,re[Pe])&&(oe[re[Pe]]=K[re[Pe]])}return oe}function fe(K,ne,oe,re){return new(oe||(oe=Promise))(function(Re,_t){function Kt(pn){try{Ye(re.next(pn))}catch(Yn){_t(Yn)}}function $t(pn){try{Ye(re.throw(pn))}catch(Yn){_t(Yn)}}function Ye(pn){pn.done?Re(pn.value):function Pe(Re){return Re instanceof oe?Re:new oe(function(_t){_t(Re)})}(pn.value).then(Kt,$t)}Ye((re=re.apply(K,ne||[])).next())})}function ye(K){return this instanceof ye?(this.v=K,this):new ye(K)}function ge(K,ne,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,re=oe.apply(K,ne||[]),Re=[];return Pe={},_t("next"),_t("throw"),_t("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function _t(nn){re[nn]&&(Pe[nn]=function(rn){return new Promise(function(Gi,Ut){Re.push([nn,rn,Gi,Ut])>1||Kt(nn,rn)})})}function Kt(nn,rn){try{!function $t(nn){nn.value instanceof ye?Promise.resolve(nn.value.v).then(Ye,pn):Yn(Re[0][2],nn)}(re[nn](rn))}catch(Gi){Yn(Re[0][3],Gi)}}function Ye(nn){Kt("next",nn)}function pn(nn){Kt("throw",nn)}function Yn(nn,rn){nn(rn),Re.shift(),Re.length&&Kt(Re[0][0],Re[0][1])}}function at(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ne=K[Symbol.asyncIterator];return ne?ne.call(K):(K=function Q(K){var ne="function"==typeof Symbol&&Symbol.iterator,oe=ne&&K[ne],re=0;if(oe)return oe.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&re>=K.length&&(K=void 0),{value:K&&K[re++],done:!K}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),oe={},re("next"),re("throw"),re("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function re(Re){oe[Re]=K[Re]&&function(_t){return new Promise(function(Kt,$t){!function Pe(Re,_t,Kt,$t){Promise.resolve($t).then(function(Ye){Re({value:Ye,done:Kt})},_t)}(Kt,$t,(_t=K[Re](_t)).done,_t.value)})}}}P.d(Ee,{FC:()=>ge,KL:()=>at,_T:()=>ce,mG:()=>fe,qq:()=>ye})},4650:(ct,Ee,P)=>{P.d(Ee,{$8M:()=>vc,$Z:()=>qc,AFp:()=>lS,ALo:()=>Xt,AaK:()=>fe,BQk:()=>su,CHM:()=>tc,CRH:()=>WE,CZH:()=>jf,CqO:()=>ND,D6c:()=>AS,DdM:()=>NE,EJc:()=>Uw,EiD:()=>yo,EpF:()=>ou,F$t:()=>tb,F4k:()=>FD,FYo:()=>Ne,FiY:()=>He,G48:()=>m1,Gf:()=>Iw,GfV:()=>_i,GkF:()=>Pl,Gpc:()=>G,Gre:()=>JD,Hsn:()=>Wr,Ikx:()=>Mb,JOm:()=>Ra,JVY:()=>Oh,KtG:()=>nc,L6k:()=>Ip,LAX:()=>Oi,LFG:()=>Qn,LSH:()=>Vh,Lbi:()=>AA,Lck:()=>cw,MAs:()=>Xv,MMx:()=>Am,NdJ:()=>mm,O4$:()=>Yu,OlP:()=>vn,Oqu:()=>mb,PXZ:()=>HA,Q6J:()=>_f,QGY:()=>T_,QP$:()=>os,QbO:()=>h1,Qsj:()=>Xe,R0b:()=>Zs,RDi:()=>Qy,Rgc:()=>Gd,SBq:()=>R,Sil:()=>OA,Suo:()=>Rm,TTD:()=>Ss,TgZ:()=>I_,Udp:()=>lb,VKq:()=>LE,WFA:()=>yf,X6Q:()=>p1,XFs:()=>Ke,Xpm:()=>$,Xts:()=>rd,Y36:()=>wd,YKP:()=>Z_,YNc:()=>OD,Yjl:()=>Gt,Yz7:()=>rn,Z0I:()=>Ka,ZZ4:()=>Xw,_Bn:()=>TE,_UZ:()=>Jv,_Vd:()=>g,_c5:()=>nx,_uU:()=>pb,aQg:()=>Gm,c2e:()=>hS,cJS:()=>Ut,cg1:()=>Vd,d8E:()=>Tb,dDg:()=>VA,dqk:()=>_n,eBb:()=>Mp,eFA:()=>qw,ekj:()=>vm,eoX:()=>gS,f3M:()=>S,g9A:()=>uS,h0i:()=>du,hGG:()=>t0,hij:()=>Cm,iGM:()=>Sw,ifc:()=>ht,ip1:()=>Yd,jDz:()=>xm,kL8:()=>kb,kcU:()=>mh,lG2:()=>li,lcZ:()=>Of,lqb:()=>zr,lri:()=>gu,mCW:()=>Ic,n5z:()=>ks,n_E:()=>ey,oAB:()=>ut,oxw:()=>bf,pB0:()=>Zi,q3G:()=>bn,q4F:()=>ps,qLn:()=>Qh,qOj:()=>y_,qZA:()=>pm,qzn:()=>wl,rWj:()=>mS,sBO:()=>g1,sIi:()=>dm,s_b:()=>Cw,soG:()=>ay,tb:()=>dS,tp0:()=>et,uIk:()=>D_,vHH:()=>Ce,vpe:()=>Xo,wAp:()=>gt,xp6:()=>Zp,ynx:()=>M_,z2F:()=>fy,z3N:()=>Gr,zSh:()=>Np,zs3:()=>zc});var s=P(7579),te=P(727),F=P(9751),ce=P(6451),se=P(3099);function pe(a){for(let l in a)if(a[l]===pe)return l;throw Error("Could not find renamed property on target object.")}function ee(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function fe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(fe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function me(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const j=pe({__forward_ref__:pe});function G(a){return a.__forward_ref__=G,a.toString=function(){return fe(this())},a}function Q(a){return Ve(a)?a():a}function Ve(a){return"function"==typeof a&&a.hasOwnProperty(j)&&a.__forward_ref__===G}class Ce extends Error{constructor(l,c){super(function nt(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function ye(a){return"string"==typeof a?a:null==a?"":String(a)}function we(a,l){throw new Ce(-201,!1)}function $t(a,l){null==a&&function Ye(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function rn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Ut(a){return{providers:a.providers||[],imports:a.imports||[]}}function hn(a){return or(a,ss)||or(a,Fr)}function Ka(a){return null!==hn(a)}function or(a,l){return a.hasOwnProperty(l)?a[l]:null}function Js(a){return a&&(a.hasOwnProperty(lr)||a.hasOwnProperty(la))?a[lr]:null}const ss=pe({\u0275prov:pe}),lr=pe({\u0275inj:pe}),Fr=pe({ngInjectableDef:pe}),la=pe({ngInjectorDef:pe});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let cr;function Zn(a){const l=cr;return cr=a,l}function Nr(a,l,c){const d=hn(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&Ke.Optional?null:void 0!==l?l:void we(fe(a))}function Wn(a){return{toString:a}.toString()}var ai=(()=>((ai=ai||{})[ai.OnPush=0]="OnPush",ai[ai.Default=1]="Default",ai))(),ht=(()=>{return(a=ht||(ht={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",ht;var a})();const _n=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zi={},Mt=[],Cs=pe({\u0275cmp:pe}),sn=pe({\u0275dir:pe}),Lr=pe({\u0275pipe:pe}),en=pe({\u0275mod:pe}),W=pe({\u0275fac:pe}),z=pe({__NG_ELEMENT_ID__:pe});let B=0;function $(a){return Wn(()=>{const c=!0===a.standalone,d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ai.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Mt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||ht.Emulated,id:"c"+B++,styles:a.styles||Mt,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.dependencies,v=a.features;return f.inputs=on(a.inputs,d),f.outputs=on(a.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Se).filter(Be):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(ni).filter(Be):null,f})}function Se(a){return Lt(a)||Mn(a)}function Be(a){return null!==a}function ut(a){return Wn(()=>({type:a.type,bootstrap:a.bootstrap||Mt,declarations:a.declarations||Mt,imports:a.imports||Mt,exports:a.exports||Mt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function on(a,l){if(null==a)return zi;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,l&&(l[f]=m)}return c}const li=$;function Gt(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Lt(a){return a[Cs]||null}function Mn(a){return a[sn]||null}function ni(a){return a[Lr]||null}function os(a){const l=Lt(a)||Mn(a)||ni(a);return null!==l&&l.standalone}function $i(a,l){const c=a[en]||null;if(!c&&!0===l)throw new Error(`Type ${fe(a)} does not have '\u0275mod' property.`);return c}function Ci(a){return Array.isArray(a)&&"object"==typeof a[1]}function qi(a){return Array.isArray(a)&&!0===a[1]}function xo(a){return 0!=(8&a.flags)}function ro(a){return 2==(2&a.flags)}function Gl(a){return 1==(1&a.flags)}function Li(a){return null!==a.template}function up(a){return 0!=(256&a[2])}function ls(a,l){return a.hasOwnProperty(W)?a[W]:null}class Es{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ss(){return ko}function ko(a){return a.type.prototype.ngOnChanges&&(a.setInput=ql),Xa}function Xa(){const a=pp(this),l=a?.current;if(l){const c=a.previous;if(c===zi)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function ql(a,l,c,d){const f=pp(a)||function Vi(a,l){return a[Pu]=l}(a,{previous:zi,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[c],E=v[C];m[C]=new Es(E&&E.currentValue,l,v===zi),a[d]=l}Ss.ngInherit=!0;const Pu="__ngSimpleChanges__";function pp(a){return a[Pu]||null}function Vn(a){for(;Array.isArray(a);)a=a[0];return a}function Er(a,l){return Vn(l[a])}function Yi(a,l){return Vn(l[a.index])}function da(a,l){return a.data[l]}function Ms(a,l){return a[l]}function Zt(a,l){const c=l[a];return Ci(c)?c:c[0]}function Ro(a){return 64==(64&a[2])}function Hr(a,l){return null==l?null:a[l]}function Ql(a){a[18]=0}function On(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Tt={lFrame:$u(null),bindingsEnabled:!0};function Ts(){return Tt.bindingsEnabled}function Me(){return Tt.lFrame.lView}function zt(){return Tt.lFrame.tView}function tc(a){return Tt.lFrame.contextLView=a,a[8]}function nc(a){return Tt.lFrame.contextLView=null,a}function Bn(){let a=ic();for(;null!==a&&64===a.type;)a=a.parent;return a}function ic(){return Tt.lFrame.currentTNode}function Sr(a,l){const c=Tt.lFrame;c.currentTNode=a,c.isParent=l}function el(){return Tt.lFrame.isParent}function tl(){Tt.lFrame.isParent=!1}function Un(){const a=Tt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Oo(){return Tt.lFrame.bindingIndex++}function As(a){const l=Tt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function bg(a,l){const c=Tt.lFrame;c.bindingIndex=c.bindingRootIndex=a,rc(l)}function rc(a){Tt.lFrame.currentDirectiveIndex=a}function rl(a){const l=Tt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function ju(){return Tt.lFrame.currentQueryIndex}function sl(a){Tt.lFrame.currentQueryIndex=a}function Gu(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function sc(a,l,c){if(c&Ke.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||c&Ke.Host||(f=Gu(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,a=m}const d=Tt.lFrame=zu();return d.currentTNode=l,d.lView=a,!0}function oc(a){const l=zu(),c=a[1];Tt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function zu(){const a=Tt.lFrame,l=null===a?null:a.child;return null===l?$u(a):l}function $u(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function qu(){const a=Tt.lFrame;return Tt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const ph=qu;function Po(){const a=qu();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function di(){return Tt.lFrame.selectedIndex}function dr(a){Tt.lFrame.selectedIndex=a}function En(){const a=Tt.lFrame;return da(a.tView,a.selectedIndex)}function Yu(){Tt.lFrame.currentNamespace="svg"}function mh(){!function Wu(){Tt.lFrame.currentNamespace=null}()}function Ku(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:k}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),C&&((a.contentHooks||(a.contentHooks=[])).push(c,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,C)),E&&(a.viewHooks||(a.viewHooks=[])).push(-c,E),T&&((a.viewHooks||(a.viewHooks=[])).push(c,T),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,T)),null!=k&&(a.destroyHooks||(a.destroyHooks=[])).push(c,k)}}function fa(a,l,c){ma(a,l,3,c)}function pa(a,l,c,d){(3&a[2])===c&&ma(a,l,c,d)}function _h(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function ma(a,l,c,d){const m=d??-1,v=l.length-1;let C=0;for(let E=void 0!==d?65535&a[18]:0;E<v;E++)if("number"==typeof l[E+1]){if(C=l[E],null!=d&&C>=d)break}else l[E]<0&&(a[18]+=65536),(C<m||-1==m)&&(yh(a,c,l,E),a[18]=(4294901760&a[18])+E+2),E++}function yh(a,l,c,d){const f=c[d]<0,m=c[d+1],C=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class lo{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ga(a,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],v=c[d++],C=c[d++];a.setAttribute(l,v,C,m)}else{const m=f,v=c[++d];hc(m)?a.setProperty(l,m,v):a.setAttribute(l,m,v),d++}}return d}function Vo(a){return 3===a||4===a||6===a}function hc(a){return 64===a.charCodeAt(0)}function ol(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||bh(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function bh(a,l,c,d,f){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const C=a[m++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=m-1;break}}}for(;m<a.length;){const C=a[m];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(a[m+1]=f));if(d===a[m+1])return void(a[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,c),null!==d&&a.splice(m++,0,d),null!==f&&a.splice(m++,0,f)}function wh(a){return-1!==a}function Di(a){return 32767&a}function ll(a,l){let c=function al(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let us=!0;function cl(a){const l=us;return us=a,l}let Kn=0;const jr={};function Bo(a,l){const c=pc(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,dl(d.data,a),dl(l,null),dl(d.blueprint,null));const f=mc(a,l),m=a.injectorIndex;if(wh(f)){const v=Di(f),C=ll(f,l),E=C[1].data;for(let T=0;T<8;T++)l[m+T]=C[v+T]|E[v+T]}return l[m+8]=f,m}function dl(a,l){a.push(0,0,0,0,0,0,0,0,l)}function pc(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function mc(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=va(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function co(a,l,c){!function fc(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(z)&&(d=c[z]),null==d&&(d=c[z]=Kn++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function uo(a,l,c){if(c&Ke.Optional||void 0!==a)return a;we()}function gc(a,l,c,d){if(c&Ke.Optional&&void 0===d&&(d=null),0==(c&(Ke.Self|Ke.Host))){const f=a[9],m=Zn(void 0);try{return f?f.get(l,d,c&Ke.Optional):Nr(l,d,c&Ke.Optional)}finally{Zn(m)}}return uo(d,0,c)}function Uo(a,l,c,d=Ke.Default,f){if(null!==a){if(1024&l[2]){const v=function ya(a,l,c,d,f){let m=a,v=l;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=hl(m,v,c,d|Ke.Self,jr);if(C!==jr)return C;let E=m.parent;if(!E){const T=v[21];if(T){const k=T.get(c,jr,d);if(k!==jr)return k}E=va(v),v=v[15]}m=E}return f}(a,l,c,d,jr);if(v!==jr)return v}const m=hl(a,l,c,d,jr);if(m!==jr)return m}return gc(l,c,d,f)}function hl(a,l,c,d,f){const m=function Xu(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(z)?a[z]:void 0;return"number"==typeof l?l>=0?255&l:Ju:l}(c);if("function"==typeof m){if(!sc(l,a,d))return d&Ke.Host?uo(f,0,d):gc(l,c,d,f);try{const v=m(d);if(null!=v||d&Ke.Optional)return v;we()}finally{ph()}}else if("number"==typeof m){let v=null,C=pc(a,l),E=-1,T=d&Ke.Host?l[16][6]:null;for((-1===C||d&Ke.SkipSelf)&&(E=-1===C?mc(a,l):l[C+8],-1!==E&&fl(d,!1)?(v=l[1],C=Di(E),l=ll(E,l)):C=-1);-1!==C;){const k=l[1];if(_c(m,C,k.data)){const N=Eh(C,l,c,v,d,T);if(N!==jr)return N}E=l[C+8],-1!==E&&fl(d,l[1].data[C+8]===T)&&_c(m,C,l)?(v=k,C=Di(E),l=ll(E,l)):C=-1}}return f}function Eh(a,l,c,d,f,m){const v=l[1],C=v.data[a+8],k=_a(C,v,c,null==d?ro(C)&&us:d!=v&&0!=(3&C.type),f&Ke.Host&&m===C);return null!==k?xs(l,v,k,C):jr}function _a(a,l,c,d,f){const m=a.providerIndexes,v=l.data,C=1048575&m,E=a.directiveStart,k=m>>20,q=f?C+k:a.directiveEnd;for(let ie=d?C:C+k;ie<q;ie++){const be=v[ie];if(ie<E&&c===be||ie>=E&&be.type===c)return ie}if(f){const ie=v[E];if(ie&&Li(ie)&&ie.type===c)return E}return null}function xs(a,l,c,d){let f=a[c];const m=l.data;if(function No(a){return a instanceof lo}(f)){const v=f;v.resolving&&function Je(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${a}${c}`)}(function ge(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ye(a)}(m[c]));const C=cl(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Zn(v.injectImpl):null;sc(a,d,Ke.Default);try{f=a[c]=v.factory(void 0,m,a,d),l.firstCreatePass&&c>=d.directiveStart&&function gh(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=ko(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,m))}(c,m[c],l)}finally{null!==E&&Zn(E),cl(C),v.resolving=!1,ph()}}return f}function _c(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function fl(a,l){return!(a&Ke.Self||a&Ke.Host&&l)}class Ho{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return Uo(this._tNode,this._lView,l,d,c)}}function Ju(){return new Ho(Bn(),Me())}function ks(a){return Wn(()=>{const l=a.prototype.constructor,c=l[W]||yc(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const m=f[W]||yc(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function yc(a){return Ve(a)?()=>{const l=yc(Q(a));return l&&l()}:ls(a)}function va(a){const l=a[1],c=l.type;return 2===c?l.declTNode:1===c?a[6]:null}function vc(a){return function Dh(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(Vo(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===l)return c[f+1];f+=2}}}return null}(Bn(),a)}const ho="__parameters__";function Ca(a,l,c){return Wn(()=>{const d=function bc(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(E,T,k){const N=E.hasOwnProperty(ho)?E[ho]:Object.defineProperty(E,ho,{value:[]})[ho];for(;N.length<=k;)N.push(null);return(N[k]=N[k]||[]).push(v),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class vn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=rn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hi(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),hi(d,l)):l!==a&&l.push(d)}return l}function Le(a,l){a.forEach(c=>Array.isArray(c)?Le(c,l):l(c))}function fi(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function hs(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function fo(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function pr(a,l,c){let d=Ir(a,l);return d>=0?a[1|d]=c:(d=~d,function Sn(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function Rs(a,l){const c=Ir(a,l);if(c>=0)return a[1|c]}function Ir(a,l){return function ml(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const m=d+(f-d>>1),v=a[m<<c];if(l===v)return m<<c;v>l?f=m:d=m+1}return~(f<<c)}(a,l,1)}const mi={},rt="__NG_DI_FLAG__",Ea="ngTempTokenPath",Sa=/\n/gm,yl="__source";let Ia;function fs(a){const l=Ia;return Ia=a,l}function Ih(a,l=Ke.Default){if(void 0===Ia)throw new Ce(-203,!1);return null===Ia?Nr(a,void 0,l):Ia.get(a,l&Ke.Optional?null:void 0,l)}function Qn(a,l=Ke.Default){return(function ws(){return cr}()||Ih)(Q(a),l)}function S(a,l=Ke.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Qn(a,l)}function I(a){const l=[];for(let c=0;c<a.length;c++){const d=Q(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let f,m=Ke.Default;for(let v=0;v<d.length;v++){const C=d[v],E=L(C);"number"==typeof E?-1===E?f=C.token:m|=E:f=C}l.push(Qn(f,m))}else l.push(Qn(d))}return l}function x(a,l){return a[rt]=l,a.prototype[rt]=l,a}function L(a){return a[rt]}const He=x(Ca("Optional"),8),et=x(Ca("SkipSelf"),4);let bl,Dc;function Qy(a){bl=a}function $o(a){return function Dp(){if(void 0===Dc&&(Dc=null,_n.trustedTypes))try{Dc=_n.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Dc}()?.createHTML(a)||a}class Ns{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xg extends Ns{getTypeName(){return"HTML"}}class Rh extends Ns{getTypeName(){return"Style"}}class Jy extends Ns{getTypeName(){return"Script"}}class Sp extends Ns{getTypeName(){return"URL"}}class kg extends Ns{getTypeName(){return"ResourceURL"}}function Gr(a){return a instanceof Ns?a.changingThisBreaksApplicationSecurity:a}function wl(a,l){const c=function Rg(a){return a instanceof Ns&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function Oh(a){return new xg(a)}function Ip(a){return new Rh(a)}function Mp(a){return new Jy(a)}function Oi(a){return new Sp(a)}function Zi(a){return new kg(a)}class Tp{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString($o(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class ev{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=$o(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=$o(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Og=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ic(a){return(a=String(a)).match(Og)?a:"unsafe:"+a}function qo(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Mc(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Tc=qo("area,br,col,hr,img,wbr"),Pg=qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ph=qo("rp,rt"),nd=Mc(Tc,Mc(Pg,qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mc(Ph,qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mc(Ph,Pg)),id=qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ta=Mc(id,qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fg=qo("script,style,template");class Ng{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!nd.hasOwnProperty(c))return this.sanitizedSomething=!0,!Fg.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,C=v.toLowerCase();if(!Ta.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;id[C]&&(E=Ic(E)),this.buf.push(" ",v,'="',Lg(E),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();nd.hasOwnProperty(c)&&!Tc.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(Lg(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Fh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ac=/([^\#-~ |!])/g;function Lg(a){return a.replace(/&/g,"&amp;").replace(Fh,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Ac,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nh;function yo(a,l){let c=null;try{Nh=Nh||function Ls(a){const l=new ev(a);return function Ap(){try{return!!(new window.DOMParser).parseFromString($o(""),"text/html")}catch{return!1}}()?new Tp(l):l}(a);let d=l?String(l):"";c=Nh.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=Nh.getInertBodyElement(d)}while(d!==m);return $o((new Ng).sanitizeChildren(Rp(c)||c))}finally{if(c){const d=Rp(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Rp(a){return"content"in a&&function iv(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var bn=(()=>((bn=bn||{})[bn.NONE=0]="NONE",bn[bn.HTML=1]="HTML",bn[bn.STYLE=2]="STYLE",bn[bn.SCRIPT=3]="SCRIPT",bn[bn.URL=4]="URL",bn[bn.RESOURCE_URL=5]="RESOURCE_URL",bn))();function Vh(a){const l=function Rc(){const a=Me();return a&&a[12]}();return l?l.sanitize(bn.URL,a)||"":wl(a,"URL")?Gr(a):Ic(ye(a))}const rd=new vn("ENVIRONMENT_INITIALIZER"),Aa=new vn("INJECTOR",-1),Oc=new vn("INJECTOR_DEF_TYPES");class sd{get(l,c=mi){if(c===mi){const d=new Error(`NullInjectorError: No provider for ${fe(l)}!`);throw d.name="NullInjectorError",d}return c}}function Pp(...a){return{\u0275providers:Cl(0,a)}}function Cl(a,...l){const c=[],d=new Set;let f;return Le(l,m=>{const v=m;Wi(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&Pc(f,c),c}function Pc(a,l){for(let c=0;c<a.length;c++){const{providers:f}=a[c];Le(f,m=>{l.push(m)})}}function Wi(a,l,c,d){if(!(a=Q(a)))return!1;let f=null,m=Js(a);const v=!m&&Lt(a);if(m||v){if(v&&!v.standalone)return!1;f=a}else{const E=a.ngModule;if(m=Js(E),!m)return!1;f=E}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of E)Wi(T,l,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let T;d.add(f);try{Le(m.imports,k=>{Wi(k,l,c,d)&&(T||(T=[]),T.push(k))})}finally{}void 0!==T&&Pc(T,l)}if(!C){const T=ls(f)||(()=>new f);l.push({provide:f,useFactory:T,deps:Mt},{provide:Oc,useValue:f,multi:!0},{provide:rd,useValue:()=>Qn(f),multi:!0})}const E=m.providers;null==E||C||Le(E,k=>{l.push(k)})}}return f!==a&&void 0!==a.providers}const Hh=pe({provide:String,useValue:pe});function Fc(a){return null!==a&&"object"==typeof a&&Hh in a}function xa(a){return"function"==typeof a}const Np=new vn("Set Injector scope."),mr={},Lp={};let Lc;function ka(){return void 0===Lc&&(Lc=new sd),Lc}class zr{}class ad extends zr{constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vc(l,v=>this.processProvider(v)),this.records.set(Aa,xr(void 0,this)),f.has("environment")&&this.records.set(zr,xr(void 0,this));const m=this.records.get(Np);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Oc.multi,Mt,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=fs(this),d=Zn(void 0);try{return l()}finally{fs(c),Zn(d)}}get(l,c=mi,d=Ke.Default){this.assertNotDestroyed();const f=fs(this),m=Zn(void 0);try{if(!(d&Ke.SkipSelf)){let C=this.records.get(l);if(void 0===C){const E=function ld(a){return"function"==typeof a||"object"==typeof a&&a instanceof vn}(l)&&hn(l);C=E&&this.injectableDefInScope(E)?xr(Ki(l),mr):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&Ke.Self?ka():this.parent).get(l,c=d&Ke.Optional&&c===mi?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Ea]=v[Ea]||[]).unshift(fe(l)),f)throw v;return function X(a,l,c,d){const f=a[Ea];throw l[yl]&&f.unshift(l[yl]),a.message=function ue(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=fe(l);if(Array.isArray(l))f=l.map(fe).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):fe(C)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(Sa,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[Ea]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{Zn(m),fs(f)}}resolveInjectorInitializers(){const l=fs(this),c=Zn(void 0);try{const d=this.get(rd.multi,Mt,Ke.Self);for(const f of d)f()}finally{fs(l),Zn(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(fe(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(l){let c=xa(l=Q(l))?l:Q(l&&l.provide);const d=function jh(a){return Fc(a)?xr(void 0,a.useValue):xr(Bp(a),mr)}(l);if(xa(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=xr(void 0,mr,!0),f.factory=()=>I(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===mr&&(c.value=Lp,c.value=c.factory()),"object"==typeof c.value&&c.value&&function vo(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=Q(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Ki(a){const l=hn(a),c=null!==l?l.factory:ls(a);if(null!==c)return c;if(a instanceof vn)throw new Ce(204,!1);if(a instanceof Function)return function Vp(a){const l=a.length;if(l>0)throw fo(l,"?"),new Ce(204,!1);const c=function Ni(a){const l=a&&(a[ss]||a[Fr]);if(l){const c=function ar(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Ce(204,!1)}function Bp(a,l,c){let d;if(xa(a)){const f=Q(a);return ls(f)||Ki(f)}if(Fc(a))d=()=>Q(a.useValue);else if(function od(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...I(a.deps||[]));else if(function Nc(a){return!(!a||!a.useExisting)}(a))d=()=>Qn(Q(a.useExisting));else{const f=Q(a&&(a.useClass||a.provide));if(!function Vs(a){return!!a.deps}(a))return ls(f)||Ki(f);d=()=>new f(...I(a.deps))}return d}function xr(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function Gh(a){return!!a.\u0275providers}function Vc(a,l){for(const c of a)Array.isArray(c)?Vc(c,l):Gh(c)?Vc(c.\u0275providers,l):l(c)}class cd{}class p{resolveComponentFactory(l){throw function ud(a){const l=Error(`No component factory found for ${fe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let g=(()=>{class a{}return a.NULL=new p,a})();function w(){return A(Bn(),Me())}function A(a,l){return new R(Yi(a,l))}let R=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=w,a})();function Z(a){return a instanceof R?a.nativeElement:a}class Ne{}let Xe=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function wt(){const a=Me(),c=Zt(Bn().index,a);return(Ci(c)?c:a)[11]}(),a})(),dt=(()=>{class a{}return a.\u0275prov=rn({token:a,providedIn:"root",factory:()=>null}),a})();class _i{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const ps=new _i("14.2.4"),Dl={};function yi(a){return a.ngOriginalError}class Qh{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&yi(l);for(;c&&yi(c);)c=yi(c);return c||null}}const Yo=new Map;let EC=0;const uv="__ngContext__";function gr(a,l){Ci(l)?(a[uv]=l[20],function lv(a){Yo.set(a[20],a)}(l)):a[uv]=l}function Mi(a){return a instanceof Function?a():a}var Ra=(()=>((Ra=Ra||{})[Ra.Important=1]="Important",Ra[Ra.DashCase=2]="DashCase",Ra))();function Zg(a,l){return undefined(a,l)}function Jh(a){const l=a[3];return qi(l)?l[3]:l}function Oa(a){return VC(a[13])}function $p(a){return VC(a[4])}function VC(a){for(;null!==a&&!qi(a);)a=a[4];return a}function Fn(a,l,c,d,f){if(null!=d){let m,v=!1;qi(d)?m=d:Ci(d)&&(v=!0,d=d[0]);const C=Vn(d);0===a&&null!==c?null==f?_v(l,c,C):md(l,c,C,f||null,!0):1===a&&null!==c?md(l,c,C,f||null,!0):2===a?function qp(a,l,c){const d=xn(a,l);d&&function tf(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}(l,C,v):3===a&&l.destroyNode(C),null!=m&&function Bs(a,l,c,d,f){const m=c[7];m!==Vn(c)&&Fn(l,a,d,m,f);for(let C=10;C<c.length;C++){const E=c[C];Ml(E[1],E,a,l,d,m)}}(l,a,m,c,f)}}function At(a,l,c){return a.createElement(l,c)}function UC(a,l){const c=a[9],d=c.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,On(f,-1)),c.splice(d,1)}function mv(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&UC(f,d),l>0&&(a[c-1][4]=d[4]);const m=hs(a,10+l);!function zM(a,l){Ml(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function HC(a,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&Ml(a,l,c,3,null,null),function ke(a){let l=a[13];if(!l)return gv(a[1],a);for(;l;){let c=null;if(Ci(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)Ci(l)&&gv(l[1],l),l=l[3];null===l&&(l=a),Ci(l)&&gv(l[1],l),c=l&&l[4]}l=c}}(l)}}function gv(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function jC(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof lo)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],E=m[v+1];try{E.call(C)}finally{}}else try{m.call(f)}finally{}}}}(a,l),function $M(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],C="function"==typeof v?v(l):Vn(l[v]),E=d[f=c[m+2]],T=c[m+3];"boolean"==typeof T?C.removeEventListener(c[m],E,T):T>=0?d[f=T]():d[f=-T].unsubscribe(),m+=2}else{const v=d[f=c[m+1]];c[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&qi(l[3])){c!==l[3]&&UC(c,l);const d=l[19];null!==d&&d.detachView(a)}!function IC(a){Yo.delete(a[20])}(l)}}function GC(a,l,c){return function qM(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===ht.None||f===ht.Emulated)return null}return Yi(d,c)}(a,l.parent,c)}function md(a,l,c,d,f){a.insertBefore(l,c,d,f)}function _v(a,l,c){a.appendChild(l,c)}function Ft(a,l,c,d,f){null!==d?md(a,l,c,d,f):_v(a,l,c)}function xn(a,l){return a.parentNode(l)}function nf(a,l,c){return zC(a,l,c)}let zC=function tn(a,l,c){return 40&a.type?Yi(a,c):null};function gd(a,l,c,d){const f=GC(a,d,l),m=l[11],C=nf(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)Ft(m,f,c[E],C,!1);else Ft(m,f,c,C,!1)}function rf(a,l){if(null!==l){const c=l.type;if(3&c)return Yi(l,a);if(4&c)return yv(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return rf(a,d);{const f=a[l.index];return qi(f)?yv(-1,f):Vn(f)}}if(32&c)return Zg(l,a)()||Vn(a[l.index]);{const d=Uc(a,l);return null!==d?Array.isArray(d)?d[0]:rf(Jh(a[16]),d):rf(a,l.next)}}return null}function Uc(a,l){return null!==l?a[16][6].projection[l.projection]:null}function yv(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return rf(d,f)}return l[7]}function vv(a,l,c,d,f,m,v){for(;null!=c;){const C=d[c.index],E=c.type;if(v&&0===l&&(C&&gr(Vn(C),d),c.flags|=4),64!=(64&c.flags))if(8&E)vv(a,l,c.child,d,f,m,!1),Fn(l,a,f,C,m);else if(32&E){const T=Zg(c,d);let k;for(;k=T();)Fn(l,a,f,k,m);Fn(l,a,f,C,m)}else 16&E?bv(a,l,d,c,f,m):Fn(l,a,f,C,m);c=v?c.projectionNext:c.next}}function Ml(a,l,c,d,f,m){vv(c,d,a.firstChild,l,f,m,!1)}function bv(a,l,c,d,f,m){const v=c[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)Fn(l,a,f,E[T],m);else vv(a,l,E,v[3],f,m,!0)}function Cv(a,l,c){a.setAttribute(l,"style",c)}function Kg(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function Tl(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||a.charCodeAt(f+m)<=32)return f}c=f+1}}const ae="ng-template";function Qg(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==Tl(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function bo(a){return 4===a.type&&a.value!==ae}function ZM(a,l,c){return l===(4!==a.type||c?a.value:ae)}function Yp(a,l,c){let d=4;const f=a.attrs||[],m=function Dv(a){for(let l=0;l<a.length;l++)if(Vo(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const E=l[C];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!ZM(a,E,c)||""===E&&1===l.length){if(er(d))return!1;v=!0}}else{const T=8&d?E:l[++C];if(8&d&&null!==a.attrs){if(!Qg(a.attrs,T,c)){if(er(d))return!1;v=!0}continue}const N=WM(8&d?"class":E,f,bo(a),c);if(-1===N){if(er(d))return!1;v=!0;continue}if(""!==T){let q;q=N>m?"":f[N+1].toLowerCase();const ie=8&d?q:null;if(ie&&-1!==Tl(ie,T,0)||2&d&&T!==q){if(er(d))return!1;v=!0}}}}else{if(!v&&!er(d)&&!er(E))return!1;if(v&&er(E))continue;v=!1,d=E|1&d}}return er(d)||v}function er(a){return 0==(1&a)}function WM(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let m=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function KM(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function Hc(a,l,c=!1){for(let d=0;d<l.length;d++)if(Yp(a,l[d],c))return!0;return!1}function QM(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function $r(a,l){return a?":not("+l.trim()+")":l}function ZC(a){let l=a[0],c=1,d=2,f="",m=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const C=a[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!er(v)&&(l+=$r(m,f),f=""),d=v,m=m||!er(d);c++}return""!==f&&(l+=$r(m,f)),l}const ot={};function Zp(a){tr(zt(),Me(),di()+a,!1)}function tr(a,l,c,d){if(!d)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&fa(l,m,c)}else{const m=a.preOrderHooks;null!==m&&pa(l,m,0,c)}dr(c)}function Gc(a,l=null,c=null,d){const f=Xg(a,l,c,d);return f.resolveInjectorInitializers(),f}function Xg(a,l=null,c=null,d,f=new Set){const m=[c||Mt,Pp(a)];return d=d||("object"==typeof a?void 0:fe(a)),new ad(m,l||ka(),d||null,f)}let zc=(()=>{class a{static create(c,d){if(Array.isArray(c))return Gc({name:""},d,c,"");{const f=c.name??"";return Gc({name:f},c.parent,c.providers,f)}}}return a.THROW_IF_NOT_FOUND=mi,a.NULL=new sd,a.\u0275prov=rn({token:a,providedIn:"any",factory:()=>Qn(Aa)}),a.__NG_ELEMENT_ID__=-1,a})();function wd(a,l=Ke.Default){const c=Me();return null===c?Qn(a,l):Uo(Bn(),c,Q(a),l)}function qc(){throw new Error("invalid")}function Yc(a,l){return a<<17|l<<2}function gs(a){return a>>17&32767}function s_(a){return 2|a}function jn(a){return(131068&a)>>2}function Mv(a,l){return-131069&a|l<<2}function Tv(a){return 1|a}function pD(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],m=c[d+1];if(-1!==m){const v=a.data[m];sl(f),v.contentQueries(2,l[m],m)}}}function Sd(a,l,c,d,f,m,v,C,E,T,k){const N=l.blueprint.slice();return N[0]=f,N[2]=76|d,(null!==k||a&&1024&a[2])&&(N[2]|=1024),Ql(N),N[3]=N[15]=a,N[8]=c,N[10]=v||a&&a[10],N[11]=C||a&&a[11],N[12]=E||a&&a[12]||null,N[9]=T||a&&a[9]||null,N[6]=m,N[20]=function SC(){return EC++}(),N[21]=k,N[16]=2==l.type?a[16]:N,N}function Ol(a,l,c,d,f){let m=a.data[l];if(null===m)m=function c_(a,l,c,d,f){const m=ic(),v=el(),E=a.data[l]=function an(a,l,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=E),null!==m&&(v?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(a,l,c,d,f),function vg(){return Tt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const v=function ha(){const a=Tt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Sr(m,!0),m}function cf(a,l,c,d){if(0===c)return-1;const f=l.length;for(let m=0;m<c;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function Id(a,l,c){oc(l);try{const d=a.viewQuery;null!==d&&p_(1,d,c);const f=a.template;null!==f&&Nv(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&pD(a,l),a.staticViewQueries&&p_(2,a.viewQuery,c);const m=a.components;null!==m&&function Jn(a,l){for(let c=0;c<l.length;c++)nr(a,l[c])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Po()}}function u_(a,l,c,d){const f=l[2];if(128!=(128&f)){oc(l);try{Ql(l),function Uu(a){return Tt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&Nv(a,l,c,2,d);const v=3==(3&f);if(v){const T=a.preOrderCheckHooks;null!==T&&fa(l,T,null)}else{const T=a.preOrderHooks;null!==T&&pa(l,T,0,null),_h(l,0)}if(function am(a){for(let l=Oa(a);null!==l;l=$p(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],m=f[3];0==(512&f[2])&&On(m,1),f[2]|=512}}}(l),function mT(a){for(let l=Oa(a);null!==l;l=$p(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];Ro(d)&&u_(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&pD(a,l),v){const T=a.contentCheckHooks;null!==T&&fa(l,T)}else{const T=a.contentHooks;null!==T&&pa(l,T,1),_h(l,1)}!function tm(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)dr(~f);else{const m=f,v=c[++d],C=c[++d];bg(v,m),C(2,l[m])}}}finally{dr(-1)}}(a,l);const C=a.components;null!==C&&function uT(a,l){for(let c=0;c<l.length;c++)CD(a,l[c])}(l,C);const E=a.viewQuery;if(null!==E&&p_(2,E,d),v){const T=a.viewCheckHooks;null!==T&&fa(l,T)}else{const T=a.viewHooks;null!==T&&pa(l,T,2),_h(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,On(l[3],-1))}finally{Po()}}}function Nv(a,l,c,d,f){const m=di(),v=2&d;try{dr(-1),v&&l.length>22&&tr(a,l,22,!1),c(d,f)}finally{dr(m)}}function Md(a,l,c){if(xo(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function Zo(a,l,c){!Ts()||(function hT(a,l,c,d){const f=c.directiveStart,m=c.directiveEnd;a.firstCreatePass||Bo(c,l),gr(d,l);const v=c.initialInputs;for(let C=f;C<m;C++){const E=a.data[C],T=Li(E);T&&yD(l,c,E);const k=xs(l,a,C,c);gr(k,l),null!==v&&vD(0,C-f,k,E,0,v),T&&(Zt(c.index,l)[8]=k)}}(a,l,c,Yi(c,l)),128==(128&c.flags)&&function fT(a,l,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,v=function Hu(){return Tt.lFrame.currentDirectiveIndex}();try{dr(m);for(let C=d;C<f;C++){const E=a.data[C],T=l[C];rc(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Ht(E,T)}}finally{dr(-1),rc(v)}}(a,l,c))}function d_(a,l,c=Yi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?c(l,a):a[v];a[f++]=C}}}function Lv(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=h_(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function h_(a,l,c,d,f,m,v,C,E,T){const k=22+d,N=k+f,q=function uf(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:ot);return c}(k,N),ie="function"==typeof T?T():T;return q[1]={type:a,blueprint:q,template:c,queries:null,viewQuery:C,declTNode:l,data:q.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:ie,incompleteFirstPass:!1}}function Ai(a,l,c,d){const f=$v(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&qv(a).push(d,f.length-1))}function Vv(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function Bv(a,l){const d=l.directiveEnd,f=a.data,m=l.attrs,v=[];let C=null,E=null;for(let T=l.directiveStart;T<d;T++){const k=f[T],N=k.inputs,q=null===m||bo(l)?null:bD(N,m);v.push(q),C=Vv(N,T,C),E=Vv(k.outputs,T,E)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=E}function js(a,l,c,d,f,m,v,C){const E=Yi(l,c);let k,T=l.inputs;!C&&null!=T&&(k=T[d])?(Zv(a,c,k,d,f),ro(l)&&Yr(c,l.index)):3&l.type&&(d=function Kc(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,m.setProperty(E,d,f))}function Yr(a,l){const c=Zt(l,a);16&c[2]||(c[2]|=32)}function wo(a,l,c,d){let f=!1;if(Ts()){const m=function pT(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];Hc(c,v.selectors,!1)&&(f||(f=[]),co(Bo(c,l),a,v.type),Li(v)?(im(a,c),f.unshift(v)):f.push(v))}return f}(a,l,c),v=null===d?null:{"":-1};if(null!==m){f=!0,om(c,a.data.length,m.length);for(let k=0;k<m.length;k++){const N=m[k];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,T=cf(a,l,m.length,null);for(let k=0;k<m.length;k++){const N=m[k];c.mergedAttrs=ol(c.mergedAttrs,N.hostAttrs),Hv(a,c,l,T,N),sm(T,N,v),null!==N.contentQueries&&(c.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=128);const q=N.type.prototype;!C&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),C=!0),!E&&(q.ngOnChanges||q.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),E=!0),T++}Bv(a,c)}v&&function rm(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=c[l[f+1]];if(null==m)throw new Ce(-301,!1);d.push(l[f],m)}}}(c,d,v)}return c.mergedAttrs=ol(c.mergedAttrs,c.attrs),f}function Uv(a,l,c,d,f,m){const v=m.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const E=~l.index;(function nm(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(C)!=E&&C.push(E),C.push(d,f,v)}}function Ht(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function im(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function sm(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;Li(l)&&(c[""]=a)}}function om(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function Hv(a,l,c,d,f){a.data[d]=f;const m=f.factory||(f.factory=ls(f.type)),v=new lo(m,Li(f),wd);a.blueprint[d]=v,c[d]=v,Uv(a,l,0,d,cf(a,c,f.hostVars,ot),f)}function yD(a,l,c){const d=Yi(l,a),f=Lv(c),m=a[10],v=lm(a,Sd(a,f,null,c.onPush?32:16,d,l,m,m.createRenderer(d,c),null,null,null));a[l.index]=v}function Wo(a,l,c,d,f,m){const v=Yi(a,l);!function jv(a,l,c,d,f,m,v){if(null==m)a.removeAttribute(l,f,c);else{const C=null==v?ye(m):v(m,d||"",f);a.setAttribute(l,f,C,c)}}(l[11],v,m,a.value,c,d,f)}function vD(a,l,c,d,f,m){const v=m[l];if(null!==v){const C=d.setInput;for(let E=0;E<v.length;){const T=v[E++],k=v[E++],N=v[E++];null!==C?d.setInput(c,N,T,k):c[k]=N}}}function bD(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function wD(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function CD(a,l){const c=Zt(l,a);if(Ro(c)){const d=c[1];48&c[2]?u_(d,c,d.template,c[8]):c[5]>0&&Gv(c)}}function Gv(a){for(let d=Oa(a);null!==d;d=$p(d))for(let f=10;f<d.length;f++){const m=d[f];if(Ro(m))if(512&m[2]){const v=m[1];u_(v,m,v.template,m[8])}else m[5]>0&&Gv(m)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Zt(c[d],a);Ro(f)&&f[5]>0&&Gv(f)}}function nr(a,l){const c=Zt(l,a),d=c[1];(function zv(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),Id(d,c,c[8])}function lm(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Td(a){for(;a;){a[2]|=32;const l=Jh(a);if(up(a)&&!l)return a;a=l}return null}function Gs(a,l,c,d=!0){const f=l[10];f.begin&&f.begin();try{u_(a,l,a.template,c)}catch(v){throw d&&ED(l,v),v}finally{f.end&&f.end()}}function p_(a,l,c){sl(0),l(a,c)}function $v(a){return a[7]||(a[7]=[])}function qv(a){return a.cleanup||(a.cleanup=[])}function Yv(a,l,c){return(null===a||Li(a))&&(c=function Yl(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function ED(a,l){const c=a[9],d=c?c.get(Qh,null):null;d&&d.handleError(l)}function Zv(a,l,c,d,f){for(let m=0;m<c.length;){const v=c[m++],C=c[m++],E=l[v],T=a.data[v];null!==T.setInput?T.setInput(E,f,d,C):E[C]=f}}function df(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?m=C:1==m?f=me(f,C):2==m&&(d=me(d,C+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}function g_(a,l,c,d,f=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&d.push(Vn(m)),qi(m))for(let C=10;C<m.length;C++){const E=m[C],T=E[1].firstChild;null!==T&&g_(E[1],E,T,d)}const v=c.type;if(8&v)g_(a,l,c.child,d);else if(32&v){const C=Zg(c,l);let E;for(;E=C();)d.push(E)}else if(16&v){const C=Uc(l,c);if(Array.isArray(C))d.push(...C);else{const E=Jh(l[16]);g_(E[1],E,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class hf{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return g_(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(qi(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(mv(l,d),hs(c,d))}this._attachedToViewContainer=!1}HC(this._lView[1],this._lView)}onDestroy(l){Ai(this._lView[1],this._lView,null,l)}markForCheck(){Td(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Gs(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function he(a,l){Ml(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=l}}class SD extends hf{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Gs(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class __ extends g{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Lt(l);return new cm(c,this.ngModule)}}function ID(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class gT{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){const f=this.injector.get(l,Dl,d);return f!==Dl||c===Dl?f:this.parentInjector.get(l,c,d)}}class cm extends cd{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function _d(a){return a.map(ZC).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return ID(this.componentDef.inputs)}get outputs(){return ID(this.componentDef.outputs)}create(l,c,d,f){let m=(f=f||this.ngModule)instanceof zr?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new gT(l,m):l,C=v.get(Ne,null);if(null===C)throw new Ce(407,!1);const E=v.get(dt,null),T=C.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",N=d?function dT(a,l,c){return a.selectRootElement(l,c===ht.ShadowDom)}(T,d,this.componentDef.encapsulation):At(C.createRenderer(null,this.componentDef),k,function MD(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(k)),q=this.componentDef.onPush?288:272,ie=h_(0,null,null,1,0,null,null,null,null,null),be=Sd(null,ie,null,q,null,null,C,T,E,v,null);let Fe,$e;oc(be);try{const it=function yT(a,l,c,d,f,m){const v=c[1];c[22]=a;const E=Ol(v,22,2,"#host",null),T=E.mergedAttrs=l.hostAttrs;null!==T&&(df(E,T,!0),null!==a&&(ga(f,a,T),null!==E.classes&&Kg(f,a,E.classes),null!==E.styles&&Cv(f,a,E.styles)));const k=d.createRenderer(a,l),N=Sd(c,Lv(l),null,l.onPush?32:16,c[22],E,d,k,m||null,null,null);return v.firstCreatePass&&(co(Bo(E,c),v,l.type),im(v,E),om(E,c.length,1)),lm(c,N),c[22]=N}(N,this.componentDef,be,C,T);if(N)if(d)ga(T,N,["ng-version",ps.full]);else{const{attrs:Ct,classes:Ae}=function WC(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++d]):8===f&&c.push(m);else{if(!er(f))break;f=m}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Ct&&ga(T,N,Ct),Ae&&Ae.length>0&&Kg(T,N,Ae.join(" "))}if($e=da(ie,22),void 0!==c){const Ct=$e.projection=[];for(let Ae=0;Ae<this.ngContentSelectors.length;Ae++){const kt=c[Ae];Ct.push(null!=kt?Array.from(kt):null)}}Fe=function TD(a,l,c,d){const f=c[1],m=function _D(a,l,c){const d=Bn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Hv(a,d,l,cf(a,l,1,null),c),Bv(a,d));const f=xs(l,a,d.directiveStart,d);gr(f,l);const m=Yi(d,l);return m&&gr(m,l),f}(f,c,l);if(a[8]=c[8]=m,null!==d)for(const C of d)C(m,l);if(l.contentQueries){const C=Bn();l.contentQueries(1,m,C.directiveStart)}const v=Bn();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(dr(v.index),Uv(c[1],v,0,v.directiveStart,v.directiveEnd,l),Ht(l,m)),m}(it,this.componentDef,be,[Zr]),Id(ie,be,null)}finally{Po()}return new _T(this.componentType,Fe,A($e,be),be,$e)}}class _T extends class Pn{}{constructor(l,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new SD(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const m=this._rootLView;Zv(m[1],m,f,l,c),Yr(m,this._tNode.index)}}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Zr(){const a=Bn();Ku(Me()[1],a)}function y_(a){let l=function AD(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(Li(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ce(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const v=a;v.inputs=v_(a.inputs),v.declaredInputs=v_(a.declaredInputs),v.outputs=v_(a.outputs);const C=f.hostBindings;C&&vT(a,C);const E=f.viewQuery,T=f.contentQueries;if(E&&b_(a,E),T&&xD(a,T),ee(a.inputs,f.inputs),ee(a.declaredInputs,f.declaredInputs),ee(a.outputs,f.outputs),Li(f)&&f.data.animation){const k=a.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(a),C===y_&&(c=!1)}}l=Object.getPrototypeOf(l)}!function Na(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=ol(f.hostAttrs,c=ol(c,f.hostAttrs))}}(d)}function v_(a){return a===zi?{}:a===Mt?[]:a}function b_(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function xD(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,m)=>{l(d,f,m),c(d,f,m)}:l}function vT(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let w_=null;function Ad(){if(!w_){const a=_n.Symbol;if(a&&a.iterator)w_=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(w_=d)}}}return w_}function dm(a){return!!Wv(a)&&(Array.isArray(a)||!(a instanceof Map)&&Ad()in a)}function Wv(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function La(a,l,c){return a[l]=c}function Rr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function D_(a,l,c,d){const f=Me();return Rr(f,Oo(),l)&&(zt(),Wo(En(),f,a,l,c,d)),D_}function Xc(a,l,c,d){return Rr(a,Oo(),c)?l+ye(c)+d:ot}function OD(a,l,c,d,f,m,v,C){const E=Me(),T=zt(),k=a+22,N=T.firstCreatePass?function RD(a,l,c,d,f,m,v,C,E){const T=l.consts,k=Ol(l,a,4,v||null,Hr(T,C));wo(l,c,k,Hr(T,E)),Ku(l,k);const N=k.tViews=h_(2,k,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,T);return null!==l.queries&&(l.queries.template(l,k),N.queries=l.queries.embeddedTView(k)),k}(k,T,E,l,c,d,f,m,v):T.data[k];Sr(N,!1);const q=E[11].createComment("");gd(T,E,q,N),gr(q,E),lm(E,E[k]=wD(q,E,q,N)),Gl(N)&&Zo(T,E,N),null!=v&&d_(E,N,C)}function Xv(a){return Ms(function Bu(){return Tt.lFrame.contextLView}(),22+a)}function _f(a,l,c){const d=Me();return Rr(d,Oo(),l)&&js(zt(),En(),d,a,l,d[11],c,!1),_f}function kd(a,l,c,d,f){const v=f?"class":"style";Zv(a,c,l.inputs[v],v,d)}function I_(a,l,c,d){const f=Me(),m=zt(),v=22+a,C=f[11],E=f[v]=At(C,l,function lc(){return Tt.lFrame.currentNamespace}()),T=m.firstCreatePass?function Rd(a,l,c,d,f,m,v){const C=l.consts,T=Ol(l,a,2,f,Hr(C,m));return wo(l,c,T,Hr(C,v)),null!==T.attrs&&df(T,T.attrs,!1),null!==T.mergedAttrs&&df(T,T.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,T),T}(v,m,f,0,l,c,d):m.data[v];Sr(T,!0);const k=T.mergedAttrs;null!==k&&ga(C,E,k);const N=T.classes;null!==N&&Kg(C,E,N);const q=T.styles;return null!==q&&Cv(C,E,q),64!=(64&T.flags)&&gd(m,f,E,T),0===function Jl(){return Tt.lFrame.elementDepthCount}()&&gr(E,f),function ec(){Tt.lFrame.elementDepthCount++}(),Gl(T)&&(Zo(m,f,T),Md(m,T,f)),null!==d&&d_(f,T),I_}function pm(){let a=Bn();el()?tl():(a=a.parent,Sr(a,!1));const l=a;!function Nu(){Tt.lFrame.elementDepthCount--}();const c=zt();return c.firstCreatePass&&(Ku(c,a),xo(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function dc(a){return 0!=(16&a.flags)}(l)&&kd(c,l,Me(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function vh(a){return 0!=(32&a.flags)}(l)&&kd(c,l,Me(),l.stylesWithoutHost,!1),pm}function Jv(a,l,c,d){return I_(a,l,c,d),pm(),Jv}function M_(a,l,c){const d=Me(),f=zt(),m=a+22,v=f.firstCreatePass?function IT(a,l,c,d,f){const m=l.consts,v=Hr(m,d),C=Ol(l,a,8,"ng-container",v);return null!==v&&df(C,v,!0),wo(l,c,C,Hr(m,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,f,d,l,c):f.data[m];Sr(v,!0);const C=d[m]=d[11].createComment("");return gd(f,d,C,v),gr(C,d),Gl(v)&&(Zo(f,d,v),Md(f,v,d)),null!=c&&d_(d,v),M_}function su(){let a=Bn();const l=zt();return el()?tl():(a=a.parent,Sr(a,!1)),l.firstCreatePass&&(Ku(l,a),xo(a)&&l.queries.elementEnd(a)),su}function Pl(a,l,c){return M_(a,l,c),su(),Pl}function ou(){return Me()}function T_(a){return!!a&&"function"==typeof a.then}function FD(a){return!!a&&"function"==typeof a.subscribe}const ND=FD;function mm(a,l,c,d){const f=Me(),m=zt(),v=Bn();return eb(m,f,f[11],v,a,l,0,d),mm}function yf(a,l){const c=Bn(),d=Me(),f=zt();return eb(f,d,Yv(rl(f.data),c,d),c,a,l),yf}function eb(a,l,c,d,f,m,v,C){const E=Gl(d),k=a.firstCreatePass&&qv(a),N=l[8],q=$v(l);let ie=!0;if(3&d.type||C){const $e=Yi(d,l),it=C?C($e):$e,Ct=q.length,Ae=C?fn=>C(Vn(fn[d.index])):d.index;let kt=null;if(!C&&E&&(kt=function MT(a,l,c,d){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===c&&f[m+1]===d){const C=l[7],E=f[m+2];return C.length>E?C[E]:null}"string"==typeof v&&(m+=2)}return null}(a,l,f,d.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=m,kt.__ngLastListenerFn__=m,ie=!1;else{m=gm(d,l,N,m,!1);const fn=c.listen(it,f,m);q.push(m,fn),k&&k.push(f,Ae,Ct,Ct+1)}}else m=gm(d,l,N,m,!1);const be=d.outputs;let Fe;if(ie&&null!==be&&(Fe=be[f])){const $e=Fe.length;if($e)for(let it=0;it<$e;it+=2){const $n=l[Fe[it]][Fe[it+1]].subscribe(m),bu=q.length;q.push(m,$n),k&&k.push(f,d.index,bu,-(bu+1))}}}function vf(a,l,c,d){try{return!1!==c(d)}catch(f){return ED(a,f),!1}}function gm(a,l,c,d,f){return function m(v){if(v===Function)return d;Td(2&a.flags?Zt(a.index,l):l);let E=vf(l,0,d,v),T=m.__ngNextListenerFn__;for(;T;)E=vf(l,0,T,v)&&E,T=T.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function bf(a=1){return function Fo(a){return(Tt.lFrame.contextLView=function ac(a,l){for(;a>0;)l=l[15],a--;return l}(a,Tt.lFrame.contextLView))[8]}(a)}function LD(a,l){let c=null;const d=function YC(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?Hc(a,m,!0):QM(d,m))return f}else c=f}return c}function tb(a){const l=Me()[16][6];if(!l.projection){const d=l.projection=fo(a?a.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=a?LD(m,a):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function Wr(a,l=0,c){const d=Me(),f=zt(),m=Ol(f,22+a,16,null,c||null);null===m.projection&&(m.projection=l),tl(),64!=(64&m.flags)&&function $C(a,l,c){bv(l[11],0,l,c,GC(a,c,l),nf(c.parent||l[6],c,l))}(f,d,m)}function UD(a,l,c,d,f){const m=a[c+1],v=null===l;let C=d?gs(m):jn(m),E=!1;for(;0!==C&&(!1===E||v);){const k=a[C+1];AT(a[C],l)&&(E=!0,a[C+1]=d?Tv(k):s_(k)),C=d?gs(k):jn(k)}E&&(a[c+1]=d?s_(m):Tv(m))}function AT(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Ir(a,l)>=0}const Ui={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function HD(a){return a.substring(Ui.key,Ui.keyEnd)}function GD(a,l){const c=Ui.textEnd;return c===l?-1:(l=Ui.keyEnd=function ym(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,Ui.key=l,c),Co(a,l,c))}function Co(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function lb(a,l,c){return Ko(a,l,c,!1),lb}function vm(a,l){return Ko(a,l,null,!0),vm}function Va(a,l){for(let c=function jD(a){return function sb(a){Ui.key=0,Ui.keyEnd=0,Ui.value=0,Ui.valueEnd=0,Ui.textEnd=a.length}(a),GD(a,Co(a,0,Ui.textEnd))}(l);c>=0;c=GD(l,c))pr(a,HD(l),!0)}function Ko(a,l,c,d){const f=Me(),m=zt(),v=As(2);m.firstUpdatePass&&bm(m,a,v,d),l!==ot&&Rr(f,v,l)&&KD(m,m.data[di()],f,f[11],a,f[v+1]=function fb(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=fe(Gr(a)))),a}(l,c),d,v)}function YD(a,l){return l>=a.expandoStartIndex}function bm(a,l,c,d){const f=a.data;if(null===f[c+1]){const m=f[di()],v=YD(a,c);QD(m,d)&&null===l&&!v&&(l=!1),l=function OT(a,l,c,d){const f=rl(a);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=cu(c=Fd(null,a,l,c,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(c=Fd(f,a,l,c,d),null===m){let E=function ZD(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==jn(d))return a[gs(d)]}(a,l,d);void 0!==E&&Array.isArray(E)&&(E=Fd(null,a,l,E[1],d),E=cu(E,l.attrs,d),function cb(a,l,c,d){a[gs(c?l.classBindings:l.styleBindings)]=d}(a,l,d,E))}else m=function ub(a,l,c){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=cu(d,a[m].hostAttrs,c);return cu(d,l.attrs,c)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),c}(f,m,l,d),function lu(a,l,c,d,f,m){let v=m?l.classBindings:l.styleBindings,C=gs(v),E=jn(v);a[d]=c;let k,T=!1;if(Array.isArray(c)){const N=c;k=N[1],(null===k||Ir(N,k)>0)&&(T=!0)}else k=c;if(f)if(0!==E){const q=gs(a[C+1]);a[d+1]=Yc(q,C),0!==q&&(a[q+1]=Mv(a[q+1],d)),a[C+1]=function nD(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=Yc(C,0),0!==C&&(a[C+1]=Mv(a[C+1],d)),C=d;else a[d+1]=Yc(E,0),0===C?C=d:a[E+1]=Mv(a[E+1],d),E=d;T&&(a[d+1]=s_(a[d+1])),UD(a,k,d,!0),UD(a,k,d,!1),function BD(a,l,c,d,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&Ir(m,l)>=0&&(c[d+1]=Tv(c[d+1]))}(l,k,a,d,m),v=Yc(C,E),m?l.classBindings=v:l.styleBindings=v}(f,m,l,c,v,d)}}function Fd(a,l,c,d,f){let m=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(m=l[C],d=cu(d,m.hostAttrs,f),m!==a);)C++;return null!==a&&(c.directiveStylingLast=C),d}function cu(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),pr(a,v,!!c||l[++m]))}return void 0===a?null:a}function KD(a,l,c,d,f,m,v,C){if(!(3&l.type))return;const E=a.data,T=E[C+1];wm(function iD(a){return 1==(1&a)}(T)?hb(E,l,c,f,jn(T),v):void 0)||(wm(m)||function em(a){return 2==(2&a)}(T)&&(m=hb(E,null,c,f,C,v)),function wv(a,l,c,d,f){if(l)f?a.addClass(c,d):a.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Ra.DashCase;null==f?a.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Ra.Important),a.setStyle(c,d,f,m))}}(d,v,Er(di(),c),f,m))}function hb(a,l,c,d,f,m){const v=null===l;let C;for(;f>0;){const E=a[f],T=Array.isArray(E),k=T?E[1]:E,N=null===k;let q=c[f+1];q===ot&&(q=N?Mt:void 0);let ie=N?Rs(q,d):k===d?q:void 0;if(T&&!wm(ie)&&(ie=Rs(E,d)),wm(ie)&&(C=ie,v))return C;const be=a[f+1];f=v?gs(be):jn(be)}if(null!==l){let E=m?l.residualClasses:l.residualStyles;null!=E&&(C=Rs(E,d))}return C}function wm(a){return void 0!==a}function QD(a,l){return 0!=(a.flags&(l?16:32))}function pb(a,l=""){const c=Me(),d=zt(),f=a+22,m=d.firstCreatePass?Ol(d,f,1,l,null):d.data[f],v=c[f]=function Il(a,l){return a.createText(l)}(c[11],l);gd(d,c,v,m),Sr(m,!1)}function mb(a){return Cm("",a,""),mb}function Cm(a,l,c){const d=Me(),f=Xc(d,a,l,c);return f!==ot&&function zs(a,l,c){const d=Er(l,a);!function Wg(a,l,c){a.setValue(l,c)}(a[11],d,c)}(d,di(),f),Cm}function JD(a,l,c){!function Do(a,l,c,d){const f=zt(),m=As(2);f.firstUpdatePass&&bm(f,null,m,d);const v=Me();if(c!==ot&&Rr(v,m,c)){const C=f.data[di()];if(QD(C,d)&&!YD(f,m)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(c=me(E,c||"")),kd(f,C,v,c,d)}else!function WD(a,l,c,d,f,m,v,C){f===ot&&(f=Mt);let E=0,T=0,k=0<f.length?f[0]:null,N=0<m.length?m[0]:null;for(;null!==k||null!==N;){const q=E<f.length?f[E+1]:void 0,ie=T<m.length?m[T+1]:void 0;let Fe,be=null;k===N?(E+=2,T+=2,q!==ie&&(be=N,Fe=ie)):null===N||null!==k&&k<N?(E+=2,be=k):(T+=2,be=N,Fe=ie),null!==be&&KD(a,l,c,d,be,Fe,v,C),k=E<f.length?f[E]:null,N=T<m.length?m[T]:null}}(f,C,v,v[11],v[m+1],v[m+1]=function db(a,l,c){if(null==c||""===c)return Mt;const d=[],f=Gr(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)a(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&a(d,m,f[m]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,m)}}(pr,Va,Xc(Me(),a,l,c),!0)}function Mb(a,l,c){const d=Me();return Rr(d,Oo(),l)&&js(zt(),En(),d,a,l,d[11],c,!0),Mb}function Tb(a,l,c){const d=Me();if(Rr(d,Oo(),l)){const m=zt(),v=En();js(m,v,d,a,l,Yv(rl(m.data),v,d),c,!0)}return Tb}const Qo=void 0;var Df=["en",[["a","p"],["AM","PM"],Qo],[["AM","PM"],Qo,Qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qo,"{1} 'at' {0}",Qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ab(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let uu={};function Vd(a){const l=function uE(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=F_(l);if(c)return c;const d=l.split("-")[0];if(c=F_(d),c)return c;if("en"===d)return Df;throw new Ce(701,!1)}function kb(a){return Vd(a)[gt.PluralCase]}function F_(a){return a in uu||(uu[a]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[a]),uu[a]}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const Ef="en-US";let Pb=Ef;function sw(a,l,c,d,f){if(a=Q(a),Array.isArray(a))for(let m=0;m<a.length;m++)sw(a[m],l,c,d,f);else{const m=zt(),v=Me();let C=xa(a)?a:Q(a.provide),E=Bp(a);const T=Bn(),k=1048575&T.providerIndexes,N=T.directiveStart,q=T.providerIndexes>>20;if(xa(a)||!a.multi){const ie=new lo(E,f,wd),be=Tm(C,l,f?k:k+q,N);-1===be?(co(Bo(T,v),m,C),Mm(m,a,l.length),l.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(ie),v.push(ie)):(c[be]=ie,v[be]=ie)}else{const ie=Tm(C,l,k+q,N),be=Tm(C,l,k,k+q),Fe=ie>=0&&c[ie],$e=be>=0&&c[be];if(f&&!$e||!f&&!Fe){co(Bo(T,v),m,C);const it=function lw(a,l,c,d,f){const m=new lo(a,c,wd);return m.multi=[],m.index=l,m.componentProviders=0,ow(m,f,d&&!c),m}(f?nA:ME,c.length,f,d,E);!f&&$e&&(c[be].providerFactory=it),Mm(m,a,l.length,0),l.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(it),v.push(it)}else Mm(m,a,ie>-1?ie:be,ow(c[f?be:ie],E,!f&&d));!f&&d&&$e&&c[be].componentProviders++}}}function Mm(a,l,c,d){const f=xa(l),m=function Fp(a){return!!a.useClass}(l);if(f||m){const E=(m?Q(l.useClass):l).prototype.ngOnDestroy;if(E){const T=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const k=T.indexOf(c);-1===k?T.push(c,[d,E]):T[k+1].push(d,E)}else T.push(c,E)}}}function ow(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function Tm(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function ME(a,l,c,d){return aw(this.multi,[])}function nA(a,l,c,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=xs(c,c[1],this.providerFactory.index,d);m=C.slice(0,v),aw(f,m);for(let E=v;E<C.length;E++)m.push(C[E])}else m=[],aw(f,m);return m}function aw(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function TE(a,l=[]){return c=>{c.providersResolver=(d,f)=>function rw(a,l,c){const d=zt();if(d.firstCreatePass){const f=Li(a);sw(c,d.data,d.blueprint,f,!0),sw(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class du{}class Z_{}function cw(a,l){return new uw(a,l??null)}class uw extends du{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new __(this);const d=$i(l);this._bootstrapComponents=Mi(d.bootstrap),this._r3Injector=Xg(l,c,[{provide:du,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],fe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class W_ extends Z_{constructor(l){super(),this.moduleType=l}create(l){return new uw(this.moduleType,l)}}class iA extends du{constructor(l,c,d){super(),this.componentFactoryResolver=new __(this),this.instance=null;const f=new ad([...l,{provide:du,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],c||ka(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Am(a,l,c=null){return new iA(a,l,c).injector}let AE=(()=>{class a{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Cl(0,c.type),f=d.length>0?Am([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=rn({token:a,providedIn:"environment",factory:()=>new a(Qn(zr))}),a})();function xm(a){a.getStandaloneInjector=l=>l.get(AE).getOrCreateStandaloneInjector(a)}function NE(a,l,c){const d=Un()+a,f=Me();return f[d]===ot?La(f,d,c?l.call(c):l()):function hm(a,l){return a[l]}(f,d)}function LE(a,l,c,d){return J_(Me(),Un(),a,l,c,d)}function J_(a,l,c,d,f,m){const v=l+c;return Rr(a,v,f)?La(a,v+1,m?d.call(m,f):d(f)):function Rf(a,l){const c=a[l];return c===ot?void 0:c}(a,v+1)}function Xt(a,l){const c=zt();let d;const f=a+22;c.firstCreatePass?(d=function UE(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=ls(d.type)),v=Zn(wd);try{const C=cl(!1),E=m();return cl(C),function PD(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Me(),f,E),E}finally{Zn(v)}}function Of(a,l,c){const d=a+22,f=Me(),m=Ms(f,d);return function Pf(a,l){return a[1].data[l].pure}(f,d)?J_(f,Un(),l,m.transform,c,m):m.transform(c)}function Ff(a){return l=>{setTimeout(a,void 0,l)}}const Xo=class fA extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,m=c||(()=>null),v=d;if(l&&"object"==typeof l){const E=l;f=E.next?.bind(E),m=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(m=Ff(m),f&&(f=Ff(f)),v&&(v=Ff(v)));const C=super.subscribe({next:f,error:m,complete:v});return l instanceof te.w0&&l.add(C),C}};function HE(){return this._results[Ad()]()}class ey{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ad(),d=ey.prototype;d[c]||(d[c]=HE)}get changes(){return this._changes||(this._changes=new Xo)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=hi(l);(this._changesDetected=!function un(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],m=l[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gd=(()=>{class a{}return a.__NG_ELEMENT_ID__=ei,a})();const pA=Gd,mA=class extends pA{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,f=Sd(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Id(d,f,l),new hf(f)}};function ei(){return ww(Bn(),Me())}function ww(a,l){return 4&a.type?new mA(l,a,A(a,l)):null}let Cw=(()=>{class a{}return a.__NG_ELEMENT_ID__=Fi,a})();function Fi(){return $E(Bn(),Me())}const jE=Cw,GE=class extends jE{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return A(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const l=mc(this._hostTNode,this._hostLView);if(wh(l)){const c=ll(l,this._hostLView),d=Di(l);return new Ho(c[1].data[d+8],c)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=zE(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=l.createEmbeddedView(c||{},m);return this.insert(v,f),v}createComponent(l,c,d,f,m){const v=l&&!function ds(a){return"function"==typeof a}(l);let C;if(v)C=c;else{const N=c||{};C=N.index,d=N.injector,f=N.projectableNodes,m=N.environmentInjector||N.ngModuleRef}const E=v?l:new cm(Lt(l)),T=d||this.parentInjector;if(!m&&null==E.ngModule){const q=(v?T:this.parentInjector).get(zr,null);q&&(m=q)}const k=E.create(T,f,void 0,m);return this.insert(k.hostView,C),k}insert(l,c){const d=l._lView,f=d[1];if(function Kl(a){return qi(a[3])}(d)){const k=this.indexOf(l);if(-1!==k)this.detach(k);else{const N=d[3],q=new GE(N,N[6],N[3]);q.detach(q.indexOf(l))}}const m=this._adjustIndex(c),v=this._lContainer;!function Ji(a,l,c,d){const f=10+d,m=c.length;d>0&&(c[f-1][4]=l),d<m-10?(l[4]=c[f],fi(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function BC(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=64}(f,d,v,m);const C=yv(m,v),E=d[11],T=xn(E,v[7]);return null!==T&&function Ze(a,l,c,d,f,m){d[0]=f,d[6]=l,Ml(a,d,c,1,f,m)}(f,v[6],E,d,T,C),l.attachToViewContainerRef(),fi(ty(v),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=zE(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=mv(this._lContainer,c);d&&(hs(ty(this._lContainer),c),HC(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=mv(this._lContainer,c);return d&&null!=hs(ty(this._lContainer),c)?new hf(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function zE(a){return a[8]}function ty(a){return a[8]||(a[8]=[])}function $E(a,l){let c;const d=l[a.index];if(qi(d))c=d;else{let f;if(8&a.type)f=Vn(d);else{const m=l[11];f=m.createComment("");const v=Yi(a,l);md(m,xn(m,v),f,function xt(a,l){return a.nextSibling(l)}(m,v),!1)}l[a.index]=c=wD(d,l,f,a),lm(l,c)}return new GE(c,a,l)}class qE{constructor(l){this.queryList=l,this.matches=null}clone(){return new qE(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dw{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Dw(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==ry(l,c).matches&&this.queries[c].setDirty()}}class YE{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class ny{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new ny(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Jo{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Jo(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,c,JR(c,m)),this.matchTNodeWithReadOption(l,c,_a(c,l,m,!1,!1))}else d===Gd?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,_a(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===R||f===Cw||f===Gd&&4&c.type)this.addMatch(c.index,-2);else{const m=_a(c,l,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function JR(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function zd(a,l,c,d){return-1===c?function Ha(a,l){return 11&a.type?A(a,l):4&a.type?ww(a,l):null}(l,a):-2===c?function iy(a,l,c){return c===R?A(l,a):c===Gd?ww(l,a):c===Cw?$E(l,a):void 0}(a,l,d):xs(a,a[1],c,l)}function ZE(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const m=a.data,v=c.matches,C=[];for(let E=0;E<v.length;E+=2){const T=v[E];C.push(T<0?null:zd(l,m[T],v[E+1],c.metadata.read))}f.matches=C}return f.matches}function Ew(a,l,c,d){const f=a.queries.getByIndex(c),m=f.matches;if(null!==m){const v=ZE(a,l,f,c);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)d.push(v[C/2]);else{const T=m[C+1],k=l[-E];for(let N=10;N<k.length;N++){const q=k[N];q[17]===q[3]&&Ew(q[1],q,T,d)}if(null!==k[9]){const N=k[9];for(let q=0;q<N.length;q++){const ie=N[q];Ew(ie[1],ie,T,d)}}}}}return d}function Sw(a){const l=Me(),c=zt(),d=ju();sl(d+1);const f=ry(c,d);if(a.dirty&&function Wl(a){return 4==(4&a[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?Ew(c,l,d,[]):ZE(c,l,f,d);a.reset(m,Z),a.notifyOnChanges()}return!0}return!1}function Iw(a,l,c){const d=zt();d.firstCreatePass&&(Nf(d,new YE(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),Om(d,Me(),l)}function Rm(a,l,c,d){const f=zt();if(f.firstCreatePass){const m=Bn();Nf(f,new YE(l,c,d),m.index),function KE(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}Om(f,Me(),c)}function WE(){return function $d(a,l){return a[19].queries[l].queryList}(Me(),ju())}function Om(a,l,c){const d=new ey(4==(4&c));Ai(a,l,d,d.destroy),null===l[19]&&(l[19]=new Dw),l[19].queries.push(new qE(d))}function Nf(a,l,c){null===a.queries&&(a.queries=new ny),a.queries.track(new Jo(l,c))}function ry(a,l){return a.queries.getByIndex(l)}function Lm(...a){}const Yd=new vn("Application Initializer");let jf=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Lm,this.reject=Lm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(T_(m))c.push(m);else if(ND(m)){const v=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Qn(Yd,8))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const lS=new vn("AppId",{providedIn:"root",factory:function cS(){return`${Bw()}${Bw()}${Bw()}`}});function Bw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uS=new vn("Platform Initializer"),AA=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dS=new vn("appBootstrapListener"),h1=new vn("AnimationModuleType");let hS=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const ay=new vn("LocaleId",{providedIn:"root",factory:()=>S(ay,Ke.Optional|Ke.SkipSelf)||function xA(){return typeof $localize<"u"&&$localize.locale||Ef}()}),Uw=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Hw{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let OA=(()=>{class a{compileModuleSync(c){return new W_(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=Mi($i(c).declarations).reduce((v,C)=>{const E=Lt(C);return E&&v.push(new cm(E)),v},[]);return new Hw(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const So=(()=>Promise.resolve(0))();function yr(a){typeof Zone>"u"?So.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Zs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xo(!1),this.onMicrotaskEmpty=new Xo(!1),this.onStable=new Xo(!1),this.onError=new Xo(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function pS(){let a=_n.requestAnimationFrame,l=_n.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function LA(a){const l=()=>{!function Qr(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(_n,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Bm(a),a.isCheckStableRunning=!0,Zd(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Bm(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,v,C)=>{try{return Wd(a),c.invokeTask(f,m,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),mu(a)}},onInvoke:(c,d,f,m,v,C,E)=>{try{return Wd(a),c.invoke(f,m,v,C,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),mu(a)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Bm(a),Zd(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zs.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Zs.isInAngularZone())throw new Ce(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,Vm,Lm,Lm);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const Vm={};function Zd(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Bm(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Wd(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function mu(a){a._nesting--,Zd(a)}class Gw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xo,this.onMicrotaskEmpty=new Xo,this.onStable=new Xo,this.onError=new Xo}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const gu=new vn(""),mS=new vn("");let ir,VA=(()=>{class a{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ir||(function We(a){ir=a}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zs.assertNotInAngularZone(),yr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yr(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(Qn(Zs),Qn(gS),Qn(mS))},a.\u0275prov=rn({token:a,factory:a.\u0275fac}),a})(),gS=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return ir?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),ea=null;const _u=new vn("AllowMultipleToken"),ti=new vn("PlatformDestroyListeners");class HA{constructor(l,c){this.name=l,this.token=c}}function qw(a,l,c=[]){const d=`Platform: ${l}`,f=new vn(d);return(m=[])=>{let v=dy();if(!v||v.injector.get(_u,!1)){const C=[...c,...m,{provide:f,useValue:!0}];a?a(C):function uy(a){if(ea&&!ea.get(_u,!1))throw new Ce(400,!1);ea=a;const l=a.get(hy);(function mn(a){const l=a.get(uS,null);l&&l.forEach(c=>c())})(a)}(function za(a=[],l){return zc.create({name:l,providers:[{provide:Np,useValue:"platform"},{provide:ti,useValue:new Set([()=>ea=null])},...a]})}(C,d))}return function jA(a){const l=dy();if(!l)throw new Ce(401,!1);return l}()}}function dy(){return ea?.get(hy)??null}let hy=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function Um(a,l){let c;return c="noop"===a?new Gw:("zone.js"===a?void 0:a)||new Zs(l),c}(d?.ngZone,function Yw(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Zs,useValue:f}];return f.run(()=>{const v=zc.create({providers:m,parent:this.injector,name:c.moduleType.name}),C=c.create(v),E=C.injector.get(Qh,null);if(!E)throw new Ce(402,!1);return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:k=>{E.handleError(k)}});C.onDestroy(()=>{Gf(this._modules,C),T.unsubscribe()})}),function _S(a,l,c){try{const d=c();return T_(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(E,f,()=>{const T=C.injector.get(jf);return T.runInitializers(),T.donePromise.then(()=>(function Bd(a){$t(a,"Expected localeId to be defined"),"string"==typeof a&&(Pb=a.toLowerCase().replace(/_/g,"-"))}(C.injector.get(ay,Ef)||Ef),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,d=[]){const f=GA({},d);return function BA(a,l,c){const d=new W_(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(fy);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ce(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(ti,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Qn(zc))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function GA(a,l){return Array.isArray(l)?l.reduce(GA,a):{...a,...l}}let fy=(()=>{class a{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new F.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new F.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Zs.assertNotInAngularZone(),yr(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Zs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ce.T)(m,v.pipe((0,se.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof cd;if(!this._injector.get(jf).done)throw!f&&os(c),new Ce(405,false);let v;v=f?c:this._injector.get(g).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const C=function zw(a){return a.isBoundToModule}(v)?void 0:this._injector.get(du),T=v.create(zc.NULL,[],d||v.selector,C),k=T.location.nativeElement,N=T.injector.get(gu,null);return N?.registerApplication(k),T.onDestroy(()=>{this.detachView(T.hostView),Gf(this.components,T),N?.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Gf(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(dS,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Gf(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ce(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(c){return new(c||a)(Qn(Zs),Qn(zr),Qn(Qh))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Gf(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let yS=!0,vS=!1;function p1(){return vS=!0,yS}function m1(){if(vS)throw new Error("Cannot enable prod mode after platform setup.");yS=!1}let g1=(()=>{class a{}return a.__NG_ELEMENT_ID__=_1,a})();function _1(a){return function y1(a,l,c){if(ro(a)&&!c){const d=Zt(a.index,l);return new hf(d,d)}return 47&a.type?new hf(l[16],l):null}(Bn(),Me(),16==(16&a))}class SS{constructor(){}supports(l){return dm(l)}create(l){return new QA(l)}}const KA=(a,l)=>l;class QA{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||KA}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<Qw(d,f,m)?c:d,C=Qw(v,f,m),E=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{m||(m=[]);const T=C-f,k=E-f;if(T!=k){for(let q=0;q<T;q++){const ie=q<m.length?m[q]:m[q]=0,be=ie+q;k<=be&&be<T&&(m[q]=ie+1)}m[v.previousIndex]=k-T}}C!==E&&l(v,C,E)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!dm(l))throw new Ce(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],v=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,C),d=!0),c=c._next}else f=0,function ET(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Ad()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,f)):l=this._addAfter(new XA(c,d),m,f),l}_verifyReinsertion(l,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new qf),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qf),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class XA{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JA{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class qf{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new JA,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qw(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class jm{constructor(){}supports(l){return l instanceof Map||Wv(l)}create(){return new IS}}class IS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Wv(l)))throw new Ce(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new ex(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class ex{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MS(){return new Xw([new SS])}let Xw=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||MS()),deps:[[a,new et,new He]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Ce(901,!1)}}return a.\u0275prov=rn({token:a,providedIn:"root",factory:MS}),a})();function Jw(){return new Gm([new jm])}let Gm=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Jw()),deps:[[a,new et,new He]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Ce(901,!1)}}return a.\u0275prov=rn({token:a,providedIn:"root",factory:Jw}),a})();const nx=qw(null,"core",[]);let t0=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Qn(fy))},a.\u0275mod=ut({type:a}),a.\u0275inj=Ut({}),a})();function AS(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(ct,Ee,P)=>{P.d(Ee,{Z:()=>Ce});var s=P(2090),te=P(4859),F=P(9681),ce=P(1877);class se{constructor(ye,ge){this._delegate=ye,this.firebase=ge,(0,F._addComponent)(ye,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ye,ge=F._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(ye);return!at.isInitialized()&&"EXPLICIT"===(null===(Je=at.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&at.initialize(),at.getImmediate({identifier:ge})}_removeServiceInstance(ye,ge=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(ge)}_addComponent(ye){(0,F._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,F._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ee=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function me(){const nt=function fe(nt){const ye={},ge={__esModule:!0,initializeApp:function Te(Ge,H={}){const _e=F.initializeApp(Ge,H);if((0,s.r3)(ye,_e.name))return ye[_e.name];const K=new nt(_e,ge);return ye[_e.name]=K,K},app:at,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function De(Ge){const H=Ge.name,_e=H.replace("-compat","");if(F._registerComponent(Ge)&&"PUBLIC"===Ge.type){const K=(ne=at())=>{if("function"!=typeof ne[_e])throw ee.create("invalid-app-argument",{appName:H});return ne[_e]()};void 0!==Ge.serviceProps&&(0,s.ZB)(K,Ge.serviceProps),ge[_e]=K,nt.prototype[_e]=function(...ne){return this._getService.bind(this,H).apply(this,Ge.multipleInstances?ne:[])}}return"PUBLIC"===Ge.type?ge[_e]:null},removeApp:function Je(Ge){delete ye[Ge]},useAsService:function Ue(Ge,H){return"serverAuth"===H?null:H},modularAPIs:F}};function at(Ge){if(!(0,s.r3)(ye,Ge=Ge||F._DEFAULT_ENTRY_NAME))throw ee.create("no-app",{appName:Ge});return ye[Ge]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function we(){return Object.keys(ye).map(Ge=>ye[Ge])}}),at.App=nt,ge}(se);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ye(ge){(0,s.ZB)(nt,ge)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),nt}(),G=new ce.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=j;!function xe(nt){(0,F.registerVersion)("@firebase/app-compat","0.1.34",nt)}()},9681:(ct,Ee,P)=>{P.r(Ee),P.d(Ee,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Js,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>nn,_addOrOverwriteComponent:()=>rn,_apps:()=>pn,_clearComponents:()=>Ka,_components:()=>Yn,_getProvider:()=>Ut,_registerComponent:()=>Gi,_removeServiceInstance:()=>hn,deleteApp:()=>la,getApp:()=>lr,getApps:()=>Fr,initializeApp:()=>ss,onLog:()=>ws,registerVersion:()=>cr,setLogLevel:()=>Zn});var s=P(5861),te=P(4859),F=P(1877),ce=P(2090),se=P(8766);class pe{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(Y=>{if(function ee(B){return"VERSION"===B.getComponent()?.type}(Y)){const Se=Y.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(Y=>Y).join(" ")}}const fe="@firebase/app",j=new F.Yd("@firebase/app"),$t="[DEFAULT]",Ye={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pn=new Map,Yn=new Map;function nn(B,$){try{B.container.addComponent($)}catch(Y){j.debug(`Component ${$.name} failed to register with FirebaseApp ${B.name}`,Y)}}function rn(B,$){B.container.addOrOverwriteComponent($)}function Gi(B){const $=B.name;if(Yn.has($))return j.debug(`There were multiple attempts to register component ${$}.`),!1;Yn.set($,B);for(const Y of pn.values())nn(Y,B);return!0}function Ut(B,$){const Y=B.container.getProvider("heartbeat").getImmediate({optional:!0});return Y&&Y.triggerHeartbeat(),B.container.getProvider($)}function hn(B,$,Y=$t){Ut(B,$).clearInstance(Y)}function Ka(){Yn.clear()}const Ni=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ar{constructor($,Y,Se){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},Y),this._name=Y.name,this._automaticDataCollectionEnabled=Y.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const Js="9.10.0";function ss(B,$={}){"object"!=typeof $&&($={name:$});const Y=Object.assign({name:$t,automaticDataCollectionEnabled:!1},$),Se=Y.name;if("string"!=typeof Se||!Se)throw Ni.create("bad-app-name",{appName:String(Se)});const Be=pn.get(Se);if(Be){if((0,ce.vZ)(B,Be.options)&&(0,ce.vZ)(Y,Be.config))return Be;throw Ni.create("duplicate-app",{appName:Se})}const ut=new te.H0(Se);for(const on of Yn.values())ut.addComponent(on);const yn=new ar(B,Y,ut);return pn.set(Se,yn),yn}function lr(B=$t){const $=pn.get(B);if(!$)throw Ni.create("no-app",{appName:B});return $}function Fr(){return Array.from(pn.values())}function la(B){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,s.Z)(function*(B){const $=B.name;pn.has($)&&(pn.delete($),yield Promise.all(B.container.getProviders().map(Y=>Y.delete())),B.isDeleted=!0)})).apply(this,arguments)}function cr(B,$,Y){var Se;let Be=null!==(Se=Ye[B])&&void 0!==Se?Se:B;Y&&(Be+=`-${Y}`);const ut=Be.match(/\s|\//),yn=$.match(/\s|\//);if(ut||yn){const on=[`Unable to register library "${Be}" with version "${$}":`];return ut&&on.push(`library name "${Be}" contains illegal characters (whitespace or "/")`),ut&&yn&&on.push("and"),yn&&on.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void j.warn(on.join(" "))}Gi(new te.wA(`${Be}-version`,()=>({library:Be,version:$}),"VERSION"))}function ws(B,$){if(null!==B&&"function"!=typeof B)throw Ni.create("invalid-log-argument");(0,F.Am)(B,$)}function Zn(B){(0,F.Ub)(B)}const Wn="firebase-heartbeat-store";let ai=null;function Cn(){return ai||(ai=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(B,$)=>{0===$&&B.createObjectStore(Wn)}}).catch(B=>{throw Ni.create("idb-open",{originalErrorMessage:B.message})})),ai}function ht(){return(ht=(0,s.Z)(function*(B){var $;try{return(yield Cn()).transaction(Wn).objectStore(Wn).get(wi(B))}catch(Y){if(Y instanceof ce.ZR)j.warn(Y.message);else{const Se=Ni.create("idb-get",{originalErrorMessage:null===($=Y)||void 0===$?void 0:$.message});j.warn(Se.message)}}})).apply(this,arguments)}function _n(B,$){return bi.apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(B,$){var Y;try{const Be=(yield Cn()).transaction(Wn,"readwrite");return yield Be.objectStore(Wn).put($,wi(B)),Be.done}catch(Se){if(Se instanceof ce.ZR)j.warn(Se.message);else{const Be=Ni.create("idb-set",{originalErrorMessage:null===(Y=Se)||void 0===Y?void 0:Y.message});j.warn(Be.message)}}})).apply(this,arguments)}function wi(B){return`${B.name}!${B.options.appId}`}class Cs{constructor($){this.container=$,this._heartbeatsCache=null;const Y=this.container.getProvider("app").getImmediate();this._storage=new en(Y),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var $=this;return(0,s.Z)(function*(){const Se=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Be=sn();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==Be&&!$._heartbeatsCache.heartbeats.some(ut=>ut.date===Be))return $._heartbeatsCache.heartbeats.push({date:Be,agent:Se}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(ut=>{const yn=new Date(ut.date).valueOf();return Date.now()-yn<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,s.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const Y=sn(),{heartbeatsToSend:Se,unsentEntries:Be}=function Lr(B,$=1024){const Y=[];let Se=B.slice();for(const Be of B){const ut=Y.find(yn=>yn.agent===Be.agent);if(ut){if(ut.dates.push(Be.date),W(Y)>$){ut.dates.pop();break}}else if(Y.push({agent:Be.agent,dates:[Be.date]}),W(Y)>$){Y.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:Y,unsentEntries:Se}}($._heartbeatsCache.heartbeats),ut=(0,ce.L)(JSON.stringify({version:2,heartbeats:Se}));return $._heartbeatsCache.lastSentHeartbeatDate=Y,Be.length>0?($._heartbeatsCache.heartbeats=Be,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),ut})()}}function sn(){return(new Date).toISOString().substring(0,10)}class en{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,s.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function yt(B){return ht.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var Y=this;return(0,s.Z)(function*(){var Se;if(yield Y._canUseIndexedDBPromise){const ut=yield Y.read();return _n(Y.app,{lastSentHeartbeatDate:null!==(Se=$.lastSentHeartbeatDate)&&void 0!==Se?Se:ut.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var Y=this;return(0,s.Z)(function*(){var Se;if(yield Y._canUseIndexedDBPromise){const ut=yield Y.read();return _n(Y.app,{lastSentHeartbeatDate:null!==(Se=$.lastSentHeartbeatDate)&&void 0!==Se?Se:ut.lastSentHeartbeatDate,heartbeats:[...ut.heartbeats,...$.heartbeats]})}})()}}function W(B){return(0,ce.L)(JSON.stringify({version:2,heartbeats:B})).length}!function z(B){Gi(new te.wA("platform-logger",$=>new pe($),"PRIVATE")),Gi(new te.wA("heartbeat",$=>new Cs($),"PRIVATE")),cr(fe,"0.7.33",B),cr(fe,"0.7.33","esm2017"),cr("fire-js","")}("")},4859:(ct,Ee,P)=>{P.d(Ee,{H0:()=>fe,wA:()=>F});var s=P(5861),te=P(2090);class F{constructor(j,G,Q){this.name=j,this.instanceFactory=G,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ce="[DEFAULT]";class se{constructor(j,G){this.name=j,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const G=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(G)){const Q=new te.BH;if(this.instancesDeferred.set(G,Q),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:G});Ve&&Q.resolve(Ve)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(j){var G;const Q=this.normalizeInstanceIdentifier(j?.identifier),Ve=null!==(G=j?.optional)&&void 0!==G&&G;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(xe){if(Ve)return null;throw xe}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ee(me){return"EAGER"===me.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[G,Q]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(G);try{const xe=this.getOrInitializeService({instanceIdentifier:Ve});Q.resolve(xe)}catch{}}}}clearInstance(j=ce){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,s.Z)(function*(){const G=Array.from(j.instances.values());yield Promise.all([...G.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...G.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ce){return this.instances.has(j)}getOptions(j=ce){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:G={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Q,options:G});for(const[xe,Ce]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(xe)&&Ce.resolve(Ve);return Ve}onInit(j,G){var Q;const Ve=this.normalizeInstanceIdentifier(G),xe=null!==(Q=this.onInitCallbacks.get(Ve))&&void 0!==Q?Q:new Set;xe.add(j),this.onInitCallbacks.set(Ve,xe);const Ce=this.instances.get(Ve);return Ce&&j(Ce,Ve),()=>{xe.delete(j)}}invokeOnInitCallbacks(j,G){const Q=this.onInitCallbacks.get(G);if(Q)for(const Ve of Q)try{Ve(j,G)}catch{}}getOrInitializeService({instanceIdentifier:j,options:G={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(me=j,me===ce?void 0:me),options:G}),this.instances.set(j,Q),this.instancesOptions.set(j,G),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch{}var me;return Q||null}normalizeInstanceIdentifier(j=ce){return this.component?this.component.multipleInstances?j:ce:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const G=this.getProvider(j.name);if(G.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);G.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const G=new se(j,this);return this.providers.set(j,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Ee,P)=>{P.d(Ee,{Am:()=>me,Ub:()=>fe,Yd:()=>ee,in:()=>te});const s=[];var te=(()=>{return(j=te||(te={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",te;var j})();const F={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ce=te.INFO,se={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},pe=(j,G,...Q)=>{if(G<j.logLevel)return;const Ve=(new Date).toISOString(),xe=se[G];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[xe](`[${Ve}]  ${j.name}:`,...Q)};class ee{constructor(G){this.name=G,this._logLevel=ce,this._logHandler=pe,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in te))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?F[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...G),this._logHandler(this,te.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...G),this._logHandler(this,te.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,te.INFO,...G),this._logHandler(this,te.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,te.WARN,...G),this._logHandler(this,te.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...G),this._logHandler(this,te.ERROR,...G)}}function fe(j){s.forEach(G=>{G.setLogLevel(j)})}function me(j,G){for(const Q of s){let Ve=null;G&&G.level&&(Ve=F[G.level]),Q.userLogHandler=null===j?null:(xe,Ce,...nt)=>{const ye=nt.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Ce>=(Ve??xe.logLevel)&&j({level:te[Ce].toLowerCase(),message:ye,args:nt,type:xe.name})}}}},8766:(ct,Ee,P)=>{P.d(Ee,{Lj:()=>Te,X3:()=>at});var s=P(5861);let F,ce;const ee=new WeakMap,fe=new WeakMap,me=new WeakMap,j=new WeakMap,G=new WeakMap;let xe={get(H,_e,K){if(H instanceof IDBTransaction){if("done"===_e)return fe.get(H);if("objectStoreNames"===_e)return H.objectStoreNames||me.get(H);if("store"===_e)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return ge(H[_e])},set:(H,_e,K)=>(H[_e]=K,!0),has:(H,_e)=>H instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in H};function ye(H){return"function"==typeof H?function nt(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(..._e){return H.apply(Je(this),_e),ge(ee.get(this))}:function(..._e){return ge(H.apply(Je(this),_e))}:function(_e,...K){const ne=H.call(Je(this),_e,...K);return me.set(ne,_e.sort?_e.sort():[_e]),ge(ne)}}(H):(H instanceof IDBTransaction&&function Ve(H){if(fe.has(H))return;const _e=new Promise((K,ne)=>{const oe=()=>{H.removeEventListener("complete",re),H.removeEventListener("error",Pe),H.removeEventListener("abort",Pe)},re=()=>{K(),oe()},Pe=()=>{ne(H.error||new DOMException("AbortError","AbortError")),oe()};H.addEventListener("complete",re),H.addEventListener("error",Pe),H.addEventListener("abort",Pe)});fe.set(H,_e)}(H),((H,_e)=>_e.some(K=>H instanceof K))(H,function se(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,xe):H)}function ge(H){if(H instanceof IDBRequest)return function Q(H){const _e=new Promise((K,ne)=>{const oe=()=>{H.removeEventListener("success",re),H.removeEventListener("error",Pe)},re=()=>{K(ge(H.result)),oe()},Pe=()=>{ne(H.error),oe()};H.addEventListener("success",re),H.addEventListener("error",Pe)});return _e.then(K=>{K instanceof IDBCursor&&ee.set(K,H)}).catch(()=>{}),G.set(_e,H),_e}(H);if(j.has(H))return j.get(H);const _e=ye(H);return _e!==H&&(j.set(H,_e),G.set(_e,H)),_e}const Je=H=>G.get(H);function at(H,_e,{blocked:K,upgrade:ne,blocking:oe,terminated:re}={}){const Pe=indexedDB.open(H,_e),Re=ge(Pe);return ne&&Pe.addEventListener("upgradeneeded",_t=>{ne(ge(Pe.result),_t.oldVersion,_t.newVersion,ge(Pe.transaction))}),K&&Pe.addEventListener("blocked",()=>K()),Re.then(_t=>{re&&_t.addEventListener("close",()=>re()),oe&&_t.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Re}function Te(H,{blocked:_e}={}){const K=indexedDB.deleteDatabase(H);return _e&&K.addEventListener("blocked",()=>_e()),ge(K).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ue=new Map;function Ge(H,_e){if(!(H instanceof IDBDatabase)||_e in H||"string"!=typeof _e)return;if(Ue.get(_e))return Ue.get(_e);const K=_e.replace(/FromIndex$/,""),ne=_e!==K,oe=De.includes(K);if(!(K in(ne?IDBIndex:IDBObjectStore).prototype)||!oe&&!we.includes(K))return;const re=function(){var Pe=(0,s.Z)(function*(Re,..._t){const Kt=this.transaction(Re,oe?"readwrite":"readonly");let $t=Kt.store;return ne&&($t=$t.index(_t.shift())),(yield Promise.all([$t[K](..._t),oe&&Kt.done]))[0]});return function(_t){return Pe.apply(this,arguments)}}();return Ue.set(_e,re),re}!function Ce(H){xe=H(xe)}(H=>({...H,get:(_e,K,ne)=>Ge(_e,K)||H.get(_e,K,ne),has:(_e,K)=>!!Ge(_e,K)||H.has(_e,K)}))},5861:(ct,Ee,P)=>{function s(F,ce,se,pe,ee,fe,me){try{var j=F[fe](me),G=j.value}catch(Q){return void se(Q)}j.done?ce(G):Promise.resolve(G).then(pe,ee)}function te(F){return function(){var ce=this,se=arguments;return new Promise(function(pe,ee){var fe=F.apply(ce,se);function me(G){s(fe,pe,ee,me,j,"next",G)}function j(G){s(fe,pe,ee,me,j,"throw",G)}me(void 0)})}}P.d(Ee,{Z:()=>te})}},ct=>{ct(ct.s=4762)}]);